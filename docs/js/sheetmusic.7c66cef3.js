(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["sheetmusic"],{"159b":function(t,e,r){var n=r("da84"),i=r("fdbc"),a=r("17c2"),o=r("9112");for(var s in i){var u=n[s],c=u&&u.prototype;if(c&&c.forEach!==a)try{o(c,"forEach",a)}catch(l){c.forEach=a}}},"17c2":function(t,e,r){"use strict";var n=r("b727").forEach,i=r("a640"),a=r("ae40"),o=i("forEach"),s=a("forEach");t.exports=o&&s?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,e,r){"use strict";var n=r("23e7"),i=r("17c2");n({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"5e54":function(t,e,r){t.exports=r.p+"img/announcement.dc668063.png"},"62e4":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAWCAYAAAAvg9c4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJMSURBVHgBzZI/TBNRHMd/77WFk8L1aS0KhvhqjNGq5BhEF0lLorZOVjYdjCQYNohOOoiTcZPEmJhoDJuDSjsZ/wy1Dk4kPYmhk/YYCFClHkK1pXfv7Jm0cse1nA0D3+SGy/v9Pu/7vr+fAxoQORymTe0HU06fP1n69nXBfI6hASkONHLTi6C7GSfcgTOC+RxBg+ID51IfuxwwlFXpdJGF8jPvxIahhAaJp42L3fMC5TCiPxmIj5aZAfxfz9ez5FubE0/2oODpFkxPcAg+/GZ02IOl9VHYduoOnBcOuFisDKT7nMa2sSVV7tuBpYpjZPU8pYUb8WIIUhcirUgjn0sguTESnu9F4HEAMfek1wAG5lXxgQ/D7RwzOuWPRkZPcTA27AHSyxnvu7XEoI/DcththM4pANeyqvhJfNPDH4uMq040Ue0kwgXSqRUzLzsQaauR9JyilT8Evdw/4GCWSV8AQgXxtVSpq7bLYlyeLaHQYFaTV5g1VM8ynmcQW9X+/l//vhGoa0Om+kC6OS3xtL22Yz2KRQXJSVXrMQMNTivKz7wSpwv1Hd8tT3FBZZIV0BJaAZcnfvXKIoNa4EMuTKGGLKH6ku/27bq/P3pWrge2DdWBOzu9iYtDUTr1fkpOF1jUKoqswiRb0PXAyceT0nwuF1pJv42bM9ZXKVWE5KZQK2BlEObhPVzWYK0JjUM96UB//+XMjWcvNH//pQwnhKlVnb5uXccjP/hA+M6WAKv1QpDAZuKPhCfsAu0KdZwcSCEHms39Wh2ttczbQn8AOaEctU2ImhkAAAAASUVORK5CYII="},"767e":function(t,e,r){t.exports=r.p+"img/annotate.7ee42859.png"},"7b93":function(t,e,r){t.exports=r.p+"img/dictionary.8b55ecb0.png"},"9e77":function(t,e,r){t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s="fb15")}({8875:function(t,e,r){var n,i,a;(function(r,o){i=[],n=o,a="function"===typeof n?n.apply(e,i):n,void 0===a||(t.exports=a)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(d){var r,n,i,a=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,o=/@([^@]*):(\d+):(\d+)\s*$/gi,s=a.exec(d.stack)||o.exec(d.stack),u=s&&s[1]||!1,c=s&&s[2]||!1,l=document.location.href.replace(document.location.hash,""),p=document.getElementsByTagName("script");u===l&&(r=document.documentElement.outerHTML,n=new RegExp("(?:[^\\n]+?\\n){0,"+(c-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=r.replace(n,"$1").trim());for(var f=0;f<p.length;f++){if("interactive"===p[f].readyState)return p[f];if(p[f].src===u)return p[f];if(u===l&&p[f].innerHTML&&p[f].innerHTML.trim()===i)return p[f]}return null}}return t}))},fb15:function(t,e,r){"use strict";if(r.r(e),"undefined"!==typeof window){var n=window.document.currentScript,i=r("8875");n=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var a=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(r.p=a[1])}var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._t("default")],2)},s=[];function u(t){return"undefined"===typeof t}var c=function(){var t=function(){function t(){this._eventHandler={},this.options={}}var e=t.prototype;return e.trigger=function(t,e){void 0===e&&(e={});var r=this._eventHandler[t]||[],n=r.length>0;if(!n)return!0;r=r.concat(),e.eventType=t;var i=!1,a=[e],o=0;e.stop=function(){i=!0},e.currentTarget=this;for(var s=arguments.length,u=new Array(s>2?s-2:0),c=2;c<s;c++)u[c-2]=arguments[c];for(u.length>=1&&(a=a.concat(u)),o=0;r[o];o++)r[o].apply(this,a);return!i},e.once=function(t,e){if("object"===typeof t&&u(e)){var r,n=t;for(r in n)this.once(r,n[r]);return this}if("string"===typeof t&&"function"===typeof e){var i=this;this.on(t,(function r(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];e.apply(i,a),i.off(t,r)}))}return this},e.hasOn=function(t){return!!this._eventHandler[t]},e.on=function(t,e){if("object"===typeof t&&u(e)){var r,n=t;for(r in n)this.on(r,n[r]);return this}if("string"===typeof t&&"function"===typeof e){var i=this._eventHandler[t];u(i)&&(this._eventHandler[t]=[],i=this._eventHandler[t]),i.push(e)}return this},e.off=function(t,e){if(u(t))return this._eventHandler={},this;if(u(e)){if("string"===typeof t)return this._eventHandler[t]=void 0,this;var r,n=t;for(r in n)this.off(r,n[r]);return this}var i,a,o=this._eventHandler[t];if(o)for(i=0;void 0!==(a=o[i]);i++)if(a===e){o=o.splice(i,1);break}return this},t}();return t.VERSION="2.1.2",t}(),l=c;function p(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.map((function(e){return e.split(" ").map((function(e){return e?""+t+e:""})).join(" ")})).join(" ")}function f(t,e){return e.replace(/([^}{]*){/gm,(function(e,r){return r.replace(/\.([^{,\s\d.]+)/g,"."+t+"$1")+"{"}))}function d(t,e){return function(r){r&&(t[e]=r)}}function h(t,e,r){return function(n){n&&(t[e][r]=n)}}function v(t,e){return function(r){var n=r.prototype;t.forEach((function(t){e(n,t)}))}}function g(t,e){return void 0===e&&(e={}),function(r,n){t.forEach((function(t){var i=e[t]||t;r[i]||(r[i]=function(){for(var e,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=(e=this[n])[t].apply(e,r);return a===this[n]?this:a})}))}}var m=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(t){return this.values[this.keys.indexOf(t)]},e.set=function(t,e){var r=this.keys,n=this.values,i=r.indexOf(t),a=-1===i?r.length:i;r[a]=t,n[a]=e},t}(),b=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(t){return this.object[t]},e.set=function(t,e){this.object[t]=e},t}(),y="function"===typeof Map,x=function(){function t(){}var e=t.prototype;return e.connect=function(t,e){this.prev=t,this.next=e,t&&(t.next=this),e&&(e.prev=this)},e.disconnect=function(){var t=this.prev,e=this.next;t&&(t.next=e),e&&(e.prev=t)},e.getIndex=function(){var t=this,e=-1;while(t)t=t.prev,++e;return e},t}();function S(t,e){var r=[],n=[];return t.forEach((function(t){var e=t[0],i=t[1],a=new x;r[e]=a,n[i]=a})),r.forEach((function(t,e){t.connect(r[e-1])})),t.filter((function(t,r){return!e[r]})).map((function(t,e){var i=t[0],a=t[1];if(i===a)return[0,0];var o=r[i],s=n[a-1],u=o.getIndex();o.disconnect(),s?o.connect(s,s.next):o.connect(void 0,r[0]);var c=o.getIndex();return[u,c]}))}var E=function(){function t(t,e,r,n,i,a,o,s){this.prevList=t,this.list=e,this.added=r,this.removed=n,this.changed=i,this.maintained=a,this.changedBeforeAdded=o,this.fixed=s}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var t=S(this.changedBeforeAdded,this.fixed),e=this.changed,r=[];this.cacheOrdered=t.filter((function(t,n){var i=t[0],a=t[1],o=e[n],s=o[0],u=o[1];if(i!==a)return r.push([s,u]),!0})),this.cachePureChanged=r},t}();function w(t,e,r){var n=y?Map:r?b:m,i=r||function(t){return t},a=[],o=[],s=[],u=t.map(i),c=e.map(i),l=new n,p=new n,f=[],d=[],h={},v=[],g=0,x=0;return u.forEach((function(t,e){l.set(t,e)})),c.forEach((function(t,e){p.set(t,e)})),u.forEach((function(t,e){var r=p.get(t);"undefined"===typeof r?(++x,o.push(e)):h[r]=x})),c.forEach((function(t,e){var r=l.get(t);"undefined"===typeof r?(a.push(e),++g):(s.push([r,e]),x=h[e]||0,f.push([r-x,e-g]),d.push(e===r),r!==e&&v.push([r,e]))})),o.reverse(),new E(t,e,a,o,v,s,f,d)}var M=function(){function t(t,e){void 0===t&&(t=[]),this.findKeyCallback=e,this.list=[].slice.call(t)}var e=t.prototype;return e.update=function(t){var e=[].slice.call(t),r=w(this.list,e,this.findKeyCallback);return this.list=e,r},t}(),D=M,C="function",O="object",R="string",P="undefined",z=(typeof document!==P&&document,['"',"'",'\\"',"\\'"]);function B(t,e,r,n){return(t*n+e*r)/(r+n)}function A(t){return typeof t===P}function _(t){return t&&typeof t===O}function G(t){return Array.isArray(t)}function T(t){return typeof t===R}function N(t){return typeof t===C}function I(t,e,r,n){for(var i=r;i<n;++i){var a=e[i].trim();if(a===t)return i;var o=i;if("("===a?o=I(")",e,i+1,n):z.indexOf(a)>-1&&(o=I(a,e,i+1,n)),-1===o)break;i=o}return-1}function j(t,e){for(var r="(\\s*"+(e||",")+"\\s*|\\(|\\)|\"|'|\\\\\"|\\\\'|\\s+)",n=new RegExp(r,"g"),i=t.split(n).filter(Boolean),a=i.length,o=[],s=[],u=0;u<a;++u){var c=i[u].trim(),l=u;if("("===c)l=I(")",i,u+1,a);else{if(")"===c)throw new Error("invalid format");if(z.indexOf(c)>-1)l=I(c,i,u+1,a);else if(c===e){s.length&&(o.push(s.join("")),s=[]);continue}}-1===l&&(l=a-1),s.push(i.slice(u,l+1).join("")),u=l}return s.length&&o.push(s.join("")),o}function k(t){return j(t,"")}function L(t){return j(t,",")}function X(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function Y(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var r=e[1],n=e[2],i=e[3];return{prefix:r,unit:i,value:parseFloat(n)}}function q(t){return t.replace(/[\s-_]([a-z])/g,(function(t,e){return e.toUpperCase()}))}function W(t,e){return void 0===e&&(e="-"),t.replace(/([a-z])([A-Z])/g,(function(t,r,n){return""+r+e+n.toLowerCase()}))}function H(){return Date.now?Date.now():(new Date).getTime()}function F(t,e,r){void 0===r&&(r=-1);for(var n=t.length,i=0;i<n;++i)if(e(t[i],i,t))return i;return r}function V(t,e,r){var n=F(t,e);return n>-1?t[n]:r}function U(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function $(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function K(t,e){if(t.classList)t.classList.remove(e);else{var r=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(r," ")}}function Z(t,e,r,n){t.addEventListener(e,r,n)}function J(t,e,r){t.removeEventListener(e,r)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Q=function(t,e){return Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Q(t,e)};function tt(t,e){function r(){this.constructor=t}Q(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var et=function(){return et=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},et.apply(this,arguments)};function rt(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function nt(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function it(t,e){if(t===e)return!1;for(var r in t)if(!(r in e))return!0;for(var r in e)if(t[r]!==e[r])return!0;return!1}function at(t,e){var r=Object.keys(t),n=Object.keys(e),i=w(r,n,(function(t){return t})),a={},o={},s={};return i.added.forEach((function(t){var r=n[t];a[r]=e[r]})),i.removed.forEach((function(e){var n=r[e];o[n]=t[n]})),i.maintained.forEach((function(n){var i=n[0],a=r[i],o=[t[a],e[a]];t[a]!==e[a]&&(s[a]=o)})),{added:a,removed:o,changed:s}}function ot(t){t.forEach((function(t){t()}))}function st(t){var e=0;return t.map((function(t){return null==t?"$compat"+ ++e:""+t}))}function ut(t,e,r,n){if(T(t))return new bt("text_"+t,e,r,n,null,{});var i="string"===typeof t.type?yt:t.type.prototype.render?Mt:Et;return new i(t.type,e,r,n,t.ref,t.props)}function ct(t){var e=[];return t.forEach((function(t){e=e.concat(G(t)?ct(t):t)})),e}function lt(t){var e=t.className,r=rt(t,["className"]);return null!=e&&(r.class=e),delete r.style,delete r.children,r}function pt(t,e){if(!e)return t;for(var r in e)A(t[r])&&(t[r]=e[r]);return t}function ft(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=e||{},a=i.key,o=i.ref,s=rt(i,["key","ref"]);return{type:t,key:a,ref:o,props:et(et({},s),{children:ct(r).filter((function(t){return null!=t&&!1!==t}))})}}var dt=function(){function t(t,e,r,n,i,a){void 0===a&&(a={}),this.type=t,this.key=e,this.index=r,this.container=n,this.ref=i,this.props=a,this._providers=[]}var e=t.prototype;return e._should=function(t,e){return!0},e._update=function(t,e,r,n){if(this.base&&!T(e)&&!n&&!this._should(e.props,r))return!1;this.original=e,this._setState(r);var i=this.props;return T(e)||(this.props=e.props,this.ref=e.ref),this._render(t,this.base?i:{},r),!0},e._mounted=function(){var t=this.ref;t&&t(this.base)},e._setState=function(t){},e._updated=function(){var t=this.ref;t&&t(this.base)},e._destroy=function(){var t=this.ref;t&&t(null)},t}();function ht(t,e,r){var n=at(t,e),i=n.added,a=n.removed,o=n.changed;for(var s in i)r.setAttribute(s,i[s]);for(var s in o)r.setAttribute(s,o[s][1]);for(var s in a)r.removeAttribute(s)}function vt(t,e,r){var n=at(t,e),i=n.added,a=n.removed,o=n.changed;for(var s in a)r.removeEventListener(s);for(var s in i)r.addEventListener(s,i[s]);for(var s in o)r.removeEventListener(s),r.addEventListener(s,o[s][1]);for(var s in a)r.removeEventListener(s)}function gt(t,e,r){var n=r.style,i=at(t,e),a=i.added,o=i.removed,s=i.changed;for(var u in a){var c=W(u,"-");n.setProperty?n.setProperty(c,a[u]):n[c]=a[u]}for(var u in s){c=W(u,"-");n.setProperty?n.setProperty(c,s[u][1]):n[c]=s[u][1]}for(var u in o){c=W(u,"-");n.removeProperty?n.removeProperty(c):n[c]=""}}function mt(t){var e={},r={};for(var n in t)0===n.indexOf("on")?r[n.replace("on","").toLowerCase()]=t[n]:e[n]=t[n];return{attributes:e,events:r}}var bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}tt(e,t);var r=e.prototype;return r._render=function(t){var e=this,r=!this.base;return r&&(this.base=document.createTextNode(this.type.replace("text_",""))),t.push((function(){r?e._mounted():e._updated()})),!0},r._unmount=function(){this.base.parentNode.removeChild(this.base)},e}(dt),yt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.events={},e}tt(e,t);var r=e.prototype;return r.addEventListener=function(t,e){var r=this.events;r[t]=function(t){t.nativeEvent=t,e(t)},this.base.addEventListener(t,r[t])},r.removeEventListener=function(t){var e=this.events;this.base.removeEventListener(t,e[t]),delete e[t]},r._should=function(t){return it(this.props,t)},r._render=function(t,e){var r=this,n=!this.base;n&&(this.base=document.createElement(this.type)),Bt(this,this._providers,this.props.children,t,null);var i=this.base,a=mt(e),o=a.attributes,s=a.events,u=mt(this.props),c=u.attributes,l=u.events;return ht(lt(o),lt(c),i),vt(s,l,this),gt(e.style||{},this.props.style||{},i),t.push((function(){n?r._mounted():r._updated()})),!0},r._unmount=function(){var t=this.events,e=this.base;for(var r in t)e.removeEventListener(r,t[r]);this._providers.forEach((function(t){t._unmount()})),this.events={},e.parentNode.removeChild(e)},e}(dt);function xt(t){if(!t)return null;var e=t.base;return e instanceof Node?e:xt(t.container)}function St(t){if(!t)return null;if(t instanceof Node)return t;var e=t._provider._providers;return e.length?St(e[0].base):null}var Et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}tt(e,t);var r=e.prototype;return r._render=function(t){var e=this.type(this.props);return Bt(this,this._providers,e?[e]:[],t),!0},r._unmount=function(){this._providers.forEach((function(t){t._unmount()}))},e}(dt),wt=function(t){function e(e){var r=t.call(this,"container","container",0,null)||this;return r.base=e,r}tt(e,t);var r=e.prototype;return r._render=function(){return!0},r._unmount=function(){},e}(dt),Mt=function(t){function e(e,r,n,i,a,o){return void 0===o&&(o={}),t.call(this,e,r,n,i,a,pt(o,e.defaultProps))||this}tt(e,t);var r=e.prototype;return r._should=function(t,e){return this.base.shouldComponentUpdate(pt(t,this.type.defaultProps),e||this.base.state)},r._render=function(t,e,r){var n=this;this.props=pt(this.props,this.type.defaultProps);var i=!this.base;i?(this.base=new this.type(this.props),this.base._provider=this):this.base.props=this.props;var a=this.base,o=a.state,s=a.render();s&&s.props&&!s.props.children.length&&(s.props.children=this.props.children),Bt(this,this._providers,s?[s]:[],t,r,null),t.push((function(){i?(n._mounted(),a.componentDidMount()):(n._updated(),a.componentDidUpdate(e,o))}))},r._setState=function(t){if(t){var e=this.base;e.state=t}},r._unmount=function(){this._providers.forEach((function(t){t._unmount()})),this.base.componentWillUnmount()},e}(dt),Dt=function(){function t(t){void 0===t&&(t={}),this.props=t,this.state={}}var e=t.prototype;return e.shouldComponentUpdate=function(t,e){return!0},e.render=function(){return null},e.setState=function(t,e,r){var n=[],i=this._provider,a=Bt(i.container,[i],[i.original],n,et(et({},this.state),t),r);a&&(e&&n.push(e),ot(n))},e.forceUpdate=function(t){this.setState(this.state,t,!0)},e.componentDidMount=function(){},e.componentDidUpdate=function(t,e){},e.componentWillUnmount=function(){},t}(),Ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}tt(e,t);var r=e.prototype;return r.shouldComponentUpdate=function(t,e){return it(this.props,t)||it(this.state,e)},e}(Dt),Ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}tt(e,t);var r=e.prototype;return r.componentDidMount=function(){var t=this.props,e=t.element,r=t.container;this._portalProvider=new wt(r),At(e,r,this._portalProvider)},r.componentDidUpdate=function(){var t=this.props,e=t.element,r=t.container;At(e,r,this._portalProvider)},r.componentWillUnmount=function(){var t=this.props.container;At(null,t,this._portalProvider),this._portalProvider=null},e}(Ct);function Rt(t,e,r){var n=[];Bt(t,t._providers,e,n,r),ot(n)}function Pt(t,e){for(var r=t._providers,n=r.length,i=e.index+1;i<n;++i){var a=St(r[i].base);if(a)return a}return null}function zt(t,e,r){var n=r.map((function(t){return T(t)?null:t.key})),i=st(e.map((function(t){return t.key}))),a=st(n),o=w(i,a,(function(t){return t}));o.removed.forEach((function(t){e.splice(t,1)[0]._unmount()})),o.ordered.forEach((function(t){var r=t[0],n=t[1],i=e.splice(r,1)[0];e.splice(n,0,i);var a=St(i.base),o=St(e[n+1]&&e[n+1].base);a&&a.parentNode.insertBefore(a,o)})),o.added.forEach((function(i){e.splice(i,0,ut(r[i],n[i],i,t))}));var s=o.maintained.filter((function(i){i[0];var a=i[1],o=r[a],s=e[a],u=T(o)?"text_"+o:o.type;return u!==s.type?(s._unmount(),e.splice(a,1,ut(o,n[a],a,t)),!0):(s.index=a,!1)}));return nt(o.added,s.map((function(t){t[0];var e=t[1];return e})))}function Bt(t,e,r,n,i,a){var o=zt(t,e,r),s=e.filter((function(t,e){return t._update(n,r[e],i,a)})),u=xt(t);return u&&o.reverse().forEach((function(r){var n=e[r],i=St(n.base);if(i&&u!==i&&!i.parentNode){var a=Pt(t,n);u.insertBefore(i,a)}})),s.length>0}function At(t,e,r){void 0===r&&(r=e.__REACT_COMPAT__);var n=!!r;return r||(r=new wt(e)),Rt(r,t?[t]:[]),n||(e.__REACT_COMPAT__=r),r}function _t(t,e,r){var n=e.__REACT_COMPAT__;t&&!n&&(e.innerHTML=""),At(t,e,n),r&&r()}function Gt(t,e){return ft(Ot,{element:t,container:e})}var Tt="undefined"!==typeof window&&window||{},Nt=(Tt.RegExp,Tt.navigator),It={browser:[{criteria:"PhantomJS",identity:"PhantomJS"},{criteria:/Whale/,identity:"Whale",versionSearch:"Whale"},{criteria:/Edge/,identity:"Edge",versionSearch:"Edge"},{criteria:/MSIE|Trident|Windows Phone/,identity:"IE",versionSearch:"IEMobile|MSIE|rv"},{criteria:/MiuiBrowser/,identity:"MIUI Browser",versionSearch:"MiuiBrowser"},{criteria:/SamsungBrowser/,identity:"Samsung Internet",versionSearch:"SamsungBrowser"},{criteria:/SAMSUNG /,identity:"Samsung Internet",versionSearch:"Version"},{criteria:/Chrome|CriOS/,identity:"Chrome"},{criteria:/Android/,identity:"Android Browser",versionSearch:"Version"},{criteria:/iPhone|iPad/,identity:"Safari",versionSearch:"Version"},{criteria:"Apple",identity:"Safari",versionSearch:"Version"},{criteria:"Firefox",identity:"Firefox"}],os:[{criteria:/Windows Phone/,identity:"Windows Phone",versionSearch:"Windows Phone"},{criteria:"Windows 2000",identity:"Window",versionAlias:"5.0"},{criteria:/Windows NT/,identity:"Window",versionSearch:"Windows NT"},{criteria:/iPhone|iPad/,identity:"iOS",versionSearch:"iPhone OS|CPU OS"},{criteria:"Mac",versionSearch:"OS X",identity:"MAC"},{criteria:/Android/,identity:"Android"},{criteria:/Tizen/,identity:"Tizen"},{criteria:/Web0S/,identity:"WebOS"}],webview:[{criteria:/iPhone|iPad/,browserVersionSearch:"Version",webviewBrowserVersion:/-1/},{criteria:/iPhone|iPad|Android/,webviewToken:/NAVER|DAUM|; wv/}],defaultString:{browser:{version:"-1",name:"unknown"},os:{version:"-1",name:"unknown"}}};function jt(t,e){for(var r=[],n=0;n<t.length;n++)e(t[n])&&r.push(t[n]);return r}function kt(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return!0;return!1}var Lt=void 0;function Xt(t){Lt=t}function Yt(t,e){return e&&e.test?!!e.test(t):t.indexOf(e)>-1}function qt(t,e){var r=jt(t,(function(t){return Yt(Lt,t.criteria)}))[0];return r&&r.identity||e.name}function Wt(t,e){return jt(t,(function(t){var r=t.criteria,n=new RegExp(t.identity,"i").test(e);return!!(r?n&&Yt(Lt,r):n)}))[0]}function Ht(){return qt(It.browser,It.defaultString.browser)}function Ft(t){var e=Wt(It.browser,t);return e||(e={criteria:t,versionSearch:t,identity:t}),e}function Vt(t,e){var r=It.defaultString.browser.version,n=new RegExp("("+t+")","i").exec(e);if(!n)return r;var i=n.index,a=n[0];if(i>-1){var o=i+a.length+1;r=e.substring(o).split(" ")[0].replace(/_/g,".").replace(/;|\)/g,"")}return r}function Ut(t){if(t){var e=Ft(t),r=e.versionSearch||t,n=Vt(r,Lt);return n}}function $t(){var t=It.webview,e=void 0;return kt(jt(t,(function(t){return Yt(Lt,t.criteria)})),(function(t){return e=Vt(t.browserVersionSearch,Lt),!(!Yt(Lt,t.webviewToken)&&!Yt(e,t.webviewBrowserVersion))}))}function Kt(t){return Wt(It.os,t)}function Zt(){return qt(It.os,It.defaultString.os)}function Jt(t){var e=Kt(t)||{},r=It.defaultString.os.version,n=void 0;if(t){if(e.versionAlias)return e.versionAlias;var i=e.versionSearch||t,a=new RegExp("("+i+")\\s([\\d_\\.]+|\\d_0)","i"),o=a.exec(Lt);return o&&(n=a.exec(Lt)[2].replace(/_/g,".").replace(/;|\)/g,"")),n||r}}function Qt(){var t=Zt(),e=Jt(t);return{name:t,version:e}}function te(){var t=Ht(),e=Ut(t);return{name:t,version:e,webview:$t()}}function ee(){return-1!==Lt.indexOf("Mobi")}function re(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt.userAgent;Xt(t);var e={os:Qt(),browser:te(),isMobile:ee()};return e.browser.name=e.browser.name.toLowerCase(),e.os.name=e.os.name.toLowerCase(),e.os.version=e.os.version.toLowerCase(),"ios"===e.os.name&&e.browser.webview&&(e.browser.version="-1"),e}re.VERSION="2.1.6";var ne=re;function ie(t){var e=5381,r=t.length;while(r)e=33*e^t.charCodeAt(--r);return e>>>0}var ae=ie;function oe(t){return ae(t).toString(36)}function se(t){if(t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e}}function ue(t,e,r,n){var i=document.createElement("style");i.setAttribute("type","text/css"),i.setAttribute("data-styled-id",t),r.nonce&&i.setAttribute("nonce",r.nonce);var a=e;return r.original||(a=e.replace(/([^}{]*){/gm,(function(e,r){return L(r).map((function(e){return e.indexOf(":global")>-1?e.replace(/\:global/g,""):e.indexOf(":host")>-1?""+e.replace(/\:host/g,"."+t):"."+t+" "+e})).join(", ")+"{"}))),i.innerHTML=a,(n||document.head||document.body).appendChild(i),i}function ce(t){var e,r="rCS"+oe(t),n=0;return{className:r,inject:function(i,a){void 0===a&&(a={});var o,s=se(i),u=0===n;return(s||u)&&(o=ue(r,t,a,s)),u&&(e=o),s||++n,{destroy:function(){s?(i.removeChild(o),o=null):(n>0&&--n,0===n&&e&&(e.parentNode.removeChild(e),e=null))}}}}}var le=ce,pe=function(t,e){return pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},pe(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function fe(t,e){function r(){this.constructor=t}pe(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var de=function(){return de=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},de.apply(this,arguments)};function he(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function ve(t,e){var r,n=le(e);return r=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return fe(r,e),r.prototype.render=function(){var e=this.props,r=e.className,i=void 0===r?"":r,a=(e.cspNonce,he(e,["className","cspNonce"])),o=n.className;return ft(t,de({ref:d(this,"element"),"data-styled-id":o,className:i+" "+o},a))},r.prototype.componentDidMount=function(){this.injectResult=n.inject(this.element,{nonce:this.props.cspNonce})},r.prototype.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},r.prototype.getElement=function(){return this.element},r}(Dt),r.injector=n,r}var ge=ve,me=function(){return me=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},me.apply(this,arguments)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function be(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=Math.atan2(n,r);return i>=0?i:i+2*Math.PI}function ye(t){return be([t[0].clientX,t[0].clientY],[t[1].clientX,t[1].clientY])/Math.PI*180}function xe(t,e,r,n){var i=Re(t),a=Re(e),o=Re(n),s=Pe(n[0],ze(i,o)),u=Pe(n[0],ze(a,o));return we(s,u,r[0])}function Se(t){return t.touches&&t.touches.length>=2}function Ee(t){return t.touches?Ce(t.touches):[Oe(t)]}function we(t,e,r){var n=t.clientX,i=t.clientY,a=e.clientX,o=e.clientY,s=r.clientX,u=r.clientY,c=n-a,l=i-o,p=n-s,f=i-u;return{clientX:n,clientY:i,deltaX:c,deltaY:l,distX:p,distY:f}}function Me(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function De(t,e,r){return t.map((function(t,n){return we(t,e[n],r[n])}))}function Ce(t){for(var e=Math.min(t.length,2),r=[],n=0;n<e;++n)r.push(Oe(t[n]));return r}function Oe(t){return{clientX:t.clientX,clientY:t.clientY}}function Re(t){return 1===t.length?t[0]:{clientX:(t[0].clientX+t[1].clientX)/2,clientY:(t[0].clientY+t[1].clientY)/2}}function Pe(t,e){return{clientX:t.clientX+e.clientX,clientY:t.clientY+e.clientY}}function ze(t,e){return{clientX:t.clientX-e.clientX,clientY:t.clientY-e.clientY}}var Be=["textarea","input"],Ae=function(){function t(t,e){var r=this;void 0===e&&(e={}),this.options={},this.flag=!1,this.pinchFlag=!1,this.datas={},this.isDrag=!1,this.isPinch=!1,this.isMouse=!1,this.isTouch=!1,this.prevClients=[],this.startClients=[],this.movement=0,this.startPinchClients=[],this.startDistance=0,this.customDist=[0,0],this.targets=[],this.prevTime=0,this.isDouble=!1,this.startRotate=0,this.onDragStart=function(t,e){if(void 0===e&&(e=!0),r.flag||!1!==t.cancelable){var n=r.options,i=n.container,a=n.pinchOutside,o=n.dragstart,s=n.preventRightClick,u=n.preventDefault,c=n.checkInput,l=r.isTouch;if(!r.flag){var p=document.activeElement,f=t.target,d=f.tagName.toLowerCase(),h=Be.indexOf(d)>-1,v=f.isContentEditable;if(h||v){if(c||p===f)return!1;if(p&&v&&p.isContentEditable&&p.contains(f))return!1}else if((u||"touchstart"===t.type)&&p){var g=p.tagName;(p.isContentEditable||Be.indexOf(g)>-1)&&p.blur()}}var m=0;if(!r.flag&&l&&a&&(m=setTimeout((function(){Z(i,"touchstart",r.onDragStart,{passive:!1})}))),r.flag&&l&&a&&J(i,"touchstart",r.onDragStart),Se(t)){if(clearTimeout(m),!r.flag&&t.touches.length!==t.changedTouches.length)return;r.pinchFlag||r.onPinchStart(t)}if(!r.flag){var b=r.startClients[0]?r.startClients:Ee(t);r.customDist=[0,0],r.flag=!0,r.isDrag=!1,r.startClients=b,r.prevClients=b,r.datas={},r.movement=0;var y=we(b[0],r.prevClients[0],r.startClients[0]);if(s&&(3===t.which||2===t.button))return clearTimeout(m),r.initDrag(),!1;var x=o&&o(me({type:"dragstart",datas:r.datas,inputEvent:t,isTrusted:e},y));!1===x&&(clearTimeout(m),r.initDrag()),r.isDouble=H()-r.prevTime<200,r.flag&&u&&t.preventDefault()}}},this.onDrag=function(t,e){if(r.flag){var n=Ee(t);r.pinchFlag&&r.onPinch(t,n);var i=r.move([0,0],t,n);if(i&&(i.deltaX||i.deltaY)){var a=r.options.drag;a&&a(me({},i,{isScroll:!!e,inputEvent:t}))}}},this.onDragEnd=function(t){if(r.flag){var e=r.options,n=e.dragend,i=e.pinchOutside,a=e.container;r.isTouch&&i&&J(a,"touchstart",r.onDragStart),r.pinchFlag&&r.onPinchEnd(t),r.flag=!1;var o=r.prevClients,s=r.startClients,u=r.pinchFlag?xe(o,o,s,r.startPinchClients):we(o[0],o[0],s[0]),c=H(),l=!r.isDrag&&r.isDouble;r.prevTime=r.isDrag||l?0:c,r.startClients=[],r.prevClients=[],n&&n(me({type:"dragend",datas:r.datas,isDouble:l,isDrag:r.isDrag,inputEvent:t},u))}};var n=[].concat(t);this.options=me({checkInput:!1,container:n.length>1?window:n[0],preventRightClick:!0,preventDefault:!0,pinchThreshold:0,events:["touch","mouse"]},e);var i=this.options,a=i.container,o=i.events;if(this.isTouch=o.indexOf("touch")>-1,this.isMouse=o.indexOf("mouse")>-1,this.customDist=[0,0],this.targets=n,this.isMouse&&(n.forEach((function(t){Z(t,"mousedown",r.onDragStart)})),Z(a,"mousemove",this.onDrag),Z(a,"mouseup",this.onDragEnd),Z(a,"contextmenu",this.onDragEnd)),this.isTouch){var s={passive:!1};n.forEach((function(t){Z(t,"touchstart",r.onDragStart,s)})),Z(a,"touchmove",this.onDrag,s),Z(a,"touchend",this.onDragEnd,s),Z(a,"touchcancel",this.onDragEnd,s)}}var e=t.prototype;return e.isDragging=function(){return this.isDrag},e.isFlag=function(){return this.flag},e.isPinchFlag=function(){return this.pinchFlag},e.isPinching=function(){return this.isPinch},e.scrollBy=function(t,e,r,n){void 0===n&&(n=!0),this.flag&&(this.startClients.forEach((function(r){r.clientX-=t,r.clientY-=e})),this.prevClients.forEach((function(r){r.clientX-=t,r.clientY-=e})),n&&this.onDrag(r,!0))},e.move=function(t,e,r){var n=t[0],i=t[1];void 0===r&&(r=this.prevClients);var a=this.customDist,o=this.prevClients,s=this.startClients,u=this.pinchFlag?xe(r,o,s,this.startPinchClients):we(r[0],o[0],s[0]);a[0]+=n,a[1]+=i,u.deltaX+=n,u.deltaY+=i;var c=u.deltaX,l=u.deltaY;return u.distX+=a[0],u.distY+=a[1],this.movement+=Math.sqrt(c*c+l*l),this.prevClients=r,this.isDrag=!0,me({type:"drag",datas:this.datas},u,{movement:this.movement,isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:e})},e.onPinchStart=function(t){var e,r,n=this.options,i=n.pinchstart,a=n.pinchThreshold;if(!(this.isDrag&&this.movement>a)){var o=Ce(t.changedTouches);if(this.pinchFlag=!0,(e=this.startClients).push.apply(e,o),(r=this.prevClients).push.apply(r,o),this.startDistance=Me(this.prevClients),this.startPinchClients=this.prevClients.slice(),i){var s=this.prevClients,u=Re(s),c=we(u,u,u);this.startRotate=ye(s),i(me({type:"pinchstart",datas:this.datas,angle:this.startRotate,touches:De(s,s,s)},c,{inputEvent:t}))}}},e.onPinch=function(t,e){if(this.flag&&this.pinchFlag&&!(e.length<2)){this.isPinch=!0;var r=this.options.pinch;if(r){var n=this.prevClients,i=this.startClients,a=we(Re(e),Re(n),Re(i)),o=ye(e),s=Me(e);r(me({type:"pinch",datas:this.datas,movement:this.movement,angle:o,rotation:o-this.startRotate,touches:De(e,n,i),scale:s/this.startDistance,distance:s},a,{inputEvent:t}))}}},e.onPinchEnd=function(t){if(this.flag&&this.pinchFlag){var e=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var r=this.options.pinchend;if(r){var n=this.prevClients,i=this.startClients,a=we(Re(n),Re(n),Re(i));r(me({type:"pinchend",datas:this.datas,isPinch:e,touches:De(n,n,i)},a,{inputEvent:t})),this.isPinch=!1,this.pinchFlag=!1}}},e.triggerDragStart=function(t){this.onDragStart(t,!1)},e.unset=function(){var t=this,e=this.targets,r=this.options.container;this.isMouse&&(e.forEach((function(e){J(e,"mousedown",t.onDragStart)})),J(r,"mousemove",this.onDrag),J(r,"mouseup",this.onDragEnd),J(r,"contextmenu",this.onDragEnd)),this.isTouch&&(e.forEach((function(e){J(e,"touchstart",t.onDragStart)})),J(r,"touchstart",this.onDragStart),J(r,"touchmove",this.onDrag),J(r,"touchend",this.onDragEnd),J(r,"touchcancel",this.onDragEnd))},e.initDrag=function(){this.startClients=[],this.prevClients=[],this.flag=!1},t}();var _e=Ae,Ge=function(t,e){return Ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Ge(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Te(t,e){function r(){this.constructor=t}Ge(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function Ne(t){var e=t.container;return[e.scrollLeft,e.scrollTop]}var Ie=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startRect=null,e.startPos=[],e.prevTime=0,e.timer=0,e}Te(e,t);var r=e.prototype;return r.dragStart=function(t,e){var r=e.container.getBoundingClientRect(),n=r.top,i=r.left,a=r.width,o=r.height;this.startPos=[t.clientX,t.clientY],this.startRect={top:n,left:i,width:a,height:o}},r.drag=function(t,e){var r=this,n=t.clientX,i=t.clientY,a=e.container,o=e.threshold,s=void 0===o?0:o,u=e.throttleTime,c=void 0===u?0:u,l=e.getScrollPosition,p=void 0===l?Ne:l,f=this,d=f.startRect,h=f.startPos,v=H(),g=Math.max(c+this.prevTime-v,0),m=[0,0];if(d.top>i-s?(h[1]>d.top||i<h[1])&&(m[1]=-1):d.top+d.height<i+s&&(h[1]<d.top+d.height||i>h[1])&&(m[1]=1),d.left>n-s?(h[0]>d.left||n<h[0])&&(m[0]=-1):d.left+d.width<n+s&&(h[0]<d.left+d.width||n>h[0])&&(m[0]=1),clearTimeout(this.timer),!m[0]&&!m[1])return!1;if(g>0)return this.timer=window.setTimeout((function(){r.drag(t,e)}),g),!1;this.prevTime=v;var b=p({container:a,direction:m});this.trigger("scroll",{container:a,direction:m,inputEvent:t});var y=p({container:a,direction:m}),x=y[0]-b[0],S=y[1]-b[1];return!(!x&&!S)&&(this.trigger("move",{offsetX:m[0]?x:0,offsetY:m[1]?S:0,inputEvent:t}),c&&(this.timer=window.setTimeout((function(){r.drag(t,e)}),c)),!0)},r.dragEnd=function(){clearTimeout(this.timer)},e}(l),je=Ie,ke=function(t,e){return ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},ke(t,e)};function Le(t,e){function r(){this.constructor=t}ke(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Xe="function"===typeof Map?void 0:function(){var t=0;return function(e){return e.__DIFF_KEY__||(e.__DIFF_KEY__=++t)}}(),Ye=function(t){function e(e){return void 0===e&&(e=[]),t.call(this,e,Xe)||this}return Le(e,t),e}(D);var qe=Ye,We=function(t,e){return We=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},We(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function He(t,e){function r(){this.constructor=t}We(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Fe=function(){return Fe=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Fe.apply(this,arguments)};function Ve(t,e,r,n){var i,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,r,o):i(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o}function Ue(t,e){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'+32*t+'px" height="'+32*t+'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate('+e+'deg);transform-origin: 16px 16px"></path></svg>'}function $e(t){var e=Ue(1,t),r=Ue(2,t),n=45*Math.round(t/45)%180,i=135===n?"nwse-resize":45===n?"nesw-resize":90===n?"ew-resize":"ns-resize";return"cursor:"+i+";cursor: url('"+e+"') 16 16, "+i+";cursor: -webkit-image-set(url('"+e+"') 1x, url('"+r+"') 2x) 16 16, "+i+";"}var Ke=ne(("undefined"!==typeof navigator&&navigator||{}).userAgent||""),Ze=Ke.os.name.indexOf("ios")>-1||Ke.browser.name.indexOf("safari")>-1,Je="moveable-",Qe="\n{\n\tposition: fixed;\n\twidth: 1px;\n\theight: 1px;\n\tleft: 0;\n\ttop: 0;\n    z-index: 3000;\n    --zoom: 1;\n    --zoompx: 1px;\n}\n.control-box {\n    z-index: 0;\n}\n.line, .control {\n\tleft: 0;\n    top: 0;\n    will-change: transform;\n}\n.control {\n\tposition: absolute;\n\twidth: 14px;\n\theight: 14px;\n\tborder-radius: 50%;\n\tborder: 2px solid #fff;\n\tbox-sizing: border-box;\n\tbackground: #4af;\n\tmargin-top: -7px;\n    margin-left: -7px;\n    width: calc(14 * var(--zoompx));\n    height: calc(14 * var(--zoompx));\n    margin-top: calc(-7 * var(--zoompx));\n    margin-left: calc(-7 * var(--zoompx));\n    border: calc(2 * var(--zoompx)) solid #fff;\n    z-index: 10;\n}\n.padding {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 100px;\n    height: 100px;\n    transform-origin: 0 0;\n}\n.line {\n\tposition: absolute;\n\twidth: 1px;\n    height: 1px;\n    width: var(--zoompx);\n    height: var(--zoompx);\n\tbackground: #4af;\n\ttransform-origin: 0px 50%;\n}\n.line.dashed {\n    box-sizing: border-box;\n    background: transparent;\n}\n.line.dashed.horizontal {\n    border-top: 1px dashed #4af;\n    border-top: var(--zoompx) dashed #4af;\n}\n.line.dashed.vertical {\n    border-left: 1px dashed #4af;\n    border-left: var(--zoompx) dashed #4af;\n}\n.line.dashed:before {\n    position: absolute;\n    content: attr(data-size);\n    color: #4af;\n    font-size: 12px;\n    font-weight: bold;\n}\n.line.dashed.horizontal:before, .line.gap.horizontal:before {\n    left: 50%;\n    transform: translateX(-50%);\n    bottom: 5px;\n}\n.line.dashed.vertical:before, .line.gap.vertical:before {\n    top: 50%;\n    transform: translateY(-50%);\n    left: 5px;\n}\n.line.rotation-line {\n\theight: 40px;\n    width: 1px;\n    transform-origin: 50% calc(100% - 0.5px);\n    top: -40px;\n    width: var(--zoompx);\n    height: calc(40 * var(--zoompx));\n    top: calc(-40 * var(--zoompx));\n    transform-origin: 50% calc(100% - 0.5 * var(--zoompx));\n}\n.line.rotation-line .control {\n\tborder-color: #4af;\n\tbackground:#fff;\n    cursor: alias;\n    left: 50%;\n}\n.line.vertical {\n    transform: translateX(-50%);\n}\n.line.horizontal {\n    transform: translateY(-50%);\n}\n.line.vertical.bold {\n    width: 2px;\n    width: calc(2 * var(--zoompx));\n}\n.line.horizontal.bold {\n    height: 2px;\n    height: calc(2 * var(--zoompx));\n}\n\n.line.gap {\n    background: #f55;\n}\n.line.gap:before {\n    position: absolute;\n    content: attr(data-size);\n    color: #f55;\n    font-size: 12px;\n    font-weight: bold;\n}\n.control.origin {\n\tborder-color: #f55;\n\tbackground: #fff;\n\twidth: 12px;\n\theight: 12px;\n\tmargin-top: -6px;\n    margin-left: -6px;\n    width: calc(12 * var(--zoompx));\n    height: calc(12 * var(--zoompx));\n    margin-top: calc(-6 * var(--zoompx));\n    margin-left: calc(-6 * var(--zoompx));\n\tpointer-events: none;\n}\n"+[0,15,30,45,60,75,90,105,120,135,150,165].map((function(t){return'\n.direction[data-rotation="'+t+'"] {\n\t'+$e(t)+"\n}\n"})).join("\n")+"\n.group {\n    z-index: -1;\n}\n.area {\n    position: absolute;\n}\n.area-pieces {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: none;\n}\n.area.avoid {\n    pointer-events: none;\n}\n.area.avoid+.area-pieces {\n    display: block;\n}\n.area-piece {\n    position: absolute;\n}\n\n"+(Ze?':global svg *:before {\n\tcontent:"";\n\ttransform-origin: inherit;\n}':"")+"\n",tr=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],er=1e-7,rr=1e-9,nr=Math.pow(10,10),ir=-nr,ar=["nw","ne","sw","se","n","w","s","e"],or={n:[0,1],s:[2,3],w:[2,0],e:[1,3],nw:[0],ne:[1],sw:[2],se:[3]},sr={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},ur=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging"];function cr(t,e,r,n,i,a){for(var o=0;o<i;++o){var s=r+o*i,u=n+o*i;t[s]+=t[u]*a,e[s]+=e[u]*a}}function lr(t,e,r,n,i){for(var a=0;a<i;++a){var o=r+a*i,s=n+a*i,u=t[o],c=e[o];t[o]=t[s],t[s]=u,e[o]=e[s],e[s]=c}}function pr(t,e,r,n,i){for(var a=0;a<n;++a){var o=r+a*n;t[o]/=i,e[o]/=i}}function fr(t,e,r){void 0===r&&(r=Math.sqrt(t.length));for(var n=t.slice(),i=0;i<r;++i)n[i*r+e-1]=0,n[(e-1)*r+i]=0;return n[(e-1)*(r+1)]=1,n}function dr(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var r=t.slice(),n=Pr(e),i=0;i<e;++i){var a=e*i+i;if(0===r[a])for(var o=i+1;o<e;++o)if(r[e*i+o]){lr(r,n,i,o,e);break}if(!r[a])return[];pr(r,n,i,e,r[a]);for(o=0;o<e;++o){var s=o,u=o+i*e,c=r[u];0!==c&&i!==o&&cr(r,n,s,i,e,-c)}}return n}function hr(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var r=[],n=0;n<e;++n)for(var i=0;i<e;++i)r[i*e+n]=t[e*n+i];return r}function vr(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=Math.atan2(n,r);return i>=0?i:i+2*Math.PI}function gr(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var r=[],n=0;n<e-1;++n)r[n]=t[e*(e-1)+n];return r[e-1]=0,r}function mr(t,e){for(var r=t.slice(),n=t.length;n<e-1;++n)r[n]=0;return r[e-1]=1,r}function br(t,e,r){if(void 0===e&&(e=Math.sqrt(t.length)),e===r)return t;for(var n=Pr(r),i=Math.min(e,r),a=0;a<i-1;++a){for(var o=0;o<i-1;++o)n[a*r+o]=t[a*e+o];n[(a+1)*r-1]=t[(a+1)*e-1],n[(r-1)*r+a]=t[(e-1)*e+a]}return n[r*r-1]=t[e*e-1],n}function yr(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Pr(t);return e.forEach((function(e){n=xr(n,e,t)})),n}function xr(t,e,r){void 0===r&&(r=Math.sqrt(t.length));var n=[],i=t.length/r,a=e.length/i;if(!i)return e;if(!a)return t;for(var o=0;o<r;++o)for(var s=0;s<a;++s){n[s*r+o]=0;for(var u=0;u<i;++u)n[s*r+o]+=t[u*r+o]*e[s*i+u]}return n}function Sr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=t.length,n=0,i=r-1;i>=0;--i)n+=t[i];return r?n/r:0}function Er(t,e){for(var r=Math.min(t.length,e.length),n=t.slice(),i=0;i<r;++i)n[i]=n[i]+e[i];return n}function wr(t,e){for(var r=Math.min(t.length,e.length),n=t.slice(),i=0;i<r;++i)n[i]=n[i]-e[i];return n}function Mr(t,e){return void 0===e&&(e=6===t.length),e?[t[0],t[1],0,t[2],t[3],0,t[4],t[5],1]:t}function Dr(t,e){return void 0===e&&(e=9===t.length),e?[t[0],t[1],t[3],t[4],t[6],t[7]]:t}function Cr(t,e,r){void 0===r&&(r=e.length);var n=xr(t,e,r),i=n[r-1];return n.map((function(t){return t/i}))}function Or(t,e){return Cr(Rr(e,3),mr(t,3))}function Rr(t,e){var r=Math.cos(t),n=Math.sin(t),i=Pr(e);return i[0]=r,i[1]=n,i[e]=-n,i[e+1]=r,i}function Pr(t){for(var e=t*t,r=[],n=0;n<e;++n)r[n]=n%(t+1)?0:1;return r}function zr(t,e){for(var r=Pr(e),n=Math.min(t.length,e-1),i=0;i<n;++i)r[(e+1)*i]=t[i];return r}function Br(t,e){for(var r=Pr(e),n=Math.min(t.length,e-1),i=0;i<n;++i)r[e*(e-1)+i]=t[i];return r}function Ar(t,e,r,n,i,a,o,s){var u=t[0],c=t[1],l=e[0],p=e[1],f=r[0],d=r[1],h=n[0],v=n[1],g=i[0],m=i[1],b=a[0],y=a[1],x=o[0],S=o[1],E=s[0],w=s[1],M=[u,0,l,0,f,0,h,0,c,0,p,0,d,0,v,0,1,0,1,0,1,0,1,0,0,u,0,l,0,f,0,h,0,c,0,p,0,d,0,v,0,1,0,1,0,1,0,1,-g*u,-m*u,-b*l,-y*l,-x*f,-S*f,-E*h,-w*h,-g*c,-m*c,-b*p,-y*p,-x*d,-S*d,-E*v,-w*v],D=dr(M,8);if(!D.length)return[];var C=xr(D,[g,m,b,y,x,S,E,w],8);return C[8]=1,br(hr(C),3,4)}function _r(t,e){var r=e.datas,n=t.state,i=n.matrix,a=n.beforeMatrix,o=n.is3d,s=n.left,u=n.top,c=n.origin,l=n.offsetMatrix,p=n.targetMatrix,f=n.transformOrigin,d=o?4:3;r.is3d=o,r.matrix=i,r.targetMatrix=p,r.beforeMatrix=a,r.offsetMatrix=l,r.transformOrigin=f,r.inverseMatrix=dr(i,d),r.inverseBeforeMatrix=dr(a,d),r.absoluteOrigin=mr(Er([s,u],c),d),r.startDragBeforeDist=Cr(r.inverseBeforeMatrix,r.absoluteOrigin,d),r.startDragDist=Cr(r.inverseMatrix,r.absoluteOrigin,d)}function Gr(t,e){var r=t.datas,n=t.distX,i=t.distY,a=r.inverseBeforeMatrix,o=r.inverseMatrix,s=r.is3d,u=r.startDragBeforeDist,c=r.startDragDist,l=r.absoluteOrigin,p=s?4:3;return wr(Cr(e?a:o,Er(l,[n,i]),p),e?u:c)}function Tr(t,e){var r=t.datas,n=t.distX,i=t.distY,a=r.beforeMatrix,o=r.matrix,s=r.is3d,u=r.startDragBeforeDist,c=r.startDragDist,l=r.absoluteOrigin,p=s?4:3;return wr(Cr(e?a:o,Er(e?u:c,[n,i]),p),l)}function Nr(t,e,r,n,i,a){return void 0===n&&(n=e),void 0===i&&(i=r),void 0===a&&(a=[0,0]),t?t.map((function(t,o){var s=Y(t),u=s.value,c=s.unit,l=o?i:n,p=o?r:e;if("%"===t||isNaN(u)){var f=l?a[o]/l:0;return p*f}return"%"!==c?u:p*u/100})):a}function Ir(t){var e=[];return t[1]>=0&&(t[0]>=0&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(t[0]>=0&&e.push(1),t[0]<=0&&e.push(0)),e}function jr(t,e){return Ir(e).map((function(e){return t[e]}))}function kr(t,e){var r=jr(t,e);return[Sr.apply(void 0,r.map((function(t){return t[0]}))),Sr.apply(void 0,r.map((function(t){return t[1]})))]}function Lr(t,e){return kr(t,e.map((function(t){return-t})))}function Xr(t,e,r,n,i,a){var o=fn(e,r,n,i),s=Lr(o,a),u=t[0]-s[0],c=t[1]-s[1];return[u,c]}function Yr(t,e,r,n){return xr(t,Jr(e,n,r),n)}function qr(t,e){var r=t.transformOrigin,n=t.offsetMatrix,i=t.is3d,a=t.targetMatrix,o=i?4:3;return Yr(n,xr(a,zr(e,o),o),r,o)}function Wr(t,e,r,n){var i=t.state,a=i.is3d,o=i.left,s=i.top,u=i.width,c=i.height,l=a?4:3,p=t.props.groupable,f=qr(t.state,e),d=p?o:0,h=p?s:0,v=Xr(n,f,u,c,l,r);return wr(v,[d,h])}function Hr(t,e,r,n,i,a){var o=t.props.groupable,s=t.state,u=s.transformOrigin,c=s.targetMatrix,l=s.offsetMatrix,p=s.is3d,f=s.width,d=s.height,h=s.left,v=s.top,g=p?4:3,m=Nr(a,e,r,f,d,u),b=o?h:0,y=o?v:0,x=Yr(l,c,m,g),S=Xr(i,x,e,r,g,n);return wr(S,[b,y])}function Fr(t,e){if(!e[0]&&!e[1])return[0,0];var r=[-1,-1];return[e[0]?e[0]:-1*r[0],e[1]?e[1]:-1*r[1]]}function Vr(t,e){return Lr(Pn(t.state),e)}function Ur(t,e){return[t[0]*e[0],t[1]*e[1]]}function $r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return p.apply(void 0,[Je].concat(t))}function Kr(){return Pr(3)}function Zr(t){if(!t||"none"===t)return[1,0,0,1,0,0];if(_(t))return t;var e=X(t).value;return e.split(/s*,\s*/g).map((function(t){return parseFloat(t)}))}function Jr(t,e,r){return yr(e,Br(r,e),t,Br(r.map((function(t){return-t})),e))}function Qr(t,e,r){if("%"===e){var n=un(t.ownerSVGElement);return n[r?"width":"height"]/100}return 1}function tn(t){var e=en(kn(t,":before"));return e.map((function(e,r){var n=Y(e),i=n.value,a=n.unit;return i*Qr(t,a,0===r)}))}function en(t){var e=t.transformOrigin;return e?e.split(" "):["0","0"]}function rn(t,e,r){var n=document.body,i=!t||r?t:t.parentElement,a=!1,o="relative";while(i&&i!==n){e===i&&(a=!0);var s=kn(i),u=s.transform;if(o=s.position,"static"!==o||u&&"none"!==u)break;i=i.parentElement,o="relative"}return{isStatic:"static"===o,isEnd:a||!i||i===n,offsetParent:i||n}}function nn(t,e,r,n){var i,a=t.tagName.toLowerCase(),o=t.offsetLeft,s=t.offsetTop;if(n){var u=(e||document.documentElement).getBoundingClientRect();o-=u.left,s-=u.top}var c,l,p=A(o),f=!p;return f||"svg"===a?(c=en(r).map((function(t){return parseFloat(t)})),l=c.slice()):(c=Ze?tn(t):en(r).map((function(t){return parseFloat(t)})),l=c.slice(),f=!0,"g"===a?(o=0,s=0):(i=ln(t,c),o=i[0],s=i[1],c[0]=i[2],c[1]=i[3])),{isSVG:p,hasOffset:f,offset:[o,s],origin:c,targetOrigin:l}}function an(t,e,r){var n,i,a,o=t,s=[],u=!1,c=!1,l=3,p=rn(e,e,!0).offsetParent;r&&(u=t===e,r.length>10&&(c=!0,l=4),e=t.parentElement);while(o&&!u){var f=kn(o),d=o.tagName.toLowerCase(),h=f.position,v="fixed"===h,g=Mr(Zr(f.transform)),m=g.length;if(!c&&16===m){c=!0,l=4;for(var b=s.length,y=0;y<b;++y)s[y]=br(s[y],3,4)}c&&9===m&&(g=br(g,3,4));var x=nn(o,e,f,v),S=x.hasOffset,E=x.isSVG,w=x.origin,M=x.targetOrigin,D=x.offset,C=D[0],O=D[1];"svg"===d&&a&&s.push(cn(o,l),Pr(l));var R=rn(o,e),P=R.offsetParent,z=R.isEnd,B=R.isStatic;Ze&&S&&!E&&B&&("relative"===h||"static"===h)&&(C-=P.offsetLeft,O-=P.offsetTop,u=u||z);var A=0,_=0;if(S&&p!==P&&(A=P.clientLeft,_=P.clientTop),s.push(Jr(g,l,w),Br(S?[C-o.scrollLeft+A,O-o.scrollTop+_]:[o,w],l)),a||(a=g),n||(n=w),i||(i=M),u||v)break;o=P,u=z}return a||(a=Pr(l)),n||(n=[0,0]),i||(i=[0,0]),{offsetContainer:p,matrixes:s,targetMatrix:a,transformOrigin:n,targetTransformOrigin:i,is3d:c}}function on(t,e,r,n,i,a){var o=an(t,e,n),s=o.matrixes,u=o.is3d,c=o.targetMatrix,l=o.transformOrigin,p=o.targetTransformOrigin,f=o.offsetContainer,d=an(f,r,i),h=d.matrixes,v=d.is3d,g=v||u?4:3,m="svg"!==t.tagName.toLowerCase()&&"ownerSVGElement"in t,b=e||document.body,y=n?br(n,a,g):Pr(g),x=c,S=i?br(i,a,g):Pr(g),E=n?br(n,a,g):Pr(g),w=Pr(g),M=s.length,D=rn(b,b,!0).offsetParent;h.reverse(),s.reverse(),!u&&v&&(x=br(x,3,4),s.forEach((function(t,e){s[e]=br(t,3,4)}))),u&&!v&&h.forEach((function(t,e){h[e]=br(t,3,4)})),i||h.forEach((function(t){S=xr(S,t,g)})),s.forEach((function(t,e){var r;M-2===e&&(E=y.slice()),M-1===e&&(w=y.slice()),_(t[g*(g-1)])&&(r=vn(t[g*(g-1)],D,g,t[g*(g-1)+1],y,s[e+1]),t[g*(g-1)]=r[0],t[g*(g-1)+1]=r[1]),y=xr(y,t,g)}));var C=!m&&u;x||(x=Pr(C?4:3));var O=sn(m&&16===x.length?br(x,4,3):x,C);return S=fr(S,g,g),[S,E,w,y,x,O,l,p,u||v]}function sn(t,e){return void 0===e&&(e=t.length>9),(e?"matrix3d":"matrix")+"("+Dr(t,!e).join(",")+")"}function un(t){var e=t.clientWidth,r=t.clientHeight,n=t.viewBox,i=n&&n.baseVal||{x:0,y:0,width:0,height:0};return{x:i.x,y:i.y,width:i.width||e,height:i.height||r}}function cn(t,e){var r=t.clientWidth,n=t.clientHeight,i=un(t),a=i.width,o=i.height,s=r/a,u=n/o,c=t.preserveAspectRatio.baseVal,l=c.align,p=c.meetOrSlice,f=[0,0],d=[s,u],h=[0,0];if(1!==l){var v=(l-2)%3,g=Math.floor((l-2)/3);f[0]=a*v/2,f[1]=o*g/2;var m=2===p?Math.max(u,s):Math.min(s,u);d[0]=m,d[1]=m,h[0]=(r-a)/2*v,h[1]=(n-o)/2*g}var b=zr(d,e);return b[e*(e-1)]=h[0],b[e*(e-1)+1]=h[1],Jr(b,e,f)}function ln(t,e){if(!t.getBBox)return[0,0];var r=t.getBBox(),n=un(t.ownerSVGElement),i=r.x-n.x,a=r.y-n.y;return[i,a,e[0]-i,e[1]-a]}function pn(t,e,r){return Cr(t,mr(e,r),r)}function fn(t,e,r,n){return[[0,0],[e,0],[0,r],[e,r]].map((function(e){return pn(t,e,n)}))}function dn(t){var e=t.map((function(t){return t[0]})),r=t.map((function(t){return t[1]})),n=Math.min.apply(Math,e),i=Math.min.apply(Math,r),a=Math.max.apply(Math,e),o=Math.max.apply(Math,r),s=a-n,u=o-i;return{left:n,top:i,right:a,bottom:o,width:s,height:u}}function hn(t,e,r,n){var i=fn(t,e,r,n);return dn(i)}function vn(t,e,r,n,i,a){var o,s=En(t,void 0,!0),u=s[0],c=s[1],l=e.getBoundingClientRect(),p=t.getBoundingClientRect(),f=p.left-l.left+e.scrollLeft-(e.clientLeft||0),d=p.top-l.top+e.scrollTop-(e.clientTop||0),h=p.width,v=p.height,g=yr(r,i,a),m=hn(g,u,c,r),b=m.left,y=m.top,x=m.width,S=m.height,E=pn(g,n,r),w=wr(E,[b,y]),M=[f+w[0]*h/x,d+w[1]*v/S],D=[0,0],C=0;while(++C<10){var O=dr(i,r);o=wr(pn(O,M,r),pn(O,E,r)),D[0]=o[0],D[1]=o[1];var R=yr(r,i,Br(D,r),a),P=hn(R,u,c,r),z=P.left,B=P.top,A=z-f,_=B-d;if(Math.abs(A)<2&&Math.abs(_)<2)break;M[0]-=A,M[1]-=_}return D.map((function(t){return Math.round(t)}))}function gn(t,e,r,n){var i=16===t.length,a=i?4:3,o=fn(t,r,n,a),s=o[0],u=s[0],c=s[1],l=o[1],p=l[0],f=l[1],d=o[2],h=d[0],v=d[1],g=o[3],m=g[0],b=g[1],y=pn(t,e,a),x=y[0],S=y[1],E=Math.min(u,p,h,m),w=Math.min(c,f,v,b),M=Math.max(u,p,h,m),D=Math.max(c,f,v,b);u=u-E||0,p=p-E||0,h=h-E||0,m=m-E||0,c=c-w||0,f=f-w||0,v=v-w||0,b=b-w||0,x=x-E||0,S=S-w||0;var C=[(u+p+h+m)/4,(c+f+v+b)/4],O=vr(C,[u,c]),R=vr(C,[p,f]),P=O<R&&R-O<Math.PI||O>R&&R-O<-Math.PI?1:-1;return[[E,w,M,D],[x,S],[[u,c],[p,f],[h,v],[m,b]],P]}function mn(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function bn(t,e){return mn([e[0]-t[0],e[1]-t[1]])}function yn(t,e,r){void 0===r&&(r=vr(t,e));var n=bn(t,e);return{transform:"translateY(-50%) translate("+t[0]+"px, "+t[1]+"px) rotate("+r+"rad)",width:n+"px"}}function xn(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=e.length,i=e.reduce((function(t,e){return t+e[0]}),0)/n,a=e.reduce((function(t,e){return t+e[1]}),0)/n;return{transform:"translate("+i+"px, "+a+"px) rotate("+t+"rad)"}}function Sn(t){var e=window.getComputedStyle(t);return[parseFloat(e.width),parseFloat(e.height)]}function En(t,e,r,n){void 0===e&&(e=window.getComputedStyle(t)),void 0===n&&(n=r||"border-box"===e.boxSizing);var i=t.offsetWidth,a=t.offsetHeight,o=!A(i);if((r||n)&&o)return[i,a];if(!o&&"svg"!==t.tagName.toLowerCase()){var s=t.getBBox();return[s.width,s.height]}if(i=t.clientWidth,a=t.clientHeight,r||n){var u=parseFloat(e.borderLeftWidth)||0,c=parseFloat(e.borderRightWidth)||0,l=parseFloat(e.borderTopWidth)||0,p=parseFloat(e.borderBottomWidth)||0;return[i+u+c,a+l+p]}var f=parseFloat(e.paddingLeft)||0,d=parseFloat(e.paddingRight)||0,h=parseFloat(e.paddingTop)||0,v=parseFloat(e.paddingBottom)||0;return[i-f-d,a-h-v]}function wn(t,e){return vr(e>0?t[0]:t[1],e>0?t[1]:t[0])}function Mn(t,e,r,n,i,a){var o,s,u,c,l,p=0,f=0,d=0,h=0,v=[0,0],g=[[0,0],[0,0],[0,0],[0,0]],m=Kr(),b=Kr(),y=Kr(),x=Kr(),S=Kr(),E=0,w=0,M=[0,0],D=1,C=1,O=!1,R="",P=[0,0],z=Dn(),B=Dn(),_=Dn(),G=[0,0],T=0,N=a?a.beforeMatrix:void 0,I=a?a.rootMatrix:void 0,j=a?a.is3d?4:3:void 0;if(e){if(a)E=a.width,w=a.height;else{var k=kn(e);E=e.offsetWidth,w=e.offsetHeight,A(E)&&(o=En(e,k,!0),E=o[0],w=o[1])}s=on(e,r,i,N,I,j),m=s[0],y=s[1],b=s[2],x=s[3],S=s[4],R=s[5],M=s[6],G=s[7],O=s[8],u=gn(x,M,E,w),c=u[0],p=c[0],f=c[1],d=c[2],h=c[3],v=u[1],g=u[2],D=u[3];var L=O?4:3,X=[0,0];l=gn(b,Er(M,gr(S,L)),E,w),X=l[0],P=l[1],C=l[3],P=[P[0]+X[0]-p,P[1]+X[1]-f],z=Cn(e),B=Cn(rn(n,n,!0).offsetParent||document.body,!0),t&&(_=Cn(t)),T=wn([g[0],g[1]],D)}return{rotation:T,targetClientRect:z,containerClientRect:B,moveableClientRect:_,beforeDirection:C,direction:D,target:e,left:p,top:f,right:d,bottom:h,pos1:g[0],pos2:g[1],pos3:g[2],pos4:g[3],width:E,height:w,rootMatrix:m,beforeMatrix:y,offsetMatrix:b,targetMatrix:S,matrix:x,targetTransform:R,is3d:O,beforeOrigin:P,origin:v,transformOrigin:M,targetOrigin:G}}function Dn(){return{left:0,right:0,top:0,bottom:0,width:0,height:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function Cn(t,e){var r=t.getBoundingClientRect(),n=r.left,i=r.width,a=r.top,o=r.bottom,s=r.right,u=r.height,c={left:n,right:s,top:a,bottom:o,width:i,height:u};return e&&(c.clientLeft=t.clientLeft,c.clientTop=t.clientTop,c.clientWidth=t.clientWidth,c.clientHeight=t.clientHeight,c.scrollWidth=t.scrollWidth,c.scrollHeight=t.scrollHeight),c}function On(t){if(t){var e=t.getAttribute("data-direction");if(e){var r=[0,0];return e.indexOf("w")>-1&&(r[0]=-1),e.indexOf("e")>-1&&(r[0]=1),e.indexOf("n")>-1&&(r[1]=-1),e.indexOf("s")>-1&&(r[1]=1),r}}}function Rn(t,e){return[Er(e,t[0]),Er(e,t[1]),Er(e,t[2]),Er(e,t[3])]}function Pn(t){var e=t.left,r=t.top,n=t.pos1,i=t.pos2,a=t.pos3,o=t.pos4;return Rn([n,i,a,o],[e,r])}function zn(t){return Math.round(t%1===-.5?t-1:t)}function Bn(t,e){return e?Math.round(t/e)*e:t}function An(t,e){return t.forEach((function(r,n){t[n]=Bn(t[n],e)})),t}function _n(t,e){t[e]&&(t[e].unset(),t[e]=null)}function Gn(t,e,r){return(t[0]-e[0])*(r[1]-e[1])-(t[1]-e[1])*(r[0]-e[0])}function Tn(t,e,r,n,i){var a=Gn(t,e,r),o=Gn(t,r,n),s=Gn(t,n,e),u=Gn(t,r,n),c=Gn(t,n,i),l=Gn(t,i,r),p=[a,o,s],f=[u,c,l];return!!(p.every((function(t){return t>=0}))||p.every((function(t){return t<=0}))||f.every((function(t){return t>=0}))||f.every((function(t){return t<=0})))}function Nn(t,e,r){var n=e.datas;n.datas||(n.datas={});var i=Fe({},r,{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,datas:n.datas});return n.isStartEvent?n.lastEvent=i:n.isStartEvent=!0,i}function In(t,e,r){var n=e.datas,i="isDrag"in r?r.isDrag:e.isDrag;return n.datas||(n.datas={}),Fe({isDrag:i},r,{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,lastEvent:n.lastEvent,isDouble:e.isDouble,datas:n.datas})}function jn(t,e,r,n){return n&&Yo.prototype.triggerEvent.call(t,e,r),t.triggerEvent(e,r)}function kn(t,e){return window.getComputedStyle(t,e)}function Ln(t,e,r){var n={},i={};return t.filter((function(t){var a=t.name;if(n[a]||!e.some((function(e){return t[e]})))return!1;if(!r&&t.ableGroup){if(i[t.ableGroup])return!1;i[t.ableGroup]=!0}return n[a]=!0,!0}))}function Xn(t,e,r){return t*(e?r:1/r)}function Yn(t,e,r){return t*(e?1/r:r)}function qn(t,e){return t===e||null==t&&null==e}function Wn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=t.length-1,n=0;n<r;++n){var i=t[n];if(!A(i))return i}return t[r]}function Hn(t,e){var r=[],n=[];return t.forEach((function(i,a){var o=e(i,a,t),s=n.indexOf(o),u=r[s]||[];-1===s&&(n.push(o),r.push(u)),u.push(i)})),r}function Fn(t,e){var r=[],n={};return t.forEach((function(i,a){var o=e(i,a,t),s=n[o];s||(s=[],n[o]=s,r.push(s)),s.push(i)})),r}function Vn(t){return t.reduce((function(t,e){return t.concat(e)}),[])}function Un(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort((function(t,e){return Math.abs(e)-Math.abs(t)})),t[0]}function $n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort((function(t,e){return Math.abs(t)-Math.abs(e)})),t[0]}function Kn(t,e,r){return Cr(dr(t,r),mr(e,r),r)}function Zn(t,e){var r,n=t.is3d,i=t.rootMatrix,a=n?4:3;return r=Kn(i,[e.distX,e.distY],a),e.distX=r[0],e.distY=r[1],e}function Jn(t,e,r,n,i){return wr(pn(t,Er(r,e),i),n)}function Qn(t,e,r){return[[e[0],e[0]*t[1]/t[0]],[e[1]*t[0]/t[1],e[1]]].filter((function(t){return t.every((function(t,n){return r?t<=e[n]:t>=e[n]}))}))[0]||t}function ti(t,e,r,n){if(!n)return t.map((function(t,n){return Math.min(r[n],Math.max(t,e[n]))}));var i=t[0],a=t[1],o=Qn(t,e,!1),s=o[0],u=o[1],c=Qn(t,r,!0),l=c[0],p=c[1];return i<s||a<u?(i=s,a=u):(i>l||a>p)&&(i=l,a=p),[i,a]}function ei(t,e){var r=Y(t),n=r.value,i=r.unit;return"%"===i?n*e/100:n}function ri(t,e,r){return r?t/e*100+"%":t+"px"}function ni(t,e,r,n,i){var a=t[r],o=a.direction,s=a.pos,u=a.horizontal,c=a.vertical,l=a.sub,p=[n*Math.abs(u),i*Math.abs(c)];o&&!l?o.split("").forEach((function(r){var n="n"===r||"s"===r;t.forEach((function(t,i){var a=t.direction,o=t.horizontal,s=t.vertical,u=t.pos;a&&-1!==a.indexOf(r)&&(e[i]=Er(u,[n||!o?0:p[0],n&&s?p[1]:0]))}))})):e[r]=Er(s,p)}function ii(t,e){var r=e.clientX,n=e.clientY,i=e.datas,a=t.state,o=a.moveableClientRect,s=a.rootMatrix,u=a.is3d,c=a.pos1,l=o.left,p=o.top,f=u?4:3,d=wr(Kn(s,[r-l,n-p],f),c),h=d[0],v=d[1],g=Gr({datas:i,distX:h,distY:v}),m=g[0],b=g[1];return[m,b]}function ai(t){return Math.abs(t)<=er?0:t}function oi(t,e,r){var n=Nn(t,r,{isPinch:!!r.isPinch}),i=e?"Group":"";e&&(n.targets=t.props.targets),jn(t,"onRender"+i+"Start",n)}function si(t,e,r){var n=Nn(t,r,{isPinch:!!r.isPinch}),i=e?"Group":"";e&&(n.targets=t.props.targets),jn(t,"onRender"+i,n)}function ui(t,e,r){var n=Nn(t,r,{isPinch:!!r.sPinch,isDrag:r.isDrag}),i=e?"Group":"";e&&(n.targets=t.props.targets),jn(t,"onRender"+i+"End",n)}function ci(t,e,r,n,i,a,o){var s="Start"===i,u=t.state.target;if(!u||s&&n.indexOf("Control")>-1&&!a.isRequest&&t.areaElement===a.inputEvent.target)return!1;var c=""+r+n+i,l=""+r+n+"Condition",p="End"===i,f=i.indexOf("After")>-1,d=s&&(!t.targetDragger||!t.controlDragger||!t.targetDragger.isFlag()||!t.controlDragger.isFlag());d&&t.updateRect(i,!0,!1),""!==i||f||Zn(t.state,a);var h=n.indexOf("Group")>-1,v=t[e].slice();if(a.isRequest){var g=a.requestAble;v.some((function(t){return t.name===g}))||v.push.apply(v,t.props.ables.filter((function(t){return t.name===g})))}if(!v.length)return!1;var m=v.filter((function(t){return t[c]})),b=a.datas,y=b.render||(b.render={}),x=Fe({},a,{datas:y,originalDatas:b});d&&m.forEach((function(e){e.unset&&e.unset(t)}));var S=m.filter((function(e){var r=s&&e[l],n=e.name,i=b[n]||(b[n]={});return!(r&&!e[l](a,t))&&e[c](t,Fe({},a,{datas:i,originalDatas:b}))})),E=S.length;if(s){if(m.length&&!E)return t.state.dragger=null,t.moveables&&t.moveables.forEach((function(t){t.state.dragger=null})),!1;oi(t,h,x)}else p?ui(t,h,x):f&&!E||si(t,h,x);if(p&&(t.state.dragger=null),t.isUnmounted)return!1;(!s&&E&&!o||p)&&(S.some((function(t){return t.updateRect}))&&!h?t.updateRect(i,!1,!1):t.updateRect(i,!0,!1),t.forceUpdate()),s||p||f||!E||ci(t,e,r,n,i+"After",a)}function li(t,e,r){var n=t.controlBox.getElement(),i=[];i.push(n),t.props.dragArea||i.push(e);var a=function(e){var r=e.inputEvent.target,n=t.areaElement;return r===n||!t.isMoveableElement(r)||r.className.indexOf("moveable-area")>-1||r.className.indexOf("moveable-padding")>-1};return pi(t,i,"targetAbles",r,{dragstart:a,pinchstart:a})}function pi(t,e,r,n,i){void 0===i&&(i={});var a=t.props,o=a.pinchOutside,s=a.pinchThreshold,u={container:window,pinchThreshold:s,pinchOutside:o};return["drag","pinch"].forEach((function(e){["Start","","End"].forEach((function(a){var o=""+e+a.toLowerCase();u[o]=function(s){return!(i[o]&&!i[o](s))&&ci(t,r,e,n,a,s)}}))})),new _e(e,u)}var fi={name:"pinchable",updateRect:!0,props:{pinchable:Boolean},events:{onPinchStart:"pinchStart",onPinch:"pinch",onPinchEnd:"pinchEnd",onPinchGroupStart:"pinchGroupStart",onPinchGroup:"pinchGroup",onPinchGroupEnd:"pinchGroupEnd"},pinchStart:function(t,e){var r=e.datas,n=e.targets,i=e.angle,a=t.props,o=a.pinchable,s=a.ables;if(!o)return!1;var u="onPinch"+(n?"Group":"")+"Start",c="drag"+(n?"Group":"")+"ControlStart",l=(!0===o?t.controlAbles:s.filter((function(t){return o.indexOf(t.name)>-1}))).filter((function(t){return t.canPinch&&t[c]})),p=Nn(t,e,{});n&&(p.targets=n);var f=jn(t,u,p);r.isPinch=!1!==f,r.ables=l;var d=r.isPinch;return!!d&&(l.forEach((function(n){if(r[n.name+"Datas"]={},n[c]){var a=Fe({},e,{datas:r[n.name+"Datas"],parentRotate:i,isPinch:!0});n[c](t,a)}})),t.state.snapRenderInfo={request:e.isRequest,direction:[0,0]},d)},pinch:function(t,e){var r=e.datas,n=e.scale,i=e.distance,a=e.inputEvent,o=e.targets,s=e.angle;if(r.isPinch){var u=i*(1-1/n),c=Nn(t,e,{});o&&(c.targets=o);var l="onPinch"+(o?"Group":"");jn(t,l,c);var p=r.ables,f="drag"+(o?"Group":"")+"Control";return p.forEach((function(n){n[f]&&n[f](t,Fe({},e,{datas:r[n.name+"Datas"],inputEvent:a,parentDistance:u,parentRotate:s,isPinch:!0}))})),c}},pinchEnd:function(t,e){var r=e.datas,n=e.isPinch,i=e.inputEvent,a=e.targets;if(r.isPinch){var o="onPinch"+(a?"Group":"")+"End",s=In(t,e,{isDrag:n});a&&(s.targets=a),jn(t,o,s);var u=r.ables,c="drag"+(a?"Group":"")+"ControlEnd";return u.forEach((function(a){a[c]&&a[c](t,Fe({},e,{isDrag:n,datas:r[a.name+"Datas"],inputEvent:i,isPinch:!0}))})),n}},pinchGroupStart:function(t,e){return this.pinchStart(t,Fe({},e,{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,Fe({},e,{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,Fe({},e,{targets:t.props.targets}))}};function di(t,e,r,n,i){var a=t.dragger.move(e,r),o=a.originalDatas||a.datas,s=o.draggable||(o.draggable={});return Fe({},i?Zn(t,a):a,{isDrag:!0,isPinch:!!n,parentEvent:!0,datas:s})}var hi=function(){function t(){this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}}}var e=t.prototype;return e.dragStart=function(t,e){return this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},Fe({},this.move(t,e),{type:"dragstart"})},e.drag=function(t,e){return this.move([t[0]-this.prevX,t[1]-this.prevY],e)},e.move=function(t,e){var r,n;return this.isFlag?(r=this.prevX+t[0],n=this.prevY+t[1],this.isDrag=!0):(this.prevX=t[0],this.prevY=t[1],this.startX=t[0],this.startY=t[1],r=t[0],n=t[1],this.isFlag=!0),this.prevX=r,this.prevY=n,{type:"drag",clientX:r,clientY:n,inputEvent:e,isDrag:this.isDrag,distX:r-this.startX,distY:n-this.startY,deltaX:t[0],deltaY:t[1],datas:this.datas.draggable,originalDatas:this.datas,parentEvent:!0,parentDragger:this}},t}();function vi(t,e,r,n,i,a){var o=!!r.match(/Start$/g),s=!!r.match(/End$/g),u=i.inputEvent,c=i.isPinch,l=i.datas,p=t.moveables.map((function(t,i){var p={};o?p=(new hi).dragStart(n,u):(t.state.dragger||(t.state.dragger=l.childDraggers[i]),p=di(t.state,n,u,c,a));var f=e[r](t,Fe({},p,{parentFlag:!0}));return s&&(t.state.dragger=null),f}));return o&&(l.childDraggers=t.moveables.map((function(t){return t.state.dragger}))),p}function gi(t,e,r,n,i,a){var o=e.name,s=n[o]||(n[o]=[]),u=!!r.match(/End$/g),c=t.moveables.map((function(t,n){var o=s[n]||(s[n]={}),c=N(i)?i(t,o):i,l=e[r](t,Fe({},c,{datas:o,parentFlag:!0}));return l&&a&&a(t,o,l,n),u&&(t.state.dragger=null),l}));return c}function mi(t){return t.isRequest?("resizable"===t.requestAble||"scalable"===t.requestAble)&&t.parentDirection:U(t.inputEvent.target,$r("direction"))}function bi(t){var e={};for(var r in t)e[t[r]]=r;return e}function yi(t,e,r,n,i,a){var o=i[0],s=i[1],u=a[0],c=a[1],l=[],p=n?0:1,f="vertical"===e?"horizontal":"vertical",d=Hn(t.filter((function(t){var r=t.type;return r===e})),(function(t){var e=t.element;return e})).map((function(t){return t[0]})).filter((function(t){var e=t.pos,r=t.sizes;return e[p]<=c&&u<=e[p]+r[p]}));return d.forEach((function(t){var e=t.pos[n],i=e+t.sizes[n];d.forEach((function(t){var a=t.pos,u=t.sizes,c=t.element,p=a[n],h=p+u[n],v=0,g=0,m=!0;if(i<=p)g=i-p,v=h-g,o<v-r&&(m=!1);else{if(!(h<=e))return;g=e-h,v=p-g,s>v+r&&(m=!1)}if(m&&l.push({pos:"vertical"===f?[v,a[1]]:[a[0],v],element:c,sizes:u,size:0,type:f,gap:g,gapGuidelines:d}),i<=o&&s<=p){var b=(p+i-(s-o))/2;Bn(o-(b-r),.1)>=0&&l.push({pos:"vertical"===f?[b,a[1]]:[a[0],b],element:c,sizes:u,size:0,type:f,gap:i-o,gapGuidelines:d})}}))})),l}function xi(t){var e=t.state,r=e.guidelines,n=e.containerClientRect,i=n.scrollHeight,a=n.scrollWidth,o=t.props,s=o.snapHorizontal,u=void 0===s||s,c=o.snapVertical,l=void 0===c||c,p=o.snapGap,f=void 0===p||p,d=o.verticalGuidelines,h=o.horizontalGuidelines,v=o.snapThreshold,g=void 0===v?5:v,m=r.slice();if(f){var b=dn(Pn(t.state)),y=b.top,x=b.left,S=b.bottom,E=b.right,w=r.filter((function(t){var e=t.element;return e}));m.push.apply(m,yi(w,"horizontal",g,0,[x,E],[y,S]).concat(yi(w,"vertical",g,1,[y,S],[x,E])))}return u&&h&&h.forEach((function(t){m.push({type:"horizontal",pos:[0,Bn(t,.1)],size:a})})),l&&d&&d.forEach((function(t){m.push({type:"vertical",pos:[Bn(t,.1),0],size:i})})),m}function Si(t,e,r,n,i){var a=xi(t),o=t.props,s=o.snapElement,u=void 0===s||s,c=Wn(i,o.snapThreshold,5);return{vertical:Di(a,"vertical",e,c,n,u),horizontal:Di(a,"horizontal",r,c,n,u)}}function Ei(t,e,r){var n=r[0],i=r[1],a=e[0],o=e[1],s=wr(r,e),u=s[0],c=s[1],l=c>0,p=u>0;u=ai(u),c=ai(c);var f={isSnap:!1,offset:0,pos:0},d={isSnap:!1,offset:0,pos:0};if(0===u&&0===c)return{vertical:f,horizontal:d};var h=Si(t,u?[n]:[],c?[i]:[]),v=h.vertical,g=h.horizontal;v.posInfos.filter((function(t){var e=t.pos;return p?e>=a:e<=a})),g.posInfos.filter((function(t){var e=t.pos;return l?e>=o:e<=o})),v.isSnap=v.posInfos.length>0,g.isSnap=g.posInfos.length>0;var m=Mi(v),b=m.isSnap,y=m.guideline,x=Mi(g),S=x.isSnap,E=x.guideline,w=S?E.pos[1]:0,M=b?y.pos[0]:0;if(0===u)S&&(d.isSnap=!0,d.pos=E.pos[1],d.offset=i-d.pos);else if(0===c)b&&(f.isSnap=!0,f.pos=M,f.offset=n-M);else{var D=c/u,C=r[1]-D*n,O=0,R=0,P=!1;b?(R=M,O=D*R+C,P=!0):S&&(O=w,R=(O-C)/D,P=!0),P&&(f.isSnap=!0,f.pos=R,f.offset=n-R,d.isSnap=!0,d.pos=O,d.offset=i-O)}return{vertical:f,horizontal:d}}function wi(t,e,r,n){var i=t.props.snapCenter,a=i&&r,o=["left","right"],s=["top","bottom"];return a&&(o.push("center"),s.push("middle")),o=o.filter((function(t){return t in e})),s=s.filter((function(t){return t in e})),Si(t,o.map((function(t){return e[t]})),s.map((function(t){return e[t]})),a,n)}function Mi(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var r=t.posInfos[0],n=r.guidelineInfos[0],i=n.offset,a=n.dist,o=n.guideline;return{isSnap:e,offset:i,dist:a,pos:r.pos,guideline:o}}function Di(t,e,r,n,i,a){if(!t||!t.length)return{isSnap:!1,posInfos:[]};var o="vertical"===e,s=o?0:1,u=r.map((function(r){var o=t.map((function(t){var e=t.pos,n=r-e[s];return{offset:n,dist:Math.abs(n),guideline:t}})).filter((function(t){var r=t.guideline,o=t.dist,s=r.type,u=r.center,c=r.element;return!(!a&&c||!i&&u||s!==e||o>n)})).sort((function(t,e){return t.dist-e.dist}));return{pos:r,guidelineInfos:o}})).filter((function(t){return t.guidelineInfos.length>0})).sort((function(t,e){return t.guidelineInfos[0].dist-e.guidelineInfos[0].dist}));return{isSnap:u.length>0,posInfos:u}}function Ci(t,e,r){var n=[];if(r[0]&&r[1])n=[r,[-r[0],r[1]],[r[0],-r[1]]].map((function(t){return kr(e,t)}));else if(r[0]||r[1])t.props.keepRatio?n=[[-1,-1],[-1,1],[1,-1],[1,1],r].map((function(t){return kr(e,t)})):(n=jr(e,r),n.length>1&&n.push([(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]));else for(var i=[e[0],e[1],e[3],e[2],e[0]],a=0;a<4;++a)n.push(i[a]),n.push([(i[a][0]+i[a+1][0])/2,(i[a][1]+i[a+1][1])/2]);return Si(t,n.map((function(t){return t[0]})),n.map((function(t){return t[1]})),!0,1)}function Oi(t,e){return t.slice().sort((function(t,r){var n=t.sign[e],i=r.sign[e],a=t.offset[e],o=r.offset[e],s=Math.abs(a),u=Math.abs(o);return n?i?t.isBound&&r.isBound?u-s:t.isBound?-1:r.isBound?1:t.isSnap&&r.isSnap?s-u:t.isSnap?-1:r.isSnap||s<er?1:u<er?-1:s-u:-1:1}))[0]}function Ri(t,e){var r=Sr(e[0][0],e[1][0]),n=Sr(e[0][1],e[1][1]);return{vertical:r<=t[0],horizontal:n<=t[1]}}function Pi(t,e){var r,n,i=e[0],a=e[1],o=a[0]-i[0],s=a[1]-i[1];if(Math.abs(o)<er&&(o=0),Math.abs(s)<er&&(s=0),o)if(s){var u=s/o;r=u*(t[0]-i[0])+i[1],n=t[1]}else r=i[1],n=t[1];else r=i[0],n=t[0];return r-n}function zi(t,e,r){void 0===r&&(r=er);var n=Pi(t[0],e)<=0;return t.slice(1).every((function(t){var i=Pi(t,e),a=i<=0;return a===n||Math.abs(i)<=r}))}function Bi(t,e,r,n,i){return void 0===i&&(i=0),n&&e-i<=t||!n&&t<=r+i?{isBound:!0,offset:n?e-t:r-t}:{isBound:!1,offset:0}}function Ai(t,e,r){var n=t.props.innerBounds;if(!n)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var i=n.left,a=n.top,o=n.width,s=n.height,u=[[i,a],[i,a+s]],c=[[i,a],[i+o,a]],l=[[i+o,a],[i+o,a+s]],p=[[i,a+s],[i+o,a+s]],f=Ri(r,e),d=f.horizontal,h=f.vertical;if(zi([r,[i,a],[i+o,a],[i,a+s],[i+o,a+s]],e))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var v=_i(e,c,h),g=_i(e,p,h),m=_i(e,u,d),b=_i(e,l,d),y=v.isBound&&g.isBound,x=v.isBound||g.isBound,S=m.isBound&&b.isBound,E=m.isBound||b.isBound,w=Un(v.offset,g.offset),M=Un(m.offset,b.offset),D=[0,0],C=!1,O=!1;return Math.abs(M)<Math.abs(w)?(D=[w,0],C=x,O=y):(D=[0,M],C=E,O=S),{isAllBound:O,isVerticalBound:x,isHorizontalBound:E,isBound:C,offset:D}}function _i(t,e,r,n,i){var a=t[0],o=t[1],s=e[0],u=e[1],c=ai(o[1]-a[1]),l=ai(o[0]-a[0]),p=ai(u[1]-s[1]),f=ai(u[0]-s[0]);if(!f){if(i&&!c)return{isBound:!1,offset:0};if(l){var d=c/l*(s[0]-a[0])+a[1];return Bi(d,s[1],u[1],r,n)}var h=s[0]-a[0],v=Math.abs(h)<=(n||0);return{isBound:v,offset:v?h:0}}if(!p){if(i&&!l)return{isBound:!1,offset:0};if(c){var g=(s[1]-a[1])/(c/l)+a[0];return Bi(g,s[0],u[0],r,n)}h=s[1]-a[1],v=Math.abs(h)<=(n||0);return{isBound:v,offset:v?h:0}}return{isBound:!1,offset:0}}function Gi(t,e,r,n){return e.map((function(e){var i=e[0],a=e[1],o=e[2],s=Ai(t,[a,o],r),u=s.isBound,c=s.offset,l=s.isVerticalBound,p=s.isHorizontalBound,f=Gr({datas:n,distX:c[0],distY:c[1]}).map((function(t,e){return t*(i[e]?2/i[e]:0)}));return{sign:i,isBound:u,isVerticalBound:l,isHorizontalBound:p,isSnap:!1,offset:f}}))}function Ti(t,e,r){var n,i=Ii(e,[0,0],!1).map((function(t){var e=t[0],r=t[1],n=t[2];return[e.map((function(t){return 2*Math.abs(t)})),r,n]})),a=Gi(t,i,kr(e,[0,0]),r),o=Oi(a,0),s=Oi(a,1),u=0,c=0,l=o.isVerticalBound||s.isVerticalBound,p=o.isHorizontalBound||s.isHorizontalBound;return(l||p)&&(n=Tr({datas:r,distX:-o.offset[0],distY:-s.offset[1]}),u=n[0],c=n[1]),{vertical:{isBound:l,offset:u},horizontal:{isBound:p,offset:c}}}function Ni(t,e){var r=[],n=t[0],i=t[1];return n&&i?r.push([[0,2*i],t,[-n,i]],[[2*n,0],t,[n,-i]]):n?(r.push([[2*n,0],[n,1],[n,-1]]),e&&r.push([[0,-1],[n,-1],[-n,-1]],[[0,1],[n,1],[-n,1]])):i?(r.push([[0,2*i],[1,i],[-1,i]]),e&&r.push([[-1,0],[-1,i],[-1,-i]],[[1,0],[1,i],[1,-i]])):r.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),r}function Ii(t,e,r){return Ni(e,r).map((function(e){var r=e[0],n=e[1],i=e[2];return[r,kr(t,n),kr(t,i)]}))}function ji(t,e,r,n){var i=n?t.map((function(t){return Or(t,n)})):t,a=[r].concat(e);return[[i[0],i[1]],[i[1],i[3]],[i[3],i[2]],[i[2],i[0]]].some((function(t,e){return!zi(a,t)}))}function ki(t){var e=t[0],r=t[1],n=r[0]-e[0],i=r[1]-e[1];if(!n)return Math.abs(e[0]);if(!i)return Math.abs(e[1]);var a=i/n;return Math.abs((-a*e[0]+e[1])/Math.sqrt(Math.pow(a,2)+1))}function Li(t){var e=t[0],r=t[1],n=r[0]-e[0],i=r[1]-e[1];if(!n)return[e[0],0];if(!i)return[0,e[1]];var a=i/n,o=-a*e[0]+e[1];return[-o/(a+1/a),o/(a*a+1)]}function Xi(t,e,r,n,i){var a=t.props.innerBounds,o=i*Math.PI/180;if(!a)return[];var s=a.left,u=a.top,c=a.width,l=a.height,p=s-n[0],f=s+c-n[0],d=u-n[1],h=u+l-n[1],v=[[p,d],[f,d],[p,h],[f,h]],g=kr(r,[0,0]);if(!ji(r,v,g,0))return[];var m=[],b=v.map((function(t){return[mn(t),vr([0,0],t)]}));return[[r[0],r[1]],[r[1],r[3]],[r[3],r[2]],[r[2],r[0]]].forEach((function(t){var r=vr([0,0],Li(t)),n=ki(t);m.push.apply(m,b.filter((function(t){var e=t[0];return e&&n<=e})).map((function(t){var e=t[0],i=t[1],a=Math.acos(e?n/e:0),s=i+a,u=i-a;return[o+s-r,o+u-r]})).reduce((function(t,e){return t.push.apply(t,e),t}),[]).filter((function(t){return!ji(e,v,g,t)})).map((function(t){return Bn(180*t/Math.PI,er)})))})),m}function Yi(t){var e=t.props.innerBounds;if(!e)return{vertical:[],horizontal:[]};var r=t.getRect(),n=r.pos1,i=r.pos2,a=r.pos3,o=r.pos4,s=[n,i,a,o],u=kr(s,[0,0]),c=e.left,l=e.top,p=e.width,f=e.height,d=[[c,l],[c,l+f]],h=[[c,l],[c+p,l]],v=[[c+p,l],[c+p,l+f]],g=[[c,l+f],[c+p,l+f]],m=[[n,i],[i,o],[o,a],[a,n]],b=[],y=[],x={top:!1,bottom:!1,left:!1,right:!1};return m.forEach((function(t){var e=Ri(u,t),r=e.horizontal,n=e.vertical,i=_i(t,h,n,1,!0),a=_i(t,g,n,1,!0),o=_i(t,d,r,1,!0),s=_i(t,v,r,1,!0);i.isBound&&!x.top&&(b.push(l),x.top=!0),a.isBound&&!x.bottom&&(b.push(l+f),x.bottom=!0),o.isBound&&!x.left&&(y.push(c),x.left=!0),s.isBound&&!x.right&&(y.push(c+p),x.right=!0)})),{horizontal:b,vertical:y}}function qi(t,e,r){var n=t.props.bounds||{},i=n.left,a=void 0===i?-1/0:i,o=n.top,s=void 0===o?-1/0:o,u=n.right,c=void 0===u?1/0:u,l=n.bottom,p=void 0===l?1/0:l,f={left:a,top:s,right:c,bottom:p};return{vertical:Hi(f,e,!0),horizontal:Hi(f,r,!1)}}function Wi(t,e,r){var n=t.props.bounds||{},i=n.left,a=void 0===i?-1/0:i,o=n.top,s=void 0===o?-1/0:o,u=n.right,c=void 0===u?1/0:u,l=n.bottom,p=void 0===l?1/0:l,f=r[0],d=r[1],h=wr(r,e),v=h[0],g=h[1];Math.abs(v)<er&&(v=0),Math.abs(g)<er&&(g=0);var m=g>0,b=v>0,y={isBound:!1,offset:0,pos:0},x={isBound:!1,offset:0,pos:0};if(0===v&&0===g)return{vertical:y,horizontal:x};if(0===v)m?p<d&&(x.pos=p,x.offset=d-p):s>d&&(x.pos=s,x.offset=d-s);else if(0===g)b?c<f&&(y.pos=c,y.offset=f-c):a>f&&(y.pos=a,y.offset=f-a);else{var S=g/v,E=r[1]-S*f,w=0,M=0,D=!1;b&&c<=f?(w=S*c+E,M=c,D=!0):!b&&f<=a&&(w=S*a+E,M=a,D=!0),D&&(w<s||w>p)&&(D=!1),D||(m&&p<=d?(w=p,M=(w-E)/S,D=!0):!m&&d<=s&&(w=s,M=(w-E)/S,D=!0)),D&&(y.isBound=!0,y.pos=M,y.offset=f-M,x.isBound=!0,x.pos=w,x.offset=d-w)}return{vertical:y,horizontal:x}}function Hi(t,e,r){var n=t[r?"left":"top"],i=t[r?"right":"bottom"],a=Math.min.apply(Math,e),o=Math.max.apply(Math,e);return n+1>a?{isBound:!0,offset:a-n,pos:n}:i-1<o?{isBound:!0,offset:o-i,pos:i}:{isBound:!1,offset:0,pos:0}}function Fi(t,e,r){var n=r?t.map((function(t){return Or(t,r)})):t;return n.some((function(t){return t[0]<e.left&&Math.abs(t[0]-e.left)>.1||t[0]>e.right&&Math.abs(t[0]-e.right)>.1||t[1]<e.top&&Math.abs(t[1]-e.top)>.1||t[1]>e.bottom&&Math.abs(t[1]-e.bottom)>.1}))}function Vi(t,e,r){var n=mn(t),i=Math.sqrt(n*n-e*e)||0;return[i,-i].sort((function(e,n){return Math.abs(e-t[r?0:1])-Math.abs(n-t[r?0:1])})).map((function(t){return vr([0,0],r?[t,e]:[e,t])}))}function Ui(t,e,r,n,i){var a=t.props.bounds,o=i*Math.PI/180;if(!a)return[];var s=a.left,u=void 0===s?-1/0:s,c=a.top,l=void 0===c?-1/0:c,p=a.right,f=void 0===p?1/0:p,d=a.bottom,h=void 0===d?1/0:d,v=u-n[0],g=f-n[0],m=l-n[1],b=h-n[1],y={left:v,top:m,right:g,bottom:b};if(!Fi(r,y,0))return[];var x=[];return[[v,0],[g,0],[m,1],[b,1]].forEach((function(t,n){var i=t[0],a=t[1];r.forEach((function(t){var r=vr([0,0],t);x.push.apply(x,Vi(t,i,a).map((function(t){return o+t-r})).filter((function(t){return!Fi(e,y,t)})).map((function(t){return Bn(180*t/Math.PI,er)})))}))})),x}function $i(t,e,r){var n=pn(t,[e.clientLeft,e.clientTop],r);return[e.left+n[0],e.top+n[1]]}function Ki(t){var e=t.state;if(!e.guidelines||!e.guidelines.length){var r=t.props,n=r.horizontalGuidelines,i=void 0===n?[]:n,a=r.verticalGuidelines,o=void 0===a?[]:a,s=r.elementGuidelines,u=void 0===s?[]:s,c=r.bounds,l=r.innerBounds,p=r.snapCenter;if(l||c||i.length||o.length||u.length){var f=e.containerClientRect,d=e.targetClientRect,h=d.top,v=d.left,g=e.rootMatrix,m=e.is3d,b=m?4:3,y=$i(g,f,b),x=y[0],S=y[1],E=Pn(e),w=Math.min.apply(Math,E.map((function(t){return t[0]}))),M=Math.min.apply(Math,E.map((function(t){return t[1]}))),D=wr([w,M],Kn(g,[v-x,h-S],b)).map((function(t){return zn(t)})),C=D[0],O=D[1],R=[];u.forEach((function(t){var e=t.getBoundingClientRect(),r=e.left-x,n=e.top-S,i=n+e.height,a=r+e.width,o=Kn(g,[r,n],b),s=o[0],u=o[1],c=Kn(g,[a,i],b),l=c[0],f=c[1],d=l-s,h=f-u,v=[d,h];R.push({type:"vertical",element:t,pos:[Bn(s+C,.1),u],size:h,sizes:v}),R.push({type:"vertical",element:t,pos:[Bn(l+C,.1),u],size:h,sizes:v}),R.push({type:"horizontal",element:t,pos:[s,Bn(u+O,.1)],size:d,sizes:v}),R.push({type:"horizontal",element:t,pos:[s,Bn(f+O,.1)],size:d,sizes:v}),p&&(R.push({type:"vertical",element:t,pos:[Bn((s+l)/2+C,.1),u],size:h,sizes:v,center:!0}),R.push({type:"horizontal",element:t,pos:[s,Bn((u+f)/2+O,.1)],size:d,sizes:v,center:!0}))})),e.guidelines=R,e.enableSnap=!0}}}function Zi(t,e){var r=t.props,n=r.snappable,i=r.bounds,a=r.innerBounds,o=r.verticalGuidelines,s=r.horizontalGuidelines,u=t.state,c=u.guidelines,l=u.enableSnap;return!(!n||!l||e&&!0!==n&&n.indexOf(e)<0)&&!!(i||a||c&&c.length||o&&o.length||s&&s.length)}function Ji(t,e,r,n,i){var a=ha(t,e,r,n);if(!a)return[0,0];var o=Gr({datas:i,distX:a[0],distY:a[1]}),s=o[0],u=o[1];return[s,u]}function Qi(t,e,r,n,i,a){var o=fn(t,e,r,a?4:3),s=Lr(o,i);return Rn(o,wr(n,s))}function ta(t,e){return t.isBound?t.offset:e.isSnap?e.offset:0}function ea(t,e){return t.isBound?t.offset:e.isSnap?Mi(e).offset:0}function ra(t,e,r,n){var i=Wi(t,e,r),a=i.horizontal,o=i.vertical,s=n?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:Ei(t,e,r),u=s.horizontal,c=s.vertical,l=ta(a,u),p=ta(o,c),f=Math.abs(l),d=Math.abs(p);return{horizontal:{isBound:a.isBound,isSnap:u.isSnap,offset:l,dist:f},vertical:{isBound:o.isBound,isSnap:c.isSnap,offset:p,dist:d}}}function na(t,e,r,n){void 0===n&&(n=r);var i=qi(t,n.map((function(t){return t[0]})),n.map((function(t){return t[1]}))),a=i.horizontal,o=i.vertical,s=e?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:Si(t,r.map((function(t){return t[0]})),r.map((function(t){return t[1]}))),u=s.horizontal,c=s.vertical,l=ea(a,u),p=ea(o,c),f=Math.abs(l),d=Math.abs(p);return{horizontal:{isBound:a.isBound,isSnap:u.isSnap,offset:l,dist:f},vertical:{isBound:o.isBound,isSnap:c.isSnap,offset:p,dist:d}}}function ia(t){return t?t/Math.abs(t):0}function aa(t,e,r,n,i){var a=[-r[0],-r[1]],o=t.state,s=o.width,u=o.height,c=t.props.bounds,l=1/0,p=1/0;if(c){var f=[[r[0],-r[1]],[-r[0],r[1]]],d=c.left,h=void 0===d?-1/0:d,v=c.top,g=void 0===v?-1/0:v,m=c.right,b=void 0===m?1/0:m,y=c.bottom,x=void 0===y?1/0:y;f.forEach((function(t){var r=t[0]!==a[0],o=t[1]!==a[1],c=kr(e,t),f=ia(t[1]-a[1]),d=ia(t[0]-a[0]),v=360*vr(n,c)/Math.PI;if(o){var m=c.slice();(Math.abs(v-360)<2||Math.abs(v-180)<2)&&(m[1]=n[1]);var y=Ji(n,m,(n[1]<c[1]?x:g)-c[1],!1,i),S=y[1];isNaN(S)||(p=u+f*S)}if(r){m=c.slice();(Math.abs(v-90)<2||Math.abs(v-270)<2)&&(m[0]=n[0]);var E=Ji(n,m,(n[0]<c[0]?b:h)-c[0],!0,i)[0];isNaN(E)||(l=s+d*E)}}))}return{maxWidth:l,maxHeight:p}}function oa(t,e,r,n,i,a){return r.map((function(r){var o=r[0],s=r[1],u=kr(e,o),c=kr(e,s),l=n?ra(t,u,c,i):na(t,i,[c]),p=l.horizontal,f=p.dist,d=p.offset,h=p.isBound,v=p.isSnap,g=l.vertical,m=g.dist,b=g.offset,y=g.isBound,x=g.isSnap,S=wr(s,o);if(!b&&!d)return{isBound:y||h,isSnap:x||v,sign:S,offset:[0,0]};var E=f<m,w=Ji(u,c,-(E?b:d),E,a).map((function(t,e){return t*(S[e]?2/S[e]:0)}));return{sign:S,isBound:E?y:h,isSnap:E?x:v,offset:w}}))}function sa(t,e){var r=[],n=[-t[0],-t[1]];return t[0]&&t[1]?(r.push([n,[t[0],-t[1]]],[n,[-t[0],t[1]]]),e&&r.push([n,t])):t[0]?e?r.push([n,[n[0],-1]],[n,[n[0],1]],[n,[t[0],-1]],[n,t],[n,[t[0],1]]):r.push([[n[0],-1],[t[0],-1]],[[n[0],0],[t[0],0]],[[n[0],1],[t[0],1]]):t[1]?e?r.push([n,[-1,n[1]]],[n,[1,n[1]]],[n,[-1,t[1]]],[n,[1,t[1]]],[n,t]):r.push([[-1,n[1]],[-1,t[1]]],[[0,n[1]],[0,t[1]]],[[1,n[1]],[1,t[1]]]):r.push([n,[1,0]],[n,[-1,0]],[n,[0,-1]],[n,[0,1]],[[1,0],[1,-1]],[[1,0],[1,1]],[[0,1],[1,1]],[[0,1],[-1,1]],[[-1,0],[-1,-1]],[[-1,0],[-1,1]],[[0,-1],[1,-1]],[[0,-1],[-1,-1]]),r}function ua(t,e,r,n,i,a){var o=sa(r,n),s=Ii(e,r,n),u=oa(t,e,o,n,i,a).concat(Gi(t,s,kr(e,[0,0]),a)),c=Oi(u,0),l=Oi(u,1);return{width:{isBound:c.isBound,offset:c.offset[0]},height:{isBound:l.isBound,offset:l.offset[1]}}}function ca(t,e,r,n,i,a,o,s,u){var c=kr(e,o),l=na(t,s,[c]),p=l.horizontal.offset,f=l.vertical.offset;if(f||p){var d=Gr({datas:u,distX:-f,distY:-p}),h=d[0],v=d[1],g=Math.min(i||1/0,r+o[0]*h),m=Math.min(a||1/0,n+o[1]*v);return[g-r,m-n]}return[0,0]}function la(t,e,r,n,i,a,o,s){for(var u=Pn(t.state),c=t.props.keepRatio,l=0,p=0,f=0;f<2;++f){var d=e(l,p),h=ua(t,d,i,c,o,s),v=h.width,g=h.height,m=v.isBound,b=g.isBound,y=v.offset,x=g.offset;if(1===f&&(m||(y=0),b||(x=0)),0===f&&o&&!m&&!b)return[0,0];if(c){var S=Math.abs(y)*(r?1/r:1),E=Math.abs(x)*(n?1/n:1),w=m&&b?S<E:b||!m&&S<E;w?y=r*x/n:x=n*y/r}l+=y,p+=x}if(i[0]&&i[1]){var M=aa(t,u,i,a,s),D=M.maxWidth,C=M.maxHeight,O=ca(t,e(l,p),r+l,n+p,D,C,i,o,s);y=O[0],x=O[1];l+=y,p+=x}return[l,p]}function pa(t,e,r,n){if(!Zi(t,"rotatable"))return n;var i=e.pos1,a=e.pos2,o=e.pos3,s=e.pos4,u=n*Math.PI/180,c=[i,a,o,s].map((function(t){return wr(t,r)})),l=c.map((function(t){return Or(t,u)})),p=Ui(t,c,l,r,n).concat(Xi(t,c,l,r,n));return p.sort((function(t,e){return Math.abs(t-n)-Math.abs(e-n)})),p.length?p[0]:n}function fa(t,e,r,n,i,a,o){if(!Zi(t,"resizable"))return[0,0];var s=t.state,u=s.matrix,c=s.is3d;return la(t,(function(t,a){return Qi(u,e+t,r+a,i,n,c)}),e,r,n,i,a,o)}function da(t,e,r,n,i,a){var o=a.width,s=a.height;if(!Zi(t,"scalable"))return[0,0];var u=a.is3d,c=la(t,(function(t,i){return Qi(qr(a,Er(e,[t/o,i/s])),o,s,n,r,u)}),o,s,r,n,i,a);return[c[0]/o,c[1]/s]}function ha(t,e,r,n){var i=e[0]-t[0],a=e[1]-t[1];if(Math.abs(i)<er&&(i=0),Math.abs(a)<er&&(a=0),!i)return n?[0,0]:[0,r];if(!a)return n?[r,0]:[0,0];var o=a/i,s=t[1]-o*t[0];if(n){var u=o*(e[0]+r)+s;return[r,u-e[1]]}var c=(e[1]+r-s)/o;return[c-e[0],r]}function va(t,e){e.absolutePoses=Pn(t.state)}function ga(t,e,r,n,i){var a=e[0],o=e[1],s=r[0],u=r[1],c=n[0],l=n[1],p=i[0],f=i[1],d=-p,h=-f;if(t&&a&&o){d=0,h=0;var v=[];if(s&&u?v.push([0,f],[p,0]):s?v.push([p,0]):u?v.push([0,f]):c&&l?v.push([0,f],[p,0]):c?v.push([p,0]):l&&v.push([0,f]),v.length){v.sort((function(t,e){return mn(wr([a,o],t))-mn(wr([a,o],e))}));var g=v[0];if(g[0]&&Math.abs(a)>er)d=-g[0],h=o*Math.abs(a+d)/Math.abs(a)-o;else if(g[1]&&Math.abs(o)>er){var m=o;h=-g[1],d=a*Math.abs(o+h)/Math.abs(m)-a}if(t&&u&&s)if(Math.abs(d)>er&&Math.abs(d)<Math.abs(p)){var b=Math.abs(p)/Math.abs(d);d*=b,h*=b}else if(Math.abs(h)>er&&Math.abs(h)<Math.abs(f)){b=Math.abs(f)/Math.abs(h);d*=b,h*=b}else d=Un(-p,d),h=Un(-f,h)}}else d=a||s?-p:0,h=o||u?-f:0;return[d,h]}function ma(t,e,r,n,i,a){if(!Zi(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var o=Rn(a.absolutePoses,[e,r]),s=dn(o),u=s.left,c=s.right,l=s.top,p=s.bottom,f=t.props.snapCenter,d=[[u,l],[c,l],[u,p],[c,p]];f&&d.push([(u+c)/2,(l+p)/2]);var h=na(t,i,d,o),v=h.vertical,g=h.horizontal,m=Ti(t,o,a),b=m.vertical,y=m.horizontal,x=v.isSnap,S=g.isSnap,E=v.isBound||b.isBound,w=g.isBound||y.isBound,M=Un(v.offset,b.offset),D=Un(g.offset,y.offset),C=ga(n,[e,r],[E,w],[x,S],[M,D]),O=C[0],R=C[1];return[{isBound:E,isSnap:x,offset:O},{isBound:w,isSnap:S,offset:R}]}function ba(t){var e=[];return t.forEach((function(t){t.guidelineInfos.forEach((function(t){var r=t.guideline;e.indexOf(r)>-1||e.push(r)}))})),e}function ya(t,e,r,n){var i=t-r,a=i<0?i+e:n,o=i<0?0:i,s=o-a;return{size:s,pos:a}}function xa(t,e,r,n){var i=[],a=Hn(t.filter((function(t){var e=t.element,r=t.gap;return e&&!r})),(function(t){var r=t.element,a=t.pos,o=a[n],s=Math.min(0,o-e)<0?-1:1,u=s+"_"+a[n?0:1],c=V(i,(function(t){var e=t[0],n=t[1];return r===e&&o===n}));return c?c[2]:(i.push([r,o,u]),u)}));return a.forEach((function(t){t.sort((function(t,i){var a=ya(t.pos[n],t.size,e,r).size-ya(i.pos[n],t.size,e,r).size;return a||t.pos[n?0:1]-i.pos[n?0:1]}))})),a}function Sa(t,e,r,n,i,a,o,s,u,c,l,p){var f=e[0],d=e[1],h=e[2],v=e[3];return Vn(t.map((function(t,e){var g=!0;return t.map((function(t,m){var b,y=t.pos,x=t.size,S=ya(y[c],x,n,i),E=S.pos,w=S.size;if(w<o)return null;var M=g;g=!1;var D=s&&M?parseFloat(w.toFixed(u)):0;return p.createElement("div",{className:$r("line",f,"guideline","dashed"),"data-size":D>0?l(D):"",key:f+"LinkGuidline"+e+"-"+m,style:(b={},b[d]=r+E+"px",b[h]=-a+y[c?0:1]+"px",b[v]=w+"px",b)})}))})))}function Ea(t,e,r,n,i,a){var o=e[0],s=e[1],u=e[2],c=e[3];return t.map((function(t,e){var l,p=t.type,f=t.pos;return a.createElement("div",{className:$r("line",o,"guideline","target","bold",p),key:o+"TargetGuidline"+e,style:(l={},l[s]=r+"px",l[u]=-n+f+"px",l[c]=i+"px",l)})}))}function wa(t,e,r,n,i,a){var o=e[0],s=e[1],u=e[2],c=e[3];return t.map((function(t,e){var l,p=t.pos,f=t.size,d=t.element;return a.createElement("div",{className:$r("line",o,"guideline",d?"bold":""),key:o+"Guidline"+e,style:(l={},l[s]=-r+p[i]+"px",l[u]=-n+p[i?0:1]+"px",l[c]=f+"px",l)})}))}function Ma(t,e,r,n,i,a,o){var s=Math.abs(a),u=i[e]+(a>0?n[0]:0);return t.filter((function(t){var n=t.pos;return n[e]<=r[e]})).sort((function(t,r){var n=t.pos,i=r.pos;return i[e]-n[e]})).filter((function(t){var r=t.pos,n=t.sizes,i=r[e];return Bn(i+n[e],1e-4)===Bn(u-s,1e-4)&&(u=i,!0)})).map((function(t){var n=-r[e]+t.pos[e]+t.sizes[e];return Fe({},t,{gap:a,renderPos:e?[o,n]:[n,o]})}))}function Da(t,e,r,n,i,a,o){var s=Math.abs(a),u=i[e]+(a<0?n[e]:0);return t.filter((function(t){var n=t.pos;return n[e]>r[e]})).sort((function(t,r){var n=t.pos,i=r.pos;return n[e]-i[e]})).filter((function(t){var r=t.pos,n=t.sizes,i=r[e];return Bn(i,1e-4)===Bn(u+s,1e-4)&&(u=i+n[e],!0)})).map((function(t){var n=-r[e]+t.pos[e]-s;return Fe({},t,{gap:a,renderPos:e?[o,n]:[n,o]})}))}function Ca(t,e,r,n){var i=t.filter((function(t){var r=t.element,n=t.gap,i=t.type;return r&&n&&i===e})),a="vertical"===e?[0,1]:[1,0],o=a[0],s=a[1];return Vn(i.map((function(t,e){var i=t.pos,a=t.gap,u=t.gapGuidelines,c=t.sizes,l=$n(i[s]+c[s]-r[s],i[s]-r[s]-n[s]),p=Math.min(c[s],n[s]);l>0&&l>p?l=2*(l-p/2):l<0&&l<-p&&(l=2*(l+p/2));var f=(l>0?0:n[s])+l/2;return Ma(u,o,r,n,i,a,f).concat(Da(u,o,r,n,i,a,f))})))}function Oa(t,e,r,n,i,a){var o=n[0],s=n[1],u=n[2],c=n[3],l=t.props,p=l.snapDigit,f=void 0===p?0:p,d=l.isDisplaySnapDigit,h=void 0===d||d,v="vertical"===r?"horizontal":"vertical",g="vertical"===r?[0,1]:[1,0],m=g[0],b=g[1];return e.map((function(t,e){var r,n=t.renderPos,l=t.gap,p=Math.abs(l),d=h?parseFloat(p.toFixed(f)):0;return a.createElement("div",{className:$r("line",o,"guideline","gap"),"data-size":d>0?i(d):"",key:v+"GapGuideline"+e,style:(r={},r[s]=n[m]+"px",r[u]=n[b]+"px",r[c]=p+"px",r)})}))}function Ra(t,e,r,n,i){var a=qi(t,e,r),o=a.vertical,s=o.isBound,u=o.pos,c=a.horizontal,l=c.isBound,p=c.pos;s&&n.push({type:"bounds",pos:u}),l&&i.push({type:"bounds",pos:p});var f=Yi(t),d=f.vertical,h=f.horizontal;d.forEach((function(t){F(n,(function(e){var r=e.type,n=e.pos;return"bounds"===r&&n===t}))>=0||n.push({type:"bounds",pos:t})})),h.forEach((function(t){F(i,(function(e){var r=e.type,n=e.pos;return"bounds"===r&&n===t}))>=0||i.push({type:"bounds",pos:t})}))}var Pa={name:"snappable",props:{snappable:[Boolean,Array],snapCenter:Boolean,snapHorizontal:Boolean,snapVertical:Boolean,snapElement:Boolean,snapGap:Boolean,isDisplaySnapDigit:Boolean,snapDigit:Number,snapThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,innerBounds:Object,snapDistFormat:Function},events:{onSnap:"snap"},css:[":host {\n    --bounds-color: #d66;\n}",".guideline {\n    pointer-events: none;\n    z-index: 1;\n}",".line.guideline.bounds {\n    background: #d66;\n    background: var(--bounds-color);\n}"],render:function(t,e){var r=t.state,n=r.top,i=r.left,a=r.pos1,o=r.pos2,s=r.pos3,u=r.pos4,c=r.snapRenderInfo,l=r.targetClientRect,p=r.containerClientRect,f=r.is3d,d=r.rootMatrix;if(!c||!Zi(t,""))return[];var h=f?4:3,v=Math.min(a[0],o[0],s[0],u[0]),g=Math.min(a[1],o[1],s[1],u[1]),m=$i(d,p,h),b=Kn(d,[l.left-m[0],l.top-m[1]],h),y=b[0],x=b[1],S=t.props,E=S.snapThreshold,w=void 0===E?5:E,M=S.snapDigit,D=void 0===M?0:M,C=S.isDisplaySnapDigit,O=void 0===C||C,R=S.snapDistFormat,P=void 0===R?function(t){return t}:R,z=Pn(t.state),B=dn(z),A=B.width,_=B.height,G=B.top,T=B.left,N=B.bottom,I=B.right,j=[],k=[],L=[],X=[],Y=[];if(!c.request){if(c.direction&&Y.push(Ci(t,z,c.direction)),c.snap){var q=dn(z);c.center&&(q.middle=(q.top+q.bottom)/2,q.center=(q.left+q.right)/2),Y.push(wi(t,q,!0,1))}Y.forEach((function(t){var e=t.vertical.posInfos,r=t.horizontal.posInfos;j.push.apply(j,e.map((function(t){return{type:"snap",pos:t.pos}}))),k.push.apply(k,r.map((function(t){return{type:"snap",pos:t.pos}}))),L.push.apply(L,ba(e)),X.push.apply(X,ba(r))}))}Ra(t,[T,I],[G,N],j,k);var W=xa(X,y,A,0),H=xa(L,x,_,1),F=["horizontal","left","top","width"],V=["vertical","top","left","height"],U=Ca(L,"vertical",[i,n],[A,_]),$=Ca(X,"horizontal",[i,n],[A,_]),K=L.concat(X);return jn(t,"onSnap",{guidelines:K.filter((function(t){var e=t.element;return!e})),elements:Hn(K.filter((function(t){var e=t.element;return e})),(function(t){var e=t.element;return e})),gaps:U.concat($)},!0),Oa(t,U,"vertical",F,P,e).concat(Oa(t,$,"horizontal",V,P,e),Sa(W,F,v,y,A,n,w,O,D,0,P,e),Sa(H,V,g,x,_,i,w,O,D,1,P,e),Ea(k,F,v,n,A,e),Ea(j,V,g,i,_,e),wa(X,F,i,n,0,e),wa(L,V,n,i,1,e))},dragStart:function(t,e){t.state.snapRenderInfo={request:e.isRequest,snap:!0,center:!0},Ki(t)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t){return mi(t)||Na(t)},dragControlStart:function(t,e){t.state.snapRenderInfo=null,Ki(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t,e){t.state.snapRenderInfo=null,Ki(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapRenderInfo=null}},za={name:"draggable",props:{draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number,startDragRotate:Number},events:{onDragStart:"dragStart",onDrag:"drag",onDragEnd:"dragEnd",onDragGroupStart:"dragGroupStart",onDragGroup:"dragGroup",onDragGroupEnd:"dragGroupEnd"},render:function(t,e){var r=t.props.throttleDragRotate,n=t.state,i=n.dragInfo,a=n.beforeOrigin;if(!r||!i)return[];var o=i.dist;if(!o[0]&&!o[1])return[];var s=mn(o),u=vr(o,[0,0]);return[e.createElement("div",{className:$r("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:s+"px",transform:"translate("+a[0]+"px, "+a[1]+"px) rotate("+u+"rad)"}})]},dragStart:function(t,e){var r=e.datas,n=e.parentEvent,i=e.parentDragger,a=t.state,o=a.targetTransform,s=a.target,u=a.dragger;if(u)return!1;a.dragger=i||t.targetDragger;var c=window.getComputedStyle(s);r.datas={},r.left=parseFloat(c.left||"")||0,r.top=parseFloat(c.top||"")||0,r.bottom=parseFloat(c.bottom||"")||0,r.right=parseFloat(c.right||"")||0,r.transform=o,r.startTranslate=[0,0],_r(t,{datas:r}),r.prevDist=[0,0],r.prevBeforeDist=[0,0],r.isDrag=!1,va(t,r);var l=Nn(t,e,{set:function(t){r.startTranslate=t}}),p=n||jn(t,"onDragStart",l);return!1!==p?(r.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(a.dragger=null,r.isPinch=!1),!!r.isDrag&&l},drag:function(t,e){var r=e.datas,n=e.parentEvent,i=e.parentFlag,a=e.isPinch,o=e.isRequest,s=e.distX,u=e.distY,c=r.isDrag,l=r.prevDist,p=r.prevBeforeDist,f=r.transform,d=r.startTranslate;if(c){var h=t.props,v=h.parentMoveable,g=n?0:h.throttleDrag||0,m=n?0:h.throttleDragRotate||0,b=!1,y=0;if(!n&&m>0&&(s||u)){var x=h.startDragRotate||0,S=Bn(x+180*vr([0,0],[s,u])/Math.PI,m)-x,E=u*Math.abs(Math.cos((S-90)/180*Math.PI)),w=s*Math.abs(Math.cos(S/180*Math.PI)),M=mn([w,E]);y=S*Math.PI/180,s=M*Math.cos(y),u=M*Math.sin(y)}if(!a&&!n&&!i&&(!m||s||u)){var D=ma(t,s,u,m,o,r),C=D[0],O=D[1],R=C.isSnap,P=C.isBound,z=C.offset,B=O.isSnap,A=O.isBound,_=O.offset;b=R||B||P||A,s+=z,u+=_}r.passDeltaX=s-(r.passDistX||0),r.passDeltaY=u-(r.passDistY||0),r.passDistX=s,r.passDistY=u;var G=Er(Gr({datas:r,distX:s,distY:u},!0),d),T=Er(Gr({datas:r,distX:s,distY:u},!1),d);m||b||(An(T,g),An(G,g));var N=wr(G,d),I=wr(T,d),j=wr(I,l),k=wr(N,p);r.prevDist=I,r.prevBeforeDist=N;var L=r.left+N[0],X=r.top+N[1],Y=r.right-N[0],q=r.bottom-N[1],W=f+" translate("+I[0]+"px, "+I[1]+"px)";if(t.state.dragInfo.dist=n?[0,0]:I,n||v||!j.every((function(t){return!t}))||!k.some((function(t){return!t}))){var H=Nn(t,e,{transform:W,dist:I,delta:j,translate:T,beforeDist:N,beforeDelta:k,beforeTranslate:G,left:L,top:X,right:Y,bottom:q,isPinch:a});return!n&&jn(t,"onDrag",H),H}}},dragEnd:function(t,e){var r=e.parentEvent,n=e.datas,i=e.isDrag;if(t.state.dragger=null,t.state.dragInfo=null,n.isDrag)return n.isDrag=!1,!r&&jn(t,"onDragEnd",In(t,e,{})),i},dragGroupStart:function(t,e){var r=e.datas,n=e.clientX,i=e.clientY,a=this.dragStart(t,e);if(!a)return!1;var o=vi(t,this,"dragStart",[n||0,i||0],e,!1),s=Fe({},a,{targets:t.props.targets,events:o}),u=jn(t,"onDragGroupStart",s);return r.isDrag=!1!==u,!!r.isDrag&&a},dragGroup:function(t,e){var r=e.datas;if(r.isDrag){var n=this.drag(t,e),i=e.datas,a=i.passDeltaX,o=i.passDeltaY,s=vi(t,this,"drag",[a,o],e,!1);if(n){var u=Fe({targets:t.props.targets,events:s},n);return jn(t,"onDragGroup",u),u}}},dragGroupEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isDrag)return this.dragEnd(t,e),vi(t,this,"dragEnd",[0,0],e,!1),jn(t,"onDragGroupEnd",In(t,e,{targets:t.props.targets})),r},request:function(t){var e={},r=t.getRect(),n=0,i=0;return{isControl:!1,requestStart:function(){return{datas:e}},request:function(t){return"x"in t?n=t.x-r.left:"deltaX"in t&&(n+=t.deltaX),"y"in t?i=t.y-r.top:"deltaY"in t&&(i+=t.deltaY),{datas:e,distX:n,distY:i}},requestEnd:function(){return{datas:e,isDrag:!0}}}},unset:function(t){t.state.dragInfo=null}};function Ba(t,e,r,n,i,a){var o=t.state.is3d?4:3,s=pn(t.state.rootMatrix,i,o),u=Er([a.left,a.top],s);e.startAbsoluteOrigin=u,e.prevDeg=vr(u,[r,n])/Math.PI*180,e.prevSnapDeg=e.prevDeg,e.startDeg=e.prevDeg,e.loop=0}function Aa(t,e,r,n,i,a){var o=r.prevDeg,s=pa(t,e,r.origin,n);r.prevDeg=s;var u=s-o;return[u,s,a+s]}function _a(t,e,r,n,i,a,o,s){var u=r.prevDeg,c=r.prevSnapDeg,l=r.startDeg,p=r.loop;u>n&&u>270&&n<90?++r.loop:u<n&&u<90&&n>270&&--r.loop;var f=r.loop,d=360*p+c-l+a,h=360*f+n-l+a;r.prevDeg=h-360*f+l-a,h=Bn(h,o);var v=i*(h-a);s&&(v=pa(t,e,r.origin,v),h=v/i+a),r.prevSnapDeg=h-360*f+l-a;var g=i*(h-d);return[g,v,a+v]}function Ga(t,e,r,n,i,a,o,s){return _a(t,e,r,vr(r.startAbsoluteOrigin,[i,a])/Math.PI*180,n,o,s,!0)}function Ta(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=(t||"top").split("-"),u=s[0],c=s[1],l=[n,i];"left"===u?l=[a,n]:"right"===u?l=[i,o]:"bottom"===u&&(l=[o,a]);var p=[(l[0][0]+l[1][0])/2,(l[0][1]+l[1][1])/2],f=wn(l,r);if(c){var d="top"===c||"left"===c,h="bottom"===u||"left"===u;p=l[d&&!h||!d&&h?0:1]}return[p,f]}function Na(t){return t.isRequest?"rotatable"===t.requestAble:U(t.inputEvent.target,$r("rotation"))}var Ia={name:"rotatable",canPinch:!0,props:{rotatable:Boolean,rotationPosition:String,throttleRotate:Number},events:{onRotateStart:"rotateStart",onRotate:"rotate",onRotateEnd:"rotateEnd",onRotateGroupStart:"rotateGroupStart",onRotateGroup:"rotateGroup",onRotateGroupEnd:"rotateGroupEnd"},render:function(t,e){var r=t.props,n=r.rotatable,i=r.rotationPosition;if(!n)return null;var a=t.state,o=a.renderPoses,s=a.direction,u=Ta(i,o,s),c=u[0],l=u[1];return e.createElement("div",{key:"rotation",className:$r("line rotation-line"),style:{transform:"translate(-50%) translate("+c[0]+"px, "+c[1]+"px) rotate("+l+"rad)"}},e.createElement("div",{className:$r("control","rotation")}))},dragControlCondition:Na,dragControlStart:function(t,e){var r=e.datas,n=e.clientX,i=e.clientY,a=e.parentRotate,o=e.parentFlag,s=e.isPinch,u=e.isRequest,c=t.state,l=c.target,p=c.left,f=c.top,d=c.origin,h=c.beforeOrigin,v=c.direction,g=c.beforeDirection,m=c.targetTransform;if(!u&&!l)return!1;var b=t.getRect();if(r.rect=b,r.transform=m,r.left=p,r.top=f,u||s||o){var y=a||0;r.beforeInfo={origin:b.beforeOrigin,prevDeg:y,startDeg:y,prevSnapDeg:y,loop:0},r.afterInfo={origin:b.origin,prevDeg:y,startDeg:y,prevSnapDeg:y,loop:0}}else{r.beforeInfo={origin:b.beforeOrigin},r.afterInfo={origin:b.origin};var x=Cn(t.controlBox.getElement());Ba(t,r.beforeInfo,n,i,h,x),Ba(t,r.afterInfo,n,i,d,x)}r.direction=v,r.beforeDirection=g,r.startRotate=0,r.datas={};var S=Nn(t,e,{set:function(t){r.startRotate=t}}),E=jn(t,"onRotateStart",S);return r.isRotate=!1!==E,t.state.snapRenderInfo={request:e.isRequest},!!r.isRotate&&S},dragControl:function(t,e){var r,n,i,a,o,s,u=e.datas,c=e.clientX,l=e.clientY,p=e.parentRotate,f=e.parentFlag,d=e.isPinch,h=u.direction,v=u.beforeDirection,g=u.beforeInfo,m=u.afterInfo,b=u.isRotate,y=u.startRotate,x=u.rect;if(b){var S,E,w,M,D,C,O=t.props,R=O.throttleRotate,P=void 0===R?0:R,z=O.parentMoveable;if(!f&&"parentDist"in e){var B=e.parentDist;r=Aa(t,x,m,B,h,y),S=r[0],E=r[1],w=r[2],n=Aa(t,x,g,B,h,y),M=n[0],D=n[1],C=n[2]}else d||f?(i=_a(t,x,m,p,h,y,P),S=i[0],E=i[1],w=i[2],a=_a(t,x,g,p,h,y,P),M=a[0],D=a[1],C=a[2]):(o=Ga(t,x,m,h,c,l,y,P),S=o[0],E=o[1],w=o[2],s=Ga(t,x,g,v,c,l,y,P),M=s[0],D=s[1],C=s[2]);if(S||M||z){var A=Nn(t,e,{delta:S,dist:E,rotate:w,beforeDist:D,beforeDelta:M,beforeRotate:C,transform:u.transform+" rotate("+E+"deg)",isPinch:!!d});return jn(t,"onRotate",A),A}}},dragControlEnd:function(t,e){var r=e.datas,n=e.isDrag;return!!r.isRotate&&(r.isRotate=!1,jn(t,"onRotateEnd",In(t,e,{})),n)},dragGroupControlCondition:Na,dragGroupControlStart:function(t,e){var r=e.datas,n=e.inputEvent,i=t.state,a=i.left,o=i.top,s=i.beforeOrigin,u=this.dragControlStart(t,e);if(!u)return!1;u.set(r.beforeDirection*t.rotation);var c=gi(t,this,"dragControlStart",r,Fe({},e,{parentRotate:0}),(function(t,e,r){var i=t.state,u=i.left,c=i.top,l=i.beforeOrigin,p=Er(wr([u,c],[a,o]),wr(l,s));e.prevClient=p,r.dragStart=za.dragStart(t,(new hi).dragStart(p,n))})),l=Fe({},u,{targets:t.props.targets,events:c}),p=jn(t,"onRotateGroupStart",l);return r.isRotate=!1!==p,!!r.isRotate&&u},dragGroupControl:function(t,e){var r=e.inputEvent,n=e.datas;if(n.isRotate){var i=this.dragControl(t,e);if(i){var a=n.beforeDirection,o=i.beforeDist,s=i.beforeDelta,u=s/180*Math.PI,c=gi(t,this,"dragControl",n,Fe({},e,{parentRotate:o}),(function(t,n,i,o){var s=n.prevClient,c=s[0],l=s[1],p=Or([c,l],u*a),f=p[0],d=p[1],h=[f-c,d-l];n.prevClient=[f,d];var v=za.drag(t,di(t.state,h,r,!!e.isPinch,!1));i.drag=v}));t.rotation=a*i.beforeRotate;var l=Fe({targets:t.props.targets,events:c,set:function(e){t.rotation=e}},i);return jn(t,"onRotateGroup",l),l}}},dragGroupControlEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isRotate){this.dragControlEnd(t,e),gi(t,this,"dragControlEnd",n,e);var i=In(t,e,{targets:t.props.targets});return jn(t,"onRotateGroupEnd",i),r}},request:function(t){var e={},r=0,n=t.getRotation();return{isControl:!0,requestStart:function(t){return{datas:e}},request:function(t){return"deltaRotate"in t?r+=t.deltaRotate:"rotate"in t&&(r=t.rotate-n),{datas:e,parentDist:r}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function ja(t,e,r){var n=t.state,i=n.renderPoses,a=n.rotation,o=t.props.renderDirections,s=void 0===o?e:o,u=t.state.direction,c={};return s.forEach((function(t){c[t]=!0})),s.map((function(t){var e=or[t];if(!e||!c[t])return null;var n=Bn(a/Math.PI*180,15)+sr[t];return u<1&&(n=360-n),n%=180,r.createElement("div",{className:$r("control","direction",t),"data-rotation":n,"data-direction":t,key:"direction-"+t,style:xn.apply(void 0,[a].concat(e.map((function(t){return i[t]}))))})}))}function ka(t,e){return ja(t,ar,e)}function La(t,e){return ja(t,["nw","ne","sw","se"],e)}var Xa={name:"resizable",ableGroup:"size",updateRect:!0,canPinch:!0,props:{resizable:Boolean,throttleResize:Number,renderDirections:Array,keepRatio:Boolean},events:{onResizeStart:"resizeStart",onResize:"resize",onResizeEnd:"resizeEnd",onResizeGroupStart:"resizeGroupStart",onResizeGroup:"resizeGroup",onResizeGroupEnd:"resizeGroupEnd"},render:function(t,e){var r=t.props,n=r.resizable,i=r.edge;if(n)return i?La(t,e):ka(t,e)},dragControlCondition:mi,dragControlStart:function(t,e){var r,n=e.inputEvent,i=e.isPinch,a=e.parentDirection,o=e.datas,s=e.parentFlag,u=a||(i?[0,0]:On(n.target)),c=t.state,l=c.target,p=c.width,f=c.height;if(!u||!l)return!1;!i&&_r(t,{datas:o}),o.datas={},o.direction=u,o.startOffsetWidth=p,o.startOffsetHeight=f,o.prevWidth=0,o.prevHeight=0,r=Sn(l),o.startWidth=r[0],o.startHeight=r[1];var d=[Math.max(0,p-o.startWidth),Math.max(0,f-o.startHeight)];if(o.minSize=d,o.maxSize=[1/0,1/0],!s){var h=window.getComputedStyle(l);o.minSize=Er([parseFloat(h.minWidth)||0,parseFloat(h.minHeight)||0],d),o.maxSize=Er([parseFloat(h.maxWidth)||1/0,parseFloat(h.maxHeight)||1/0],d)}var v=t.props.transformOrigin||"% %";o.transformOrigin=v&&T(v)?v.split(" "):v,o.startDirection=Fr(t,u),o.fixedPosition=Vr(t,o.startDirection),o.fixedOriginalPosition=Vr(t,u);var g=Nn(t,e,{direction:u,set:function(t){var e=t[0],r=t[1];o.startWidth=e,o.startHeight=r},setMin:function(t){o.minSize=t},setMax:function(t){o.maxSize=t},setOrigin:function(t){o.transformOrigin=t},dragStart:za.dragStart(t,(new hi).dragStart([0,0],n))}),m=jn(t,"onResizeStart",g);return!1!==m&&(o.isResize=!0,t.state.snapRenderInfo={request:e.isRequest,direction:u}),!!o.isResize&&g},dragControl:function(t,e){var r,n=e.datas,i=e.distX,a=e.distY,o=e.parentFlag,s=e.isPinch,u=e.parentDistance,c=e.parentScale,l=e.inputEvent,p=e.parentKeepRatio,f=e.dragClient,d=e.parentDist,h=e.isRequest,v=n.direction,g=n.isResize,m=n.transformOrigin;if(g){var b=n.startWidth,y=n.startHeight,x=n.startOffsetWidth,S=n.startOffsetHeight,E=n.prevWidth,w=n.prevHeight,M=n.minSize,D=n.maxSize,C=t.props,O=C.throttleResize,R=void 0===O?0:O,P=C.parentMoveable,z=v;v[0]||v[1]||(z=[1,1]);var B=t.props.keepRatio||p,A=z[0]||!z[1],_=A?S/x:x/S,G=B||o?v:n.startDirection,T=f,N=0,I=0;if(f||(T=!o&&s?Vr(t,[0,0]):B?n.fixedOriginalPosition:n.fixedPosition),d)N=d[0],I=d[1];else if(c)N=(c[0]-1)*x,I=(c[1]-1)*S;else if(s)u&&(N=u,I=u*S/x);else{var j=Gr({datas:n,distX:i,distY:a});if(N=z[0]*j[0],I=z[1]*j[1],B&&x&&S){var k=vr([0,0],j),L=vr([0,0],z),X=vr([0,0],[x,S]),Y=mn([N,I]),q=Math.cos(k-L)*Y;z[0]?z[1]?(N=Math.cos(X)*q,I=Math.sin(X)*q):(N=q,I=Xn(N,A,_)):(I=q,N=Yn(I,A,_))}}var W=z[0]||B?Math.max(x+N,er):x,H=z[1]||B?Math.max(S+I,er):S;B&&x&&S&&(H=W*S/x);var F=[0,0];if(s||(F=fa(t,W,H,v,n.fixedOriginalPosition,h,n)),d&&(!d[0]&&(F[0]=0),!d[1]&&(F[1]=0)),B){z[0]&&z[1]&&F[0]&&F[1]&&(Math.abs(F[0])>Math.abs(F[1])?F[1]=0:F[0]=0);var V=!F[0]&&!F[1];V&&(A?W=Bn(W,R):H=Bn(H,R)),z[0]&&!z[1]||F[0]&&!F[1]||V&&A?(W+=F[0],H=Xn(W,A,_)):(!z[0]&&z[1]||!F[0]&&F[1]||V&&!A)&&(H+=F[1],W=Yn(H,A,_))}else W+=F[0],H+=F[1],F[0]||(W=Bn(W,R)),F[1]||(H=Bn(H,R));r=ti([W,H],M,D,B),W=r[0],H=r[1],W=Math.round(W),H=Math.round(H),N=W-x,I=H-S;var U=[N-E,I-w];n.prevWidth=N,n.prevHeight=I;var $=Hr(t,W,H,G,T,m);if(P||!U.every((function(t){return!t}))||!$.every((function(t){return!t}))){var K=Nn(t,e,{width:b+N,height:y+I,offsetWidth:W,offsetHeight:H,direction:v,dist:[N,I],delta:U,isPinch:!!s,drag:za.drag(t,di(t.state,$,l,!!s,!1))});return jn(t,"onResize",K),K}}},dragControlAfter:function(t,e){var r=e.datas,n=r.isResize,i=r.startOffsetWidth,a=r.startOffsetHeight,o=r.prevWidth,s=r.prevHeight;if(n){var u=t.state,c=u.width,l=u.height,p=c-(i+o),f=l-(a+s),d=Math.abs(p)>3,h=Math.abs(f)>3;return d&&(r.startWidth+=p,r.startOffsetWidth+=p,r.prevWidth+=p),h&&(r.startHeight+=f,r.startOffsetHeight+=f,r.prevHeight+=f),d||h?(this.dragControl(t,e),!0):void 0}},dragControlEnd:function(t,e){var r=e.datas,n=e.isDrag;if(!r.isResize)return!1;r.isResize=!1;var i=In(t,e,{});return jn(t,"onResizeEnd",i),n},dragGroupControlCondition:mi,dragGroupControlStart:function(t,e){var r=e.datas,n=this.dragControlStart(t,e);if(!n)return!1;var i=n.direction,a=r.fixedOriginalPosition,o=gi(t,this,"dragControlStart",r,(function(r,n){var o=Vr(r,i),s=Cr(Rr(-t.rotation/180*Math.PI,3),[o[0]-a[0],o[1]-a[1],1],3),u=s[0],c=s[1];return n.originalX=u,n.originalY=c,e})),s=Fe({},n,{targets:t.props.targets,events:o}),u=jn(t,"onResizeGroupStart",s);return r.isResize=!1!==u,!!r.isResize&&n},dragGroupControl:function(t,e){var r=e.datas;if(r.isResize){var n=this.dragControl(t,e);if(n){var i=n.offsetWidth,a=n.offsetHeight,o=n.dist,s=t.props.keepRatio,u=[i/(i-o[0]),a/(a-o[1])],c=r.fixedOriginalPosition,l=gi(t,this,"dragControl",r,(function(r,n){var i=Cr(Rr(t.rotation/180*Math.PI,3),[n.originalX*u[0],n.originalY*u[1],1],3),a=i[0],o=i[1];return Fe({},e,{parentDist:null,parentScale:u,dragClient:Er(c,[a,o]),parentKeepRatio:s})})),p=Fe({targets:t.props.targets,events:l},n);return jn(t,"onResizeGroup",p),p}}},dragGroupControlEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isResize){this.dragControlEnd(t,e),gi(t,this,"dragControlEnd",n,e);var i=In(t,e,{targets:t.props.targets});return jn(t,"onResizeGroupEnd",i),r}},request:function(t){var e={},r=0,n=0,i=t.getRect();return{isControl:!0,requestStart:function(t){return{datas:e,parentDirection:t.direction||[1,1]}},request:function(t){return"offsetWidth"in t?r=t.offsetWidth-i.offsetWidth:"deltaWidth"in t&&(r+=t.deltaWidth),"offsetHeight"in t?n=t.offsetHeight-i.offsetHeight:"deltaHeight"in t&&(n+=t.deltaHeight),{datas:e,parentDist:[r,n]}},requestEnd:function(){return{datas:e,isDrag:!0}}}}},Ya={name:"scalable",ableGroup:"size",canPinch:!0,props:{scalable:Boolean,throttleScale:Number,renderDirections:String,keepRatio:Boolean},events:{onScaleStart:"scaleStart",onScale:"scale",onScaleEnd:"scaleEnd",onScaleGroupStart:"scaleGroupStart",onScaleGroup:"scaleGroup",onScaleGroupEnd:"scaleGroupEnd"},render:function(t,e){var r=t.props,n=r.resizable,i=r.scalable,a=r.edge;if(!n&&i)return a?La(t,e):ka(t,e)},dragControlCondition:mi,dragControlStart:function(t,e){var r=e.datas,n=e.isPinch,i=e.inputEvent,a=e.parentDirection,o=a||(n?[0,0]:On(i.target)),s=t.state,u=s.width,c=s.height,l=s.targetTransform,p=s.target;if(!o||!p)return!1;n||_r(t,{datas:r}),r.datas={},r.transform=l,r.prevDist=[1,1],r.direction=o,r.width=u,r.height=c,r.startScale=[1,1],r.fixedDirection=o.map((function(t){return-t})),r.fixedPosition=Vr(t,o);var f=Nn(t,e,{direction:o,set:function(t){r.startScale=t},dragStart:za.dragStart(t,(new hi).dragStart([0,0],i))}),d=jn(t,"onScaleStart",f);return!1!==d&&(r.isScale=!0,t.state.snapRenderInfo={request:e.isRequest,direction:o}),!!r.isScale&&f},dragControl:function(t,e){var r=e.datas,n=e.distX,i=e.distY,a=e.parentScale,o=e.parentDistance,s=e.parentKeepRatio,u=e.parentFlag,c=e.isPinch,l=e.inputEvent,p=e.dragClient,f=e.parentDist,d=e.isRequest,h=r.prevDist,v=r.direction,g=r.width,m=r.height,b=r.transform,y=r.isScale,x=r.startScale;if(!y)return!1;var S=t.props,E=S.throttleScale,w=S.parentMoveable,M=v;v[0]||v[1]||(M=[1,1]);var D=t.props.keepRatio||s,C=t.state,O=M[0]||!M[1],R=g*x[0],P=m*x[1],z=O?P/R:R/P,B=1,A=1,_=p;if(p||(_=!u&&c?Vr(t,[0,0]):r.fixedPosition),f)B=(g+f[0])/g,A=(m+f[1])/m;else if(a)B=a[0],A=a[1];else if(c)o&&(B=(g+o)/g,A=(m+o*m/g)/m);else{var T=Gr({datas:r,distX:n,distY:i}),N=M[0]*T[0],I=M[1]*T[1];if(D&&g&&m){var j=vr([0,0],T),k=vr([0,0],M),L=vr([0,0],[R,P]),X=mn([N,I]),Y=Math.cos(j-k)*X;M[0]?M[1]?(N=Math.cos(L)*Y,I=Math.sin(L)*Y):(N=Y,I=Xn(N,O,z)):(I=Y,N=Yn(I,O,z))}B=(g+N)/g,A=(m+I)/m}B=M[0]||D?B*x[0]:x[0],A=M[1]||D?A*x[1]:x[1],0===B&&(B=(h[0]>0?1:-1)*rr),0===A&&(A=(h[1]>0?1:-1)*rr);var q=[B/x[0],A/x[1]],W=[B,A];if(!c&&t.props.groupable){var H=C.snapRenderInfo||{},F=H.direction;G(F)&&(F[0]||F[1])&&(C.snapRenderInfo={direction:v,request:e.isRequest})}var V=[0,0];if(c||(V=da(t,q,v,r.fixedPosition,d,r)),D){M[0]&&M[1]&&V[0]&&V[1]&&(Math.abs(V[0])>Math.abs(V[1])?V[1]=0:V[0]=0);var U=!V[0]&&!V[1];if(U&&(O?q[0]=Bn(q[0]*x[0],E)/x[0]:q[1]=Bn(q[1]*x[1],E)/x[1]),M[0]&&!M[1]||V[0]&&!V[1]||U&&O){q[0]+=V[0];var $=Xn(g*q[0]*x[0],O,z);q[1]=$/m/x[1]}else if(!M[0]&&M[1]||!V[0]&&V[1]||U&&!O){q[1]+=V[1];var K=Yn(m*q[1]*x[1],O,z);q[0]=K/g/x[0]}}else q[0]+=V[0],q[1]+=V[1],V[0]||(q[0]=Bn(q[0]*x[0],E)/x[0]),V[1]||(q[1]=Bn(q[1]*x[1],E)/x[1]);0===q[0]&&(q[0]=(h[0]>0?1:-1)*rr),0===q[1]&&(q[1]=(h[1]>0?1:-1)*rr);var Z=[q[0]/h[0],q[1]/h[1]];W=Ur(q,x),r.prevDist=q;var J=Wr(t,Z,v,_);if(B===h[0]&&A===h[1]&&J.every((function(t){return!t}))&&!w)return!1;var Q=Nn(t,e,{offsetWidth:g,offsetHeight:m,scale:W,direction:v,dist:q,delta:Z,transform:b+" scale("+B+", "+A+")",isPinch:!!c,drag:za.drag(t,di(t.state,J,l,c,!1))});return jn(t,"onScale",Q),Q},dragControlEnd:function(t,e){var r=e.datas,n=e.isDrag;return!!r.isScale&&(r.isScale=!1,jn(t,"onScaleEnd",In(t,e,{})),n)},dragGroupControlCondition:mi,dragGroupControlStart:function(t,e){var r=e.datas,n=this.dragControlStart(t,e);if(!n)return!1;var i=n.direction,a=r.fixedPosition;r.moveableScale=t.scale;var o=gi(t,this,"dragControlStart",r,(function(r,n){var o=Vr(r,i),s=Cr(Rr(-t.rotation/180*Math.PI,3),[o[0]-a[0],o[1]-a[1],1],3),u=s[0],c=s[1];return n.originalX=u,n.originalY=c,e})),s=Fe({},n,{targets:t.props.targets,events:o}),u=jn(t,"onScaleGroupStart",s);return r.isScale=!1!==u,!!r.isScale&&s},dragGroupControl:function(t,e){var r=e.datas;if(r.isScale){var n=this.dragControl(t,e);if(n){var i=r.moveableScale;t.scale=[n.scale[0]*i[0],n.scale[1]*i[1]];var a=t.props.keepRatio,o=n.dist,s=n.scale,u=r.fixedPosition,c=gi(t,this,"dragControl",r,(function(r,n){var i=Cr(Rr(t.rotation/180*Math.PI,3),[n.originalX*o[0],n.originalY*o[1],1],3),c=i[0],l=i[1];return Fe({},e,{parentDist:null,parentScale:s,parentKeepRatio:a,dragClient:Er(u,[c,l])})})),l=Fe({targets:t.props.targets,events:c},n);return jn(t,"onScaleGroup",l),l}}},dragGroupControlEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isScale){this.dragControlEnd(t,e),gi(t,this,"dragControlEnd",n,e);var i=In(t,e,{targets:t.props.targets});return jn(t,"onScaleGroupEnd",i),r}},request:function(){var t={},e=0,r=0;return{isControl:!0,requestStart:function(e){return{datas:t,parentDirection:e.direction||[1,1]}},request:function(n){return e+=n.deltaWidth,r+=n.deltaHeight,{datas:t,parentDist:[e,r]}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function qa(t,e){return t.map((function(t,r){return B(t,e[r],1,2)}))}function Wa(t,e,r){var n=vr(t,e),i=vr(t,r),a=i-n;return a>=0?a:a+2*Math.PI}function Ha(t,e){var r=Wa(t[0],t[1],t[2]),n=Wa(e[0],e[1],e[2]),i=Math.PI;return!(r>=i&&n<=i||r<=i&&n>=i)}var Fa={name:"warpable",ableGroup:"size",props:{warpable:Boolean,renderDirections:Array},events:{onWarpStart:"warpStart",onWarp:"warp",onWarpEnd:"warpEnd"},render:function(t,e){var r=t.props,n=r.resizable,i=r.scalable,a=r.warpable;if(n||i||!a)return[];var o=t.state,s=o.pos1,u=o.pos2,c=o.pos3,l=o.pos4,p=qa(s,u),f=qa(u,s),d=qa(s,c),h=qa(c,s),v=qa(c,l),g=qa(l,c),m=qa(u,l),b=qa(l,u);return[e.createElement("div",{className:$r("line"),key:"middeLine1",style:yn(p,v)}),e.createElement("div",{className:$r("line"),key:"middeLine2",style:yn(f,g)}),e.createElement("div",{className:$r("line"),key:"middeLine3",style:yn(d,m)}),e.createElement("div",{className:$r("line"),key:"middeLine4",style:yn(h,b)})].concat(ka(t,e))},dragControlCondition:function(t){return!t.isRequest&&U(t.inputEvent.target,$r("direction"))},dragControlStart:function(t,e){var r=e.datas,n=e.inputEvent,i=t.props.target,a=n.target,o=On(a);if(!o||!i)return!1;var s=t.state,u=s.transformOrigin,c=s.is3d,l=s.targetTransform,p=s.targetMatrix,f=s.width,d=s.height,h=s.left,v=s.top;r.datas={},r.targetTransform=l,r.warpTargetMatrix=c?p:br(p,3,4),r.targetInverseMatrix=fr(dr(r.warpTargetMatrix,4),3,4),r.direction=o,r.left=h,r.top=v,_r(t,{datas:r}),r.poses=[[0,0],[f,0],[0,d],[f,d]].map((function(t){return wr(t,u)})),r.nextPoses=r.poses.map((function(t){var e=t[0],n=t[1];return Cr(r.warpTargetMatrix,[e,n,0,1],4)})),r.startMatrix=Pr(4),r.prevMatrix=Pr(4),r.absolutePoses=Pn(s),r.posIndexes=Ir(o),s.snapRenderInfo={request:e.isRequest,direction:o};var g=Nn(t,e,{set:function(t){r.startMatrix=t}}),m=jn(t,"onWarpStart",g);return!1!==m&&(r.isWarp=!0),r.isWarp},dragControl:function(t,e){var r=e.datas,n=e.isRequest,i=e.distX,a=e.distY,o=r.targetInverseMatrix,s=r.prevMatrix,u=r.isWarp,c=r.startMatrix,l=r.poses,p=r.posIndexes,f=r.absolutePoses;if(!u)return!1;if(Zi(t,"warpable")){var d=p.map((function(t){return f[t]}));d.length>1&&d.push([(d[0][0]+d[1][0])/2,(d[0][1]+d[1][1])/2]);var h=na(t,n,d.map((function(t){return[t[0]+i,t[1]+a]}))),v=h.horizontal,g=h.vertical;a-=v.offset,i-=g.offset}var m=Gr({datas:r,distX:i,distY:a},!0),b=r.nextPoses.slice();if(p.forEach((function(t){b[t]=Er(b[t],m)})),!tr.every((function(t){return Ha(t.map((function(t){return l[t]})),t.map((function(t){return b[t]})))})))return!1;var y=Ar(l[0],l[2],l[1],l[3],b[0],b[2],b[1],b[3]);if(!y.length)return!1;var x=xr(o,y,4),S=r.targetTransform+" "+sn(x,!0),E=xr(dr(s,4),x,4);return r.prevMatrix=x,jn(t,"onWarp",Nn(t,e,{delta:E,matrix:xr(c,x,4),multiply:xr,dist:x,transform:S})),!0},dragControlEnd:function(t,e){var r=e.datas,n=e.isDrag;return!!r.isWarp&&(r.isWarp=!1,jn(t,"onWarpEnd",In(t,e,{})),n)}},Va=$r("area"),Ua=$r("area-pieces"),$a=$r("area-piece"),Ka=$r("avoid");function Za(t){var e=t.areaElement,r=t.state,n=r.width,i=r.height;K(e,Ka),e.style.cssText+="left: 0px; top: 0px; width: "+n+"px; height: "+i+"px"}function Ja(t){return t.createElement("div",{key:"area_pieces",className:Ua},t.createElement("div",{className:$a}),t.createElement("div",{className:$a}),t.createElement("div",{className:$a}),t.createElement("div",{className:$a}))}var Qa={name:"dragArea",props:{dragArea:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},render:function(t,e){var r=t.props,n=r.target,i=r.dragArea,a=r.groupable,o=t.state,s=o.width,u=o.height,c=o.renderPoses;if(a)return[e.createElement("div",{key:"area",ref:d(t,"areaElement"),className:Va}),Ja(e)];if(!n||!i)return[];var l=Ar([0,0],[s,0],[0,u],[s,u],c[0],c[1],c[2],c[3]),p=l.length?sn(l,!0):"none";return[e.createElement("div",{key:"area",ref:d(t,"areaElement"),className:Va,style:{top:"0px",left:"0px",width:s+"px",height:u+"px",transformOrigin:"0 0",transform:p}}),Ja(e)]},dragStart:function(t,e){var r=e.datas,n=e.clientX,i=e.clientY,a=e.inputEvent;if(!a)return!1;r.isDragArea=!1,r.inputTarget=a.target;var o=t.areaElement,s=t.state,u=s.moveableClientRect,c=s.renderPoses,l=s.rootMatrix,p=s.is3d,f=u.left,d=u.top,h=dn(c),v=h.left,g=h.top,m=h.width,b=h.height,y=p?4:3,x=Kn(l,[n-f,i-d],y),S=x[0],E=x[1];S-=v,E-=g;var w=[{left:v,top:g,width:m,height:E-10},{left:v,top:g,width:S-10,height:b},{left:v,top:g+E+10,width:m,height:b-E-10},{left:v+S+10,top:g,width:m-S-10,height:b}],M=[].slice.call(o.nextElementSibling.children);return w.forEach((function(t,e){M[e].style.cssText="left: "+t.left+"px;top: "+t.top+"px; width: "+t.width+"px; height: "+t.height+"px;"})),$(o,Ka),!0},drag:function(t,e){var r=e.datas,n=e.inputEvent;if(!n)return!1;r.isDragArea||(r.isDragArea=!0,Za(t))},dragEnd:function(t,e){if(!e.inputEvent)return!1;var r=e.inputEvent,n=e.datas,i=n.isDragArea;i||Za(t);var a=t.state.target,o=r.target;if(!i&&!t.isMoveableElement(o)){var s=a.contains(o);jn(t,"onClick",Nn(t,e,{isDouble:e.isDouble,inputTarget:o,isTarget:a===o,containsTarget:s}))}},dragGroupStart:function(t,e){return this.dragStart(t,e)},dragGroup:function(t,e){return this.drag(t,e)},dragGroupEnd:function(t,e){var r=e.inputEvent,n=e.isDragArea,i=e.datas;if(!r)return!1;n||Za(t);var a=i.inputTarget,o=r.target;if(!n&&!t.isMoveableElement(o)&&a!==o){var s=t.props.targets,u=s.indexOf(o),c=u>-1,l=!1;-1===u&&(u=F(s,(function(t){return t.contains(o)})),l=u>-1),jn(t,"onClickGroup",Nn(t,e,{isDouble:e.isDouble,targets:s,inputTarget:o,targetIndex:u,isTarget:c,containsTarget:l}))}}},to={name:"origin",props:{origin:Boolean},events:{},render:function(t,e){var r=t.state,n=r.beforeOrigin,i=r.rotation;return[e.createElement("div",{className:$r("control","origin"),style:xn(i,n),key:"beforeOrigin"})]}};function eo(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var ro={name:"scrollable",canPinch:!0,props:{scrollable:Boolean,scrollContainer:Object,scrollThreshold:Number,getScrollPosition:Function},events:{onScroll:"scroll",onScrollGroup:"scrollGroup"},dragStart:function(t,e){var r=t.props,n=r.scrollContainer,i=void 0===n?t.getContainer():n,a=new je;e.datas.dragScroll=a;var o=e.isControl?"controlDragger":"targetDragger",s=e.targets;a.on("scroll",(function(r){var n=r.container,i=r.direction,a=Nn(t,e,{scrollContainer:n,direction:i}),o=s?"onScrollGroup":"onScroll";s&&(a.targets=s),jn(t,o,a)})).on("move",(function(r){var n=r.offsetX,i=r.offsetY;t[o].scrollBy(n,i,e.inputEvent,!1)})),a.dragStart(e,{container:i})},checkScroll:function(t,e){var r=e.datas.dragScroll;if(r){var n=t.props,i=n.scrollContainer,a=void 0===i?t.getContainer():i,o=n.scrollThreshold,s=void 0===o?0:o,u=n.getScrollPosition,c=void 0===u?eo:u;return r.drag(e,{container:a,threshold:s,getScrollPosition:function(t){return c({scrollContainer:t.container,direction:t.direction})}}),!0}},drag:function(t,e){return this.checkScroll(t,e)},dragEnd:function(t,e){e.datas.dragScroll.dragEnd(),e.datas.dragScroll=null},dragControlStart:function(t,e){return this.dragStart(t,Fe({},e,{isControl:!0}))},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupStart:function(t,e){return this.dragStart(t,Fe({},e,{targets:t.props.targets}))},dragGroup:function(t,e){return this.drag(t,Fe({},e,{targets:t.props.targets}))},dragGroupEnd:function(t,e){return this.dragEnd(t,Fe({},e,{targets:t.props.targets}))},dragGroupControlStart:function(t,e){return this.dragStart(t,Fe({},e,{targets:t.props.targets,isControl:!0}))},dragGroupContro:function(t,e){return this.drag(t,Fe({},e,{targets:t.props.targets}))},dragGroupControEnd:function(t,e){return this.dragEnd(t,Fe({},e,{targets:t.props.targets}))}},no={name:"",props:{target:Object,dragTarget:Object,container:Object,rootContainer:Object,zoom:Number,transformOrigin:Array,edge:Boolean,ables:Array,className:String,pinchThreshold:Number,pinchOutside:Boolean,triggerAblesSimultaneously:Boolean,checkInput:Boolean,cspNonce:String},events:{onRenderStart:"renderStart",onRender:"render",onRenderEnd:"renderEnd",onRenderGroupStart:"renderGroupStart",onRenderGroup:"renderGroup",onRenderGroupEnd:"renderGroupEnd"}},io={name:"padding",props:{padding:Object},events:{},render:function(t,e){var r=t.props;if(r.dragArea)return[];var n=r.padding||{},i=n.left,a=void 0===i?0:i,o=n.top,s=void 0===o?0:o,u=n.right,c=void 0===u?0:u,l=n.bottom,p=void 0===l?0:l,f=t.state,d=f.renderPoses,h=f.pos1,v=f.pos2,g=f.pos3,m=f.pos4,b=[h,v,g,m],y=[];return a>0&&y.push([0,2]),s>0&&y.push([0,1]),c>0&&y.push([1,3]),p>0&&y.push([2,3]),y.map((function(t,r){var n=t[0],i=t[1],a=b[n],o=b[i],s=d[n],u=d[i],c=Ar([0,0],[100,0],[0,100],[100,100],a,o,s,u);if(c.length)return e.createElement("div",{key:"padding"+r,className:$r("padding"),style:{transform:sn(c,!0)}})}))}},ao=["nw","ne","se","sw"];function oo(t,e){var r=t[0]+t[1],n=r>e?e/r:1;return t[0]*=n,t[1]=e-t[1]*n,t}var so=[1,2,5,6],uo=[0,3,4,7],co=[1,-1,-1,1],lo=[1,1,-1,-1];function po(t,e,r,n,i,a,o,s,u){void 0===a&&(a=0),void 0===o&&(o=0),void 0===s&&(s=n),void 0===u&&(u=i);var c=[],l=!1,p=t.map((function(t,p){var f=e[p],d=f.horizontal,h=f.vertical;if(h&&!l&&(l=!0,c.push("/")),l){var v=Math.max(0,1===h?t[1]-o:u-t[1]);return c.push(ri(v,i,r)),v}v=Math.max(0,1===d?t[0]-a:s-t[0]);return c.push(ri(v,n,r)),v}));return{styles:c,raws:p}}function fo(t){for(var e=[0,0],r=[0,0],n=t.length,i=0;i<n;++i){var a=t[i];a.sub&&(a.horizontal&&(0===e[1]&&(e[0]=i),e[1]=i-e[0]+1,r[0]=i+1),a.vertical&&(0===r[1]&&(r[0]=i),r[1]=i-r[0]+1))}return{horizontalRange:e,verticalRange:r}}function ho(t,e,r,n,i){var a,o,s,u,c=t.indexOf("/"),l=(c>-1?t.slice(0,c):t).length,p=t.slice(0,l),f=t.slice(l+1),d=p[0],h=void 0===d?"0":d,v=p[1],g=void 0===v?h:v,m=p[2],b=void 0===m?h:m,y=p[3],x=void 0===y?g:y,S=f[0],E=void 0===S?h:S,w=f[1],M=void 0===w?E:w,D=f[2],C=void 0===D?E:D,O=f[3],R=void 0===O?M:O,P=[h,g,b,x].map((function(t){return ei(t,e)})),z=[E,M,C,R].map((function(t){return ei(t,r)})),B=P.slice(),A=z.slice();a=oo([B[0],B[1]],e),B[0]=a[0],B[1]=a[1],o=oo([B[3],B[2]],e),B[3]=o[0],B[2]=o[1],s=oo([A[0],A[3]],r),A[0]=s[0],A[3]=s[1],u=oo([A[1],A[2]],r),A[1]=u[0],A[2]=u[1];var _=B.slice(0,p.length),G=A.slice(0,f.length);return _.map((function(t,e){var a=ao[e];return{horizontal:co[e],vertical:0,pos:[n+t,i+(-1===lo[e]?r:0)],sub:!0,raw:P[e],direction:a}})).concat(G.map((function(t,r){var a=ao[r];return{horizontal:0,vertical:lo[r],pos:[n+(-1===co[r]?e:0),i+t],sub:!0,raw:z[r],direction:a}})))}function vo(t,e,r,n,i){void 0===i&&(i=e.length);var a=fo(t.slice(n)),o=a.horizontalRange,s=a.verticalRange,u=r-n,c=0;if(0===u)c=i;else if(u>0&&u<o[1])c=o[1]-u;else{if(!(u>=s[0]))return;c=s[0]+s[1]-u}t.splice(r,c),e.splice(r,c)}function go(t,e,r,n,i,a,o,s,u,c,l){void 0===c&&(c=0),void 0===l&&(l=0);var p=fo(t.slice(r)),f=p.horizontalRange,d=p.verticalRange;if(n>-1)for(var h=1===co[n]?a-c:s-a,v=f[1];v<=n;++v){var g=1===lo[v]?l:u,m=0;if(n===v?m=a:0===v?m=c+h:-1===co[v]&&(m=s-(e[r][0]-c)),t.splice(r+v,0,{horizontal:co[v],vertical:0,pos:[m,g]}),e.splice(r+v,0,[m,g]),0===v)break}else if(i>-1){var b=1===lo[i]?o-l:u-o;if(0===f[1]&&0===d[1]){var y=[c+b,l];t.push({horizontal:co[0],vertical:0,pos:y}),e.push(y)}var x=d[0];for(v=d[1];v<=i;++v){m=1===co[v]?c:s,g=0;if(i===v?g=o:0===v?g=l+b:1===lo[v]?g=e[r+x][1]:-1===lo[v]&&(g=u-(e[r+x][1]-l)),t.push({horizontal:0,vertical:lo[v],pos:[m,g]}),e.push([m,g]),0===v)break}}}function mo(t,e){void 0===e&&(e=t.map((function(t){return t.raw})));var r=t.map((function(t,r){return t.horizontal?e[r]:null})).filter((function(t){return null!=t})),n=t.map((function(t,r){return t.vertical?e[r]:null})).filter((function(t){return null!=t}));return{horizontals:r,verticals:n}}var bo=[[0,-1,"n"],[1,0,"e"]],yo=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function xo(t,e,r){var n=t.props.clipRelative,i=t.state,a=i.width,o=i.height,s=e,u=s.type,c=s.poses,l="rect"===u,p="circle"===u;if("polygon"===u)return r.map((function(t){return ri(t[0],a,n)+" "+ri(t[1],o,n)}));if(l||"inset"===u){var f=r[1][1],d=r[3][0],h=r[7][0],v=r[5][1];if(l)return[f,d,v,h].map((function(t){return t+"px"}));var g=[f,a-d,o-v,h].map((function(t,e){return ri(t,e%2?a:o,n)}));if(r.length>8){var m=wr(r[4],r[0]),b=m[0],y=m[1];g.push.apply(g,["round"].concat(po(r.slice(8),c.slice(8),n,b,y,h,f,d,v).styles))}return g}if(p||"ellipse"===u){var x=r[0],S=ri(Math.abs(r[1][1]-x[1]),p?Math.sqrt((a*a+o*o)/2):o,n);g=p?[S]:[ri(Math.abs(r[2][0]-x[0]),a,n),S];return g.push("at",ri(x[0],a,n),ri(x[1],o,n)),g}}function So(t,e,r,n){var i=[n,(n+e)/2,e],a=[t,(t+r)/2,r];return yo.map((function(t){var e=t[0],r=t[1],n=t[2],o=i[e+1],s=a[r+1];return{vertical:Math.abs(r),horizontal:Math.abs(e),direction:n,pos:[o,s]}}))}function Eo(t,e,r,n,i){var a,o,s,u,c,l,p,f=i;if(!f){var d=getComputedStyle(t),h=d.clipPath;f="none"!==h?h:d.clip}if(f&&"none"!==f&&"auto"!==f||(f=n,f)){var v=X(f),g=v.prefix,m=void 0===g?f:g,b=v.value,y=void 0===b?"":b,x="circle"===m,S=" ";if("polygon"===m){var E=L(y||"0% 0%, 100% 0%, 100% 100%, 0% 100%");S=",";var w=E.map((function(t){var n=t.split(" "),i=n[0],a=n[1];return{vertical:1,horizontal:1,pos:[ei(i,e),ei(a,r)]}}));return{type:m,clipText:f,poses:w,splitter:S}}if(x||"ellipse"===m){var M="",D="",C=0,O=0;E=k(y);if(x){var R="";a=E[0],R=void 0===a?"50%":a,o=E[2],M=void 0===o?"50%":o,s=E[3],D=void 0===s?"50%":s,C=ei(R,Math.sqrt((e*e+r*r)/2)),O=C}else{var P="",z="";u=E[0],P=void 0===u?"50%":u,c=E[1],z=void 0===c?"50%":c,l=E[3],M=void 0===l?"50%":l,p=E[4],D=void 0===p?"50%":p,C=ei(P,e),O=ei(z,r)}var B=[ei(M,e),ei(D,r)];w=[{vertical:1,horizontal:1,pos:B,direction:"nesw"}].concat(bo.slice(0,x?1:2).map((function(t){return{vertical:Math.abs(t[1]),horizontal:t[0],direction:t[2],sub:!0,pos:[B[0]+t[0]*C,B[1]+t[1]*O]}})));return{type:m,clipText:f,radiusX:C,radiusY:O,left:B[0]-C,top:B[1]-O,poses:w,splitter:S}}if("inset"===m){E=k(y||"0 0 0 0");var A=E.indexOf("round"),_=(A>-1?E.slice(0,A):E).length,G=E.slice(_+1),T=E.slice(0,_),N=T[0],I=T[1],j=void 0===I?N:I,q=T[2],W=void 0===q?N:q,H=T[3],F=void 0===H?j:H,V=[N,W].map((function(t){return ei(t,r)})),U=V[0],$=V[1],K=[F,j].map((function(t){return ei(t,e)})),Z=K[0],J=K[1],Q=e-J,tt=r-$,et=ho(G,Q-Z,tt-U,Z,U);w=So(U,Q,tt,Z).concat(et);return{type:"inset",clipText:f,poses:w,top:U,left:Z,right:Q,bottom:tt,radius:G,splitter:S}}if("rect"===m){E=L(y||"0px, "+e+"px, "+r+"px, 0px");S=",";var rt=E.map((function(t,e){var r=Y(t).value;return r}));U=rt[0],J=rt[1],$=rt[2],Z=rt[3],w=So(U,J,$,Z);return{type:"rect",clipText:f,poses:w,top:U,right:J,bottom:$,left:Z,values:E,splitter:S}}}}function wo(t,e){var r=ii(t,e),n=r[0],i=r[1],a=e.datas,o=a.clipPath,s=a.index,u=o,c=u.type,l=u.poses,p=u.splitter,f=l.map((function(t){return t.pos}));if("polygon"===c)f.splice(s,0,[n,i]);else{if("inset"!==c)return;var d=so.indexOf(s),h=uo.indexOf(s),v=l.length;if(go(l,f,8,d,h,n,i,f[4][0],f[4][1],f[0][0],f[0][1]),v===l.length)return}var g=xo(t,o,f);jn(t,"onClip",Nn(t,e,{clipEventType:"added",clipType:c,poses:f,clipStyles:g,clipStyle:c+"("+g.join(p)+")",distX:0,distY:0}))}function Mo(t,e){var r=e.datas,n=r.clipPath,i=r.index,a=n,o=a.type,s=a.poses,u=a.splitter,c=s.map((function(t){return t.pos})),l=c.length;if("polygon"===o)s.splice(i,1),c.splice(i,1);else{if("inset"!==o)return;if(i<8)return;if(vo(s,c,i,8,l),l===s.length)return}var p=xo(t,n,c);jn(t,"onClip",Nn(t,e,{clipEventType:"removed",clipType:o,poses:c,clipStyles:p,clipStyle:o+"("+p.join(u)+")",distX:0,distY:0}))}var Do={name:"clippable",props:{clippable:Boolean,defaultClipPath:String,customClipPath:String,clipRelative:Boolean,clipArea:Boolean,dragWithClip:Boolean},events:{onClipStart:"clipStart",onClip:"clip",onClipEnd:"clipEnd"},css:[".control.clip-control {\n    background: #6d6;\n    cursor: pointer;\n}\n.control.clip-control.clip-radius {\n    background: #d66;\n}\n.line.clip-line {\n    background: #6e6;\n    cursor: move;\n    z-index: 1;\n}\n.clip-area {\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n.clip-ellipse {\n    position: absolute;\n    cursor: move;\n    border: 1px solid #6d6;\n    border: var(--zoompx) solid #6d6;\n    border-radius: 50%;\n    transform-origin: 0px 0px;\n}"],render:function(t,e){var r=t.props,n=r.customClipPath,i=r.defaultClipPath,a=r.clipArea,o=r.zoom,s=t.state,u=s.target,c=s.width,l=s.height,p=s.matrix,f=s.is3d,d=s.left,h=s.top,v=s.pos1,g=s.pos2,m=s.pos3,b=s.pos4,y=s.clipPathState;if(!u)return[];var x=Eo(u,c,l,i||"inset",y||n);if(!x)return[];var S=f?4:3,E=x.type,w=x.poses,M=w.map((function(t){var e=pn(p,t.pos,S);return[e[0]-d,e[1]-h]})),D=[],C=[],O="rect"===E,R="inset"===E,P="polygon"===E;if(O||R||P){var z=R?M.slice(0,8):M;C=z.map((function(t,r){var n=0===r?z[z.length-1]:z[r-1],i=vr(n,t),a=bn(n,t);return e.createElement("div",{key:"clipLine"+r,className:$r("line","clip-line"),"data-clip-index":r,style:{width:a+"px",transform:"translate("+n[0]+"px, "+n[1]+"px) rotate("+i+"rad)"}})}))}if(D=M.map((function(t,r){return e.createElement("div",{key:"clipControl"+r,className:$r("control","clip-control"),"data-clip-index":r,style:{transform:"translate("+t[0]+"px, "+t[1]+"px)"}})})),R&&D.push.apply(D,M.slice(8).map((function(t,r){return e.createElement("div",{key:"clipRadiusControl"+r,className:$r("control","clip-control","clip-radius"),"data-clip-index":8+r,style:{transform:"translate("+t[0]+"px, "+t[1]+"px)"}})}))),"circle"===E||"ellipse"===E){var B=x.left,A=x.top,_=x.radiusX,G=x.radiusY,T=wr(pn(p,[B,A],S),pn(p,[0,0],S)),N=T[0],I=T[1],j="none";if(!a){for(var k=Math.max(10,_/5,G/5),L=[],X=0;X<=k;++X){var Y=2*Math.PI/k*X;L.push([_+(_-o)*Math.cos(Y),G+(G-o)*Math.sin(Y)])}L.push([_,-2]),L.push([-2,-2]),L.push([-2,2*G+2]),L.push([2*_+2,2*G+2]),L.push([2*_+2,-2]),L.push([_,-2]),j="polygon("+L.map((function(t){return t[0]+"px "+t[1]+"px"})).join(", ")+")"}D.push(e.createElement("div",{key:"clipEllipse",className:$r("clip-ellipse"),style:{width:2*_+"px",height:2*G+"px",clipPath:j,transform:"translate("+(-d+N)+"px, "+(-h+I)+"px) "+sn(p)}}))}if(a){var q=dn([v,g,m,b].concat(M)),W=q.width,H=q.height,F=q.left,V=q.top;if(P||O||R){L=R?M.slice(0,8):M;D.push(e.createElement("div",{key:"clipArea",className:$r("clip-area"),style:{width:W+"px",height:H+"px",transform:"translate("+F+"px, "+V+"px)",clipPath:"polygon("+L.map((function(t){return t[0]-F+"px "+(t[1]-V)+"px"})).join(", ")+")"}}))}}return D.concat(C)},dragControlCondition:function(t){return t.inputEvent&&(t.inputEvent.target.className||"").indexOf("clip")>-1},dragStart:function(t,e){var r=t.props,n=r.dragWithClip,i=void 0===n||n;return!i&&this.dragControlStart(t,e)},drag:function(t,e){return this.dragControl(t,e)},dragEnd:function(t,e){return this.dragControlEnd(t,e)},dragControlStart:function(t,e){var r=t.state,n=t.props,i=n.defaultClipPath,a=n.customClipPath,o=r.target,s=r.width,u=r.height,c=e.inputEvent?e.inputEvent.target:null,l=c?c.className:"",p=e.datas,f=Eo(o,s,u,i||"inset",a);if(!f)return!1;var d=f.clipText,h=f.type,v=f.poses,g=jn(t,"onClipStart",Nn(t,e,{clipType:h,clipStyle:d,poses:v.map((function(t){return t.pos}))}));return!1===g?(p.isClipStart=!1,!1):(p.isControl=l.indexOf("clip-control")>-1,p.isLine=l.indexOf("clip-line")>-1,p.isArea=l.indexOf("clip-area")>-1||l.indexOf("clip-ellipse")>-1,p.index=c?parseInt(c.getAttribute("data-clip-index"),10):-1,p.clipPath=f,p.isClipStart=!0,r.clipPathState=d,_r(t,e),!0)},dragControl:function(t,e){var r=e.datas,n=e.originalDatas;if(!r.isClipStart)return!1;var i=n&&n.draggable||{},a=r,o=a.isControl,s=a.isLine,u=a.isArea,c=a.index,l=a.clipPath;if(!l)return!1;var p=i.isDrag?i.prevDist:Gr(e),f=p[0],d=p[1],h=t.state,v=!u&&!o&&!s,g=l.type,m=l.poses,b=l.splitter,y=m.map((function(t){return t.pos})),x=y.map((function(t){return t.slice()}));v&&(f=-f,d=-d);var S=!o||"nesw"===m[c].direction;o&&!S&&ni(m,x,c,f,d),S&&y.forEach((function(t,e){x[e]=Er(t,[f,d])}));var E=xo(t,l,x),w=g+"("+E.join(b)+")";return h.clipPathState=w,jn(t,"onClip",Nn(t,e,{clipEventType:"changed",clipType:g,poses:x,clipStyle:w,clipStyles:E,distX:f,distY:d})),!0},dragControlEnd:function(t,e){t.state.clipPathState="";var r=e.isDrag,n=e.datas,i=e.isDouble,a=n.isLine,o=n.isClipStart,s=n.isControl;return!!o&&(jn(t,"onClipEnd",In(t,e,{})),i&&(s?Mo(t,e):a&&wo(t,e)),i||r)},unset:function(t){t.state.clipPathState=""}},Co={name:"originDraggable",props:{originDraggable:Boolean,originRelative:Boolean},events:{onDragOriginStart:"dragOriginStart",onDragOrigin:"dragOrigin",onDragOriginEnd:"dragOriginEnd"},css:[":host[data-able-origindraggable] .control.origin {\n    pointer-events: auto;\n}"],dragControlCondition:function(t){return t.isRequest?"originDraggable"===t.requestAble:U(t.inputEvent.target,$r("origin"))},dragControlStart:function(t,e){var r=e.inputEvent,n=e.datas;_r(t,e);var i=Nn(t,e,{dragStart:za.dragStart(t,(new hi).dragStart([0,0],r))}),a=jn(t,"onDragOriginStart",i);return n.startOrigin=t.state.transformOrigin,n.startTargetOrigin=t.state.targetOrigin,n.prevOrigin=[0,0],n.isDragOrigin=!0,!1===a?(n.isDragOrigin=!1,!1):i},dragControl:function(t,e){var r=e.datas,n=e.inputEvent,i=e.isPinch,a=e.isRequest;if(!r.isDragOrigin)return!1;var o=Gr(e),s=o[0],u=o[1],c=t.state,l=c.width,p=c.height,f=c.offsetMatrix,d=c.targetMatrix,h=c.is3d,v=t.props.originRelative,g=void 0===v||v,m=h?4:3,b=[s,u];if(a){var y=e.distOrigin;(y[0]||y[1])&&(b=y)}var x=Er(r.startOrigin,b),S=Er(r.startTargetOrigin,b),E=wr(b,r.prevOrigin),w=Yr(f,d,x,m),M=t.getRect(),D=dn(fn(w,l,p,m)),C=[M.left-D.left,M.top-D.top];r.prevOrigin=b;var O=[ri(S[0],l,g),ri(S[1],p,g)].join(" "),R=Nn(t,e,{width:l,height:p,origin:x,dist:b,delta:E,transformOrigin:O,drag:za.drag(t,di(t.state,C,n,!!i,!1))});return jn(t,"onDragOrigin",R),R},dragControlEnd:function(t,e){var r=e.datas;return!!r.isDragOrigin&&(jn(t,"onDragOriginEnd",In(t,e,{})),!0)},dragGroupControlCondition:function(t){return this.dragControlCondition(t)},dragGroupControlStart:function(t,e){var r=this.dragControlStart(t,e);return!!r},dragGroupControl:function(t,e){var r=this.dragControl(t,e);return!!r&&(t.transformOrigin=r.transformOrigin,!0)},request:function(t){var e={},r=t.getRect(),n=0,i=0,a=r.transformOrigin,o=[0,0];return{isControl:!0,requestStart:function(){return{datas:e}},request:function(t){return"deltaOrigin"in t?(o[0]+=t.deltaOrigin[0],o[1]+=t.deltaOrigin[1]):"origin"in t?(o[0]=t.origin[0]-a[0],o[1]=t.origin[1]-a[1]):("x"in t?n=t.x-r.left:"deltaX"in t&&(n+=t.deltaX),"y"in t?i=t.y-r.top:"deltaY"in t&&(i+=t.deltaY)),{datas:e,distX:n,distY:i,distOrigin:o}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function Oo(t,e,r,n,i,a,o){var s=mo(t),u=s.horizontals,c=s.verticals,l=u.length,p=c.length,f=-1,d=-1;0===r?0===l?f=0:1===l&&(f=1):3===r&&(l<=2?f=2:l<=3&&(f=3)),2===r?0===p?d=0:p<4&&(d=3):1===r&&(p<=1?d=1:p<=2&&(d=2)),go(t,e,0,f,d,n,i,a,o)}function Ro(t,e,r,n){var i;if(n)i=n;else{var a=window.getComputedStyle(t);if(!a)return null;i=a.borderRadius||""}if(!i||!n&&"0px"===i)return null;var o=k(i);return ho(o,e,r,0,0)}function Po(t,e,r,n,i,a){var o=t.state,s=o.width,u=o.height,c=po(a,i,t.props.roundRelative,s,u),l=c.raws,p=c.styles,f=mo(i,l),d=f.horizontals,h=f.verticals,v=p.join(" ");o.borderRadiusState=v,jn(t,"onRound",Nn(t,e,{horizontals:d,verticals:h,borderRadius:v,width:s,height:u,delta:n,dist:r}))}var zo={name:"roundable",props:{roundable:Boolean,roundRelative:Boolean},events:{onRoundStart:"roundStart",onRound:"round",onRoundEnd:"roundEnd"},css:[".control.border-radius {\n    background: #d66;\n    cursor: pointer;\n}",":host[data-able-roundable] .line.direction {\n    cursor: pointer;\n}"],render:function(t,e){var r=t.state,n=r.target,i=r.width,a=r.height,o=r.matrix,s=r.is3d,u=r.left,c=r.top,l=r.borderRadiusState;if(!n)return null;var p=s?4:3,f=Ro(n,i,a,l);return f?f.map((function(t,r){var n=wr(pn(o,t.pos,p),[u,c]);return e.createElement("div",{key:"borderRadiusControl"+r,className:$r("control","border-radius"),"data-radius-index":r,style:{transform:"translate("+n[0]+"px, "+n[1]+"px)"}})})):null},dragControlCondition:function(t){if(!t.inputEvent||t.isRequest)return!1;var e=t.inputEvent.target.className||"";return e.indexOf("border-radius")>-1||e.indexOf("moveable-line")>-1&&e.indexOf("moveable-direction")>-1},dragControlStart:function(t,e){var r=e.inputEvent,n=e.datas,i=r.target,a=i.className||"",o=a.indexOf("border-radius")>-1,s=a.indexOf("moveable-line")>-1&&a.indexOf("moveable-direction")>-1,u=o?parseInt(i.getAttribute("data-radius-index"),10):-1,c=s?parseInt(i.getAttribute("data-line-index"),10):-1;if(!o&&!s)return!1;var l=jn(t,"onRoundStart",Nn(t,e,{}));if(!1===l)return!1;n.lineIndex=c,n.controlIndex=u,n.isControl=o,n.isLine=s,_r(t,e);var p=t.props.roundRelative,f=t.state,d=f.target,h=f.width,v=f.height;n.isRound=!0,n.prevDist=[0,0];var g=Ro(d,h,v)||[];return n.controlPoses=g,f.borderRadiusState=po(g.map((function(t){return t.pos})),g,p,h,v).styles.join(" "),!0},dragControl:function(t,e){var r=e.datas;if(!r.isRound||!r.isControl||!r.controlPoses.length)return!1;var n=r.controlIndex,i=r.controlPoses,a=i.map((function(t){return t.pos.slice()})),o=Gr(e),s=o[0],u=o[1],c=[s,u],l=wr(c,r.prevDist);return ni(i,a,n,s,u),r.prevDist=[s,u],Po(t,e,c,l,i,a),!0},dragControlEnd:function(t,e){var r=t.state;r.borderRadiusState="";var n=e.datas,i=e.isDouble;if(!n.isRound)return!1;var a=r.width,o=r.height,s=n.isControl,u=n.controlIndex,c=n.isLine,l=n.lineIndex,p=n.controlPoses,f=p.map((function(t){return t.pos})),d=f.length;if(i){if(s)vo(p,f,u,0);else if(c){var h=ii(t,e),v=h[0],g=h[1];Oo(p,f,l,v,g,a,o)}d!==p.length&&Po(t,e,[0,0],[0,0],p,f),jn(t,"onRoundEnd",In(t,e,{}))}return r.borderRadiusState="",!0},unset:function(t){t.state.borderRadiusState=""}},Bo={name:"groupable",props:{defaultGroupRotate:Number,defaultGroupOrigin:String,groupable:Boolean},events:{},render:function(t,e){var r=t.props.targets||[];t.moveables=[];var n=t.state,i=n.left,a=n.top,o={left:i,top:a};return r.map((function(r,n){return e.createElement(Yo,{key:"moveable"+n,ref:h(t,"moveables",n),target:r,origin:!1,parentMoveable:t,parentPosition:o})}))}},Ao=[no,Pa,fi,za,Ia,Xa,Ya,Fa,ro,Qa,io,to,Co,Do,zo,Bo],_o=Ao.reduce((function(t,e){return Fe({},t,e.events)}),{}),Go=Ao.reduce((function(t,e){return Fe({},t,e.props)}),{}),To=bi(_o),No=Object.keys(To),Io=Object.keys(Go),jo={};Ao.forEach((function(t){var e=t.css;e&&e.forEach((function(t){jo[t]=!0}))}));var ko=Object.keys(jo).join("\n"),Lo=ge("div",f(Je,Qe+ko));function Xo(t,e,r,n){var i=vr(e,r),a=t?Bn(i/Math.PI*180,15)%180:-1;return ft("div",{key:"line"+n,className:$r("line","direction",t),"data-rotation":a,"data-line-index":n,"data-direction":t,style:yn(e,r,i)})}var Yo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={container:null,target:null,beforeMatrix:Kr(),matrix:Kr(),targetMatrix:Kr(),offsetMatrix:Kr(),targetTransform:"",is3d:!1,left:0,top:0,width:0,height:0,transformOrigin:[0,0],direction:1,beforeDirection:1,beforeOrigin:[0,0],origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],renderPoses:[[0,0],[0,0],[0,0],[0,0]],targetClientRect:Dn(),containerClientRect:Dn(),moveableClientRect:Dn(),rotation:0},e.targetAbles=[],e.controlAbles=[],e.rotation=0,e.scale=[1,1],e.isUnmounted=!1,e}He(e,t);var r=e.prototype;return r.render=function(){var t=this.props,e=this.state,r=t.edge,n=t.parentPosition,i=t.className,a=t.target,o=t.zoom,s=t.cspNonce;this.checkUpdate(),this.updateRenderPoses();var u=n||{left:0,top:0},c=u.left,l=u.top,p=e.left,f=e.top,h=e.target,v=e.direction,g=e.renderPoses,m=t.targets,b=(m&&m.length||a)&&h,y=this.isDragging(),x={};return this.getEnabledAbles().forEach((function(t){x["data-able-"+t.name.toLowerCase()]=!0})),ft(Lo,Fe({cspNonce:s,ref:d(this,"controlBox"),className:$r("control-box",-1===v?"reverse":"",y?"dragging":"")+" "+i},x,{style:{position:"absolute",display:b?"block":"none",transform:"translate("+(p-c)+"px, "+(f-l)+"px) translateZ(50px)","--zoom":o,"--zoompx":o+"px"}}),this.renderAbles(),Xo(r?"n":"",g[0],g[1],0),Xo(r?"e":"",g[1],g[3],1),Xo(r?"w":"",g[0],g[2],2),Xo(r?"s":"",g[2],g[3],3))},r.componentDidMount=function(){this.controlBox.getElement();var t=this.props,e=t.parentMoveable,r=t.container;this.updateEvent(t),r||e||this.updateRect("End",!1,!0),this.updateCheckInput()},r.componentDidUpdate=function(t){this.updateEvent(t),this.updateCheckInput()},r.componentWillUnmount=function(){this.isUnmounted=!0,_n(this,"targetDragger"),_n(this,"controlDragger")},r.getContainer=function(){var t=this.props,e=t.parentMoveable,r=t.container;return r||e&&e.getContainer()||this.controlBox.getElement().parentElement},r.isMoveableElement=function(t){return t&&(t.getAttribute("class")||"").indexOf(Je)>-1},r.dragStart=function(t){return this.targetDragger&&this.targetDragger.triggerDragStart(t),this},r.hitTest=function(t){var e;if(t instanceof Element){var r=t.getBoundingClientRect();e={left:r.left,top:r.top,width:r.width,height:r.height}}else e=Fe({width:0,height:0},t);var n=this.state.targetClientRect,i=n.left,a=n.top,o=n.width,s=n.height,u=e.left,c=e.top,l=e.width,p=e.height,f=u+l,d=c+p,h=i+o,v=a+s,g=Math.max(i,u),m=Math.min(h,f),b=Math.max(a,c),y=Math.min(v,d);if(m<g||y<b)return 0;var x=(Math.min(h,f)-Math.max(u,i))*(Math.min(v,d)-Math.max(a,c));return Math.min(100,(m-g)*(y-b)/x*100)},r.isInside=function(t,e){var r=this.state,n=r.pos1,i=r.pos2,a=r.pos3,o=r.pos4,s=r.target,u=r.targetClientRect;if(!s)return!1;var c=u.left,l=u.top,p=[t-c,e-l];return Tn(p,n,i,a,o)},r.updateRect=function(t,e,r){void 0===r&&(r=!0);var n=this.props,i=n.parentMoveable,a=this.state,o=a.target||this.props.target,s=this.getContainer(),u=i?i.props.rootContainer:n.rootContainer;this.updateState(Mn(this.controlBox&&this.controlBox.getElement(),o,s,s,u||s,e?a:void 0),!i&&r)},r.updateEvent=function(t){var e=this.controlBox.getElement(),r=this.targetAbles.length,n=this.controlAbles.length,i=this.props,a=i.dragTarget||i.target,o=t.dragTarget||t.target,s=i.dragArea,u=t.dragArea,c=!s&&o!==a,l=!r&&this.targetDragger||c||u!==s;l&&(_n(this,"targetDragger"),this.updateState({dragger:null})),n||_n(this,"controlDragger"),a&&r&&!this.targetDragger&&(this.targetDragger=li(this,a,"")),!this.controlDragger&&n&&(this.controlDragger=pi(this,e,"controlAbles","Control")),l&&this.unsetAbles()},r.isDragging=function(){return!!this.targetDragger&&this.targetDragger.isFlag()||!!this.controlDragger&&this.controlDragger.isFlag()},r.updateTarget=function(t){this.updateRect(t,!0)},r.getRect=function(){var t=this.state,e=Pn(this.state),r=e[0],n=e[1],i=e[2],a=e[3],o=dn(e),s=t.width,u=t.height,c=o.width,l=o.height,p=o.left,f=o.top,d=[t.left,t.top],h=Er(d,t.origin),v=Er(d,t.beforeOrigin),g=t.transformOrigin;return{width:c,height:l,left:p,top:f,pos1:r,pos2:n,pos3:i,pos4:a,offsetWidth:s,offsetHeight:u,beforeOrigin:v,origin:h,transformOrigin:g,rotation:this.getRotation()}},r.getRotation=function(){var t=this.state,e=t.pos1,r=t.pos2,n=t.direction,i=vr(e,r)/Math.PI*180;return i=n>=0?i:180-i,i=i>=0?i:360+i,i},r.request=function(t,e,r){void 0===e&&(e={});var n=this.props,i=n.ables,a=n.groupable,o=i.filter((function(e){return e.name===t}))[0];if(this.isDragging()||!o||!o.request)return{request:function(){return this},requestEnd:function(){return this}};var s=this,u=o.request(this),c=r||e.isInstant,l=u.isControl?"controlAbles":"targetAbles",p=(a?"Group":"")+(u.isControl?"Control":""),f={request:function(e){return ci(s,l,"drag",p,"",Fe({},u.request(e),{requestAble:t,isRequest:!0}),c),this},requestEnd:function(){return ci(s,l,"drag",p,"End",Fe({},u.requestEnd(),{requestAble:t,isRequest:!0}),c),this}};return ci(s,l,"drag",p,"Start",Fe({},u.requestStart(e),{requestAble:t,isRequest:!0}),c),c?f.request(e).requestEnd():f},r.destroy=function(){this.componentWillUnmount()},r.updateRenderPoses=function(){var t=this.state,e=this.props,r=t.beforeOrigin,n=t.transformOrigin,i=t.matrix,a=t.is3d,o=t.pos1,s=t.pos2,u=t.pos3,c=t.pos4,l=t.left,p=t.top,f=e.padding||{},d=f.left,h=void 0===d?0:d,v=f.top,g=void 0===v?0:v,m=f.bottom,b=void 0===m?0:m,y=f.right,x=void 0===y?0:y,S=a?4:3,E=e.groupable?r:Er(r,[l,p]);t.renderPoses=[Er(o,Jn(i,[-h,-g],n,E,S)),Er(s,Jn(i,[x,-g],n,E,S)),Er(u,Jn(i,[-h,b],n,E,S)),Er(c,Jn(i,[x,b],n,E,S))]},r.checkUpdate=function(){var t=this.props,e=t.target,r=t.container,n=t.parentMoveable,i=this.state,a=i.target,o=i.container;if(a||e){this.updateAbles();var s=!qn(a,e)||!qn(o,r);s&&(this.updateState({target:e,container:r}),n||!r&&!this.controlBox||this.updateRect("End",!1,!1))}},r.triggerEvent=function(t,e){var r=this.props[t];return r&&r(e)},r.unsetAbles=function(){var t=this;this.targetAbles.filter((function(e){return!!e.unset&&(e.unset(t),!0)})).length&&this.forceUpdate()},r.updateAbles=function(t,e){void 0===t&&(t=this.props.ables),void 0===e&&(e="");var r=this.props,n=r.triggerAblesSimultaneously,i=t.filter((function(t){return t&&r[t.name]})),a="drag"+e+"Start",o="pinch"+e+"Start",s="drag"+e+"ControlStart",u=Ln(i,[a,o],n),c=Ln(i,[s],n);this.targetAbles=u,this.controlAbles=c},r.updateState=function(t,e){if(e)this.setState(t);else{var r=this.state;for(var n in t)r[n]=t[n]}},r.getEnabledAbles=function(){var t=this.props,e=t.ables;return e.filter((function(e){return e&&t[e.name]}))},r.renderAbles=function(){var t=this,e=this.props,r=e.triggerAblesSimultaneously,n={createElement:ft};return Fn(Vn(Ln(this.getEnabledAbles(),["render"],r).map((function(e){var r=e.render;return r(t,n)||[]}))).filter((function(t){return t})),(function(t){var e=t.key;return e})).map((function(t){return t[0]}))},r.updateCheckInput=function(){this.targetDragger&&(this.targetDragger.options.checkInput=this.props.checkInput)},e.defaultProps={target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,edge:!1,parentMoveable:null,parentPosition:null,ables:[],pinchThreshold:20,dragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,groupable:!1,cspNonce:""},e}(Ct);function qo(t,e){return Math.max.apply(Math,t.map((function(t){var r=t[0],n=t[1],i=t[2],a=t[3];return Math.max(r[e],n[e],i[e],a[e])})))}function Wo(t,e){return Math.min.apply(Math,t.map((function(t){var r=t[0],n=t[1],i=t[2],a=t[3];return Math.min(r[e],n[e],i[e],a[e])})))}function Ho(t,e){if(!t.length)return[0,0,0,0];var r=t.map((function(t){var e=t.state;return Pn(e)})),n=nr,i=nr,a=0,o=0,s=Bn(e,er);if(s%90){var u=e/180*Math.PI,c=Math.tan(u),l=-1/c,p=[ir,nr],f=[ir,nr];r.forEach((function(t){t.forEach((function(t){var e=t[1]-c*t[0],r=t[1]-l*t[0];p[0]=Math.max(p[0],e),p[1]=Math.min(p[1],e),f[0]=Math.max(f[0],r),f[1]=Math.min(f[1],r)}))})),p.forEach((function(t){f.forEach((function(e){var r=(e-t)/(c-l),a=c*r+t;n=Math.min(n,r),i=Math.min(i,a)}))}));var d=r.map((function(t){var e=t[0],r=t[1],n=t[2],i=t[3];return[Or(e,-u),Or(r,-u),Or(n,-u),Or(i,-u)]}));a=qo(d,0)-Wo(d,0),o=qo(d,1)-Wo(d,1)}else if(n=Wo(r,0),i=Wo(r,1),a=qo(r,0)-n,o=qo(r,1)-i,s%180){var h=a;a=o,o=h}return[n,i,a,o]}var Fo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.differ=new qe,e.moveables=[],e.transformOrigin="50% 50%",e}He(e,t);var r=e.prototype;return r.updateEvent=function(t){var e=this.state,r=this.props;e.target||(e.target=this.areaElement,this.controlBox.getElement().style.display="block",this.targetDragger=li(this,e.target,"Group"),this.controlDragger=pi(this,this.controlBox.getElement(),"controlAbles","GroupControl"));var n=!qn(t.container,r.container);n&&(e.container=r.container);var i=this.differ.update(r.targets),a=i.added,o=i.changed,s=i.removed;(n||a.length||o.length||s.length)&&this.updateRect()},r.checkUpdate=function(){this.updateAbles()},r.updateRect=function(t,e,r){var n;if(void 0===r&&(r=!0),this.controlBox){this.moveables.forEach((function(e){e.updateRect(t,!1,!1)}));var i=this.state,a=this.props,o=i.target||a.target;(!e||""!==t&&a.updateGroup)&&(this.rotation=a.defaultGroupRotate,this.transformOrigin=a.defaultGroupOrigin||"50% 50%",this.scale=[1,1]);var s=this.rotation,u=this.scale,c=Ho(this.moveables,s),l=c[0],p=c[1],f=c[2],d=c[3];o.style.cssText+="left:0px;top:0px; transform-origin: "+this.transformOrigin+"; width:"+f+"px; height:"+d+"px;transform:rotate("+s+"deg) scale("+(u[0]>=0?1:-1)+", "+(u[1]>=0?1:-1)+")",i.width=f,i.height=d;var h=this.getContainer(),v=Mn(this.controlBox.getElement(),o,this.controlBox.getElement(),this.getContainer(),this.props.rootContainer||h,i),g=[v.left,v.top];n=Pn(v),v.pos1=n[0],v.pos2=n[1],v.pos3=n[2],v.pos4=n[3],v.origin=Er(g,v.origin),v.beforeOrigin=Er(g,v.beforeOrigin);var m=v.targetClientRect;m.top+=p-v.top-i.top,m.left+=l-v.left-i.left;var b=u[0]*u[1]>0?1:-1;this.updateState(Fe({},v,{direction:b,beforeDirection:b,left:l-v.left,top:p-v.top}),r)}},r.triggerEvent=function(e,r){if(e.indexOf("Group")>-1)return t.prototype.triggerEvent.call(this,e,r)},r.updateAbles=function(){t.prototype.updateAbles.call(this,this.props.ables.concat([Bo]),"Group")},e.defaultProps=Fe({},Yo.defaultProps,{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),e}(Yo),Vo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}He(e,t);var r=e.prototype;return r.render=function(){var t=this.props,e=t.ables||[],r=this.props.target||this.props.targets,n=G(r),i=n&&r.length>1;if(i){var a=Fe({},this.props,{target:null,targets:r,ables:Ao.concat([Bo],e)});return ft(Fo,Fe({key:"group",ref:d(this,"moveable")},a))}var o=n?r[0]:r;return ft(Yo,Fe({key:"single",ref:d(this,"moveable")},Fe({},this.props,{target:o,ables:Ao.concat(e)})))},Ve([g(ur)],e.prototype,"moveable"),e}(Ct),Uo=Vo,$o=function(t,e){return $o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},$o(t,e)};function Ko(t,e){function r(){this.constructor=t}$o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Zo=function(){return Zo=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Zo.apply(this,arguments)};function Jo(t,e,r,n){var i,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,r,o):i(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o}var Qo=function(t){function e(e){var r=t.call(this,e)||this;return r.state={},r.state=r.props,r}Ko(e,t);var r=e.prototype;return r.render=function(){return Gt(ft(Uo,Zo({ref:d(this,"moveable")},this.state)),this.state.parentElement)},e}(Dt),ts=Io,es=ur,rs=No,ns=function(t){function e(e,r){void 0===r&&(r={});var n=t.call(this)||this;n.tempElement=document.createElement("div");var i=Zo({container:e},r),a={};rs.forEach((function(t){a[q("on "+t)]=function(e){return n.trigger(t,e)}})),_t(ft(Qo,Zo({ref:d(n,"innerMoveable"),parentElement:e},i,a)),n.tempElement);var o=i.target;return G(o)&&o.length>1&&n.updateRect(),n}Ko(e,t);var r=e.prototype;return r.setState=function(t,e){this.innerMoveable.setState(t,e)},r.destroy=function(){_t(null,this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},r.getMoveable=function(){return this.innerMoveable.moveable},e=Jo([v(es,(function(t,e){t[e]||(t[e]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this.getMoveable();if(n&&n[e])return n[e].apply(n,t)})})),v(ts,(function(t,e){Object.defineProperty(t,e,{get:function(){return this.getMoveable().props[e]},set:function(t){var r;this.setState((r={},r[e]=t,r))},enumerable:!0,configurable:!0})}))],e),e}(l),is=ns;function as(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function os(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?as(Object(r),!0).forEach((function(e){ss(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):as(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ss(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var us=function(t,e){return{handler:function(e){var r=this.moveable[t];r!==e&&(this.moveable[t]=e)},deep:e}},cs=function(){return ts.reduce((function(t,e){return t[e]=us(e,!0),t}),{})},ls={};es.forEach((function(t){ls[t]=function(){var e;return(e=this.moveable)[t].apply(e,arguments)}}));var ps={name:"Moveable",inheritAttrs:!1,props:{roundable:Boolean,roundRelative:Boolean,originDraggable:Boolean,originRelative:Boolean,clippable:Boolean,customClipPath:String,defaultClipPath:String,clipRelative:Boolean,dragWithClip:Boolean,clipArea:Boolean,defaultGroupOrigin:String,cspNonce:String,checkInput:Boolean,groupable:Boolean,snappable:[Boolean,Array],snapCenter:Boolean,snapHorizontal:Boolean,snapVertical:Boolean,snapElement:Boolean,snapGap:Boolean,snapThreshold:Number,snapDigit:Number,isDisplaySnapDigit:Boolean,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,innerBounds:Object,snapDistFormat:Function,defaultGroupRotate:Number,scrollable:Boolean,scrollContainer:[HTMLElement,SVGElement],scrollThreshold:Number,getScrollPosition:Function,warpable:Boolean,renderDirections:Array,rotatable:Boolean,rotationPosition:String,throttleRotate:Number,pinchable:[Boolean,Array],scalable:Boolean,throttleScale:Number,keepRatio:Boolean,resizable:Boolean,throttleResize:Number,baseDirection:Array,draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number,startDragRotate:Number,dragTarget:[HTMLElement,SVGElement],container:{type:[HTMLElement,SVGElement],default:function(){return document.body}},rootContainer:HTMLElement,dragArea:Boolean,origin:Boolean,zoom:Number,transformOrigin:[Array,String],edge:Boolean,ables:Array,className:String,pinchThreshold:Number,pinchOutside:Boolean,triggerAblesSimultaneously:Boolean,padding:Object},methods:ls,mounted:function(){var t=this;this.moveable=new is(this.$props.container,os(os({},this.$props),{},{target:this.$el})),rs.forEach((function(e){var r=e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase();t.moveable.on(e,t.$emit.bind(t,r)),t.moveable.on(e,t.$emit.bind(t,e))})),window.addEventListener("resize",this.updateRect,{passive:!0})},watch:os({},cs()),beforeDestroy:function(){window.removeEventListener("resize",this.updateRect),this.moveable.destroy()}},fs=ps;function ds(t,e,r,n,i,a,o,s){var u,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=r,c._compiled=!0),n&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),o?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=u):i&&(u=s?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),u)if(c.functional){c._injectStyles=u;var l=c.render;c.render=function(t,e){return u.call(e),l(t,e)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,u):[u]}return{exports:t,options:c}}var hs=ds(fs,o,s,!1,null,null,null),vs=hs.exports;e["default"]=vs}})["default"]},a640:function(t,e,r){"use strict";var n=r("d039");t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){throw 1},1)}))}},dc59:function(t,e,r){"use strict";r.d(e,"b",(function(){return s})),r.d(e,"a",(function(){return u}));var n=r("cc84"),i="firebase",a="8.1.1";
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
n["a"].registerVersion(i,a,"app");r("2e66"),r("e71f");var o={apiKey:"AIzaSyD77qeEEgwUNEAj6XDaOLZGM8YJh29q2PA",authDomain:"fyeesh.firebaseapp.com",databaseURL:"https://fyeesh.firebaseio.com",projectId:"fyeesh",storageBucket:"fyeesh.appspot.com",messagingSenderId:"167708075968",appId:"1:167708075968:web:7b487c33ee10ec616fca25",measurementId:"G-LGEWZSYSGG"};n["a"].initializeApp(o);var s=n["a"].firestore(),u=n["a"].storage()},e3f7:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("html",{attrs:{lang:"en"}},[n("body",{ref:"body"},[n("div",{ref:"0",staticClass:"pinicon"},[n("Moveable",t._b({ref:"0",on:{drag:t.handleDrag,dragEnd:t.handleDragEnd}},"Moveable",t.threads[0],!1),[n("div",{attrs:{id:"0"}}),n("img",{staticStyle:{width:"30px"},attrs:{src:r("62e4")}}),n("p",{staticStyle:{color:"black","margin-top":"0px"},on:{click:function(e){return e.stopPropagation(),t.view(t.threads[0].pinid)}}},[t._v(" view #0 ")])])],1),n("div",{ref:"1",staticClass:"pinicon"},[n("Moveable",t._b({ref:"1",on:{drag:t.handleDrag,dragEnd:t.handleDragEnd}},"Moveable",t.threads[1],!1),[n("div",{attrs:{id:"1"}}),n("img",{staticStyle:{width:"30px"},attrs:{src:r("62e4")}}),n("p",{staticStyle:{color:"black","margin-top":"0px"},on:{click:function(e){return e.stopPropagation(),t.view(t.threads[1].pinid)}}},[t._v(" view #1 ")])])],1),n("div",{ref:"2",staticClass:"pinicon"},[n("Moveable",t._b({ref:"2",on:{drag:t.handleDrag,dragEnd:t.handleDragEnd}},"Moveable",t.threads[2],!1),[n("div",{attrs:{id:"2"}}),n("img",{staticStyle:{width:"30px"},attrs:{src:r("62e4")}}),n("p",{staticStyle:{color:"black","margin-top":"0px"},on:{click:function(e){return e.stopPropagation(),t.view(t.threads[2].pinid)}}},[t._v(" view #2 ")])])],1),n("div",{staticClass:"content_project",staticStyle:{"padding-top":"5px"},attrs:{align:"center"}},[t._m(0),n("img",{staticStyle:{width:"480px","margin-top":"10px","margin-bottom":"20px"},attrs:{src:t.projData.sheet_music_url,title:"music sheet"}}),n("ul",{staticClass:"menubar",staticStyle:{"margin-bottom":"20px"}},[n("li",[n("router-link",{staticClass:"button",attrs:{to:{path:"/annotate",query:{userId:t.$route.query.userId,projName:t.$route.query.projName}},tag:"button"}},[n("img",{attrs:{src:r("767e"),title:"add annotations",width:"100px"}})])],1),n("li",[n("router-link",{staticClass:"button",attrs:{to:{path:"/all_threads",query:{userId:t.$route.query.userId,projName:t.$route.query.projName}},tag:"button"}},[n("img",{attrs:{src:r("5e54"),title:"view announcements",width:"100px"}})])],1),n("li",[n("router-link",{staticClass:"button",attrs:{to:{path:"/dictionary",query:{userId:t.$route.query.userId,projName:t.$route.query.projName}},tag:"button"}},[n("img",{attrs:{src:r("7b93"),title:"open music dictionary",width:"100px"}})])],1)]),n("router-link",{staticClass:"mini_button",staticStyle:{height:"40px",width:"100px","text-align":"center"},attrs:{to:{path:"/project_main",query:{userId:t.$route.query.userId,projName:t.$route.query.projName}},tag:"button"}},[t._v("Back")])],1)])])},i=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[r("b",[t._v("📌 Movable Pins!")]),r("br"),t._v(" Move your pin around by dragging on the pin image."),r("br"),t._v(' View the connected comment thread by clicking the "view" text. ')])}],a=(r("4160"),r("159b"),r("dc59"),r("9e77")),o=r.n(a),s=(r("76b4"),firebase.firestore().collection("projects")),u=firebase.firestore().collection("threads"),c={components:{Moveable:o.a},data:function(){return{projData:{sheet_music_url:"",threads:[]},threads:[]}},created:function(){var t=this,e=this.$route.query.projName;s.doc(e).get().then((function(e){if(e.exists){var r=e.data();t.projData=r,console.log(t.projData.sheet_music_url),r.threads.forEach((function(e){u.doc(e).get().then((function(e){var r=e.data();t.threads.push({pinid:r.pinid,draggable:!0,throttleDrag:0,clientX:r.clientX,clientY:r.clientY}),console.log("d.pinid: ",r),t.$refs[r.pinid].style.left=r.clientX+"px",t.$refs[r.pinid].style.top=r.clientY+"px"}))["catch"]((function(t){console.log("Error retrieving pin info: ",t)}))}))}else window.alert("hing")}))["catch"]((function(t){console.log("Error retrieving user info: ",t)}))},methods:{handleDrag:function(t){var e=t.target,r=t.transform;e.style.transform=r},handleDragEnd:function(t){var e=t.target,r=(t.isDrag,t.clientX),n=t.clientY,i=(this.$route.query.projName,this.$route.query.projName+e.childNodes[0].getAttribute("id"));console.log("id of pin moved: ",i),u.doc(i).update({clientX:r-this.$refs["body"].getBoundingClientRect().left,clientY:n}).then((function(){console.log("Saving coordinates successful!")}))["catch"]((function(t){console.error("Error saving coordinates of pin: ",t)})),console.log("clientX, clientY: ",r,n)},view:function(t){var e=this.$route.query.userId,r=this.$route.query.projName;console.log("threadNum: ",t),this.$router.push({path:"/thread",query:{userId:e,projName:r,threadNo:t},params:{userId:e,projName:r,threadNo:t}})}}},l=c,p=r("2877"),f=Object(p["a"])(l,n,i,!1,null,null,null);e["default"]=f.exports},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=sheetmusic.7c66cef3.js.map