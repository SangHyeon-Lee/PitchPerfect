{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.date.to-string.js","webpack:///./src/views/Annotate.vue?3177","webpack:///src/views/Annotate.vue","webpack:///./src/views/Annotate.vue?91e3","webpack:///./src/views/Annotate.vue","webpack:///./src/assets/images/music_sheet.jpg","webpack:///./node_modules/firebase/app/dist/index.esm.js","webpack:///./src/firebase.js","webpack:///./src/views/Annotate.vue?bb20"],"names":["redefine","DatePrototype","Date","prototype","INVALID_DATE","TO_STRING","nativeDateToString","getTime","NaN","value","call","this","render","_vm","_h","$createElement","_c","_self","staticStyle","_v","ref","attrs","useDefaultUI","options","on","draw","onAddText","onObjectMoved","staticClass","retreat","exportImage","staticRenderFns","project_collection","firebase","firestore","collection","mySheetMusic","components","data","includeUI","loadImage","path","name","initMenu","menu","uiSize","width","height","menuBarPosition","usageStatistics","cssMaxWidth","projData","sheet_music_url","created","projName","$route","query","methods","console","log","group","res","clientPosition","originPosition","groupEnd","left","top","projectName","annotate","save","timestamp","doc","update","$router","go","component","module","exports","version","registerVersion","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","firestorage","storage"],"mappings":"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","file":"js/annotate.09a288a6.js","sourcesContent":["var redefine = require('../internals/redefine');\n\nvar DatePrototype = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar nativeDateToString = DatePrototype[TO_STRING];\nvar getTime = DatePrototype.getTime;\n\n// `Date.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-date.prototype.tostring\nif (new Date(NaN) + '' != INVALID_DATE) {\n  redefine(DatePrototype, TO_STRING, function toString() {\n    var value = getTime.call(this);\n    // eslint-disable-next-line no-self-compare\n    return value === value ? nativeDateToString.call(this) : INVALID_DATE;\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('body',[_c('h2',{staticStyle:{\"color\":\"white\"}},[_vm._v(\"üêüImage Editorüêü\")]),_c('tui-image-editor',{ref:\"tuiImageEditor\",staticStyle:{\"height\":\"1000px\",\"width\":\"500px\"},attrs:{\"include-ui\":_vm.useDefaultUI,\"options\":_vm.options},on:{\"mousedown\":_vm.draw,\"addText\":_vm.onAddText,\"objectMoved\":_vm.onObjectMoved}},[_vm._v(\" >\")]),_c('button',{staticClass:\"backbutton\",on:{\"click\":_vm.retreat}},[_vm._v(\"Back\")]),_c('button',{staticClass:\"button\",staticStyle:{\"background-color\":\"#f2c94c\"},on:{\"click\":_vm.exportImage}},[_vm._v(\" Save \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <body>\n    <h2 style=\"color:white\">üêüImage Editorüêü</h2>\n    <tui-image-editor\n      ref=\"tuiImageEditor\"\n      style=\"height: 1000px; width: 500px\"\n      :include-ui=\"useDefaultUI\"\n      :options=\"options\"\n      @mousedown=\"draw\"\n      @addText=\"onAddText\"\n      @objectMoved=\"onObjectMoved\"\n    >\n      ></tui-image-editor\n    >\n    <!-- <div ref=\"tuiImageEditor\" :include-ui=\"useDefaultUI\" :options=\"options\" style=\"width: 100%;height: 100%;\"></div> -->\n    <button class=\"backbutton\" v-on:click=\"retreat\">Back</button>\n    <button\n      class=\"button\"\n      style=\"background-color: #f2c94c\"\n      v-on:click=\"exportImage\"\n    >\n      Save\n    </button>\n  </body>\n</template>\n<script>\nimport { ImageEditor } from \"@toast-ui/vue-image-editor\";\nimport sheetMusic from \"../assets/images/music_sheet.jpg\";\nimport { firestore } from \"@/firebase\";\nvar project_collection = firebase.firestore().collection(\"projects\");\nvar mySheetMusic = \"\";\nexport default {\n  components: {\n    \"tui-image-editor\": ImageEditor\n  },\n  data() {\n    return {\n      useDefaultUI: true,\n      options: {\n        includeUI: {\n          loadImage: {\n            path: mySheetMusic,\n            name: \"sheetmusic\"\n          },\n          initMenu: \"draw\",\n          menu: [\"draw\", \"shape\", \"icon\", \"text\"],\n          uiSize: {\n            width: \"700px\",\n            height: \"650px\"\n          },\n          menuBarPosition: \"left\"\n        },\n        // for tui-image-editor component's \"options\" prop\n        usageStatistics: false,\n        cssMaxWidth: 500\n      },\n      projData: {\n        sheet_music_url: \"\"\n      }\n    };\n  },\n  created() {\n    // get sheet music from db\n    var projName = this.$route.query.projName;\n    project_collection\n      .doc(projName)\n      .get()\n      .then(doc => {\n        if (doc.exists) {\n          let ui = doc.data();\n          this.projData = ui;\n          console.log(this.projData.sheet_music_url);\n          mySheetMusic = this.projData.sheet_music_url;\n        } else {\n          window.alert(\"hing\");\n        }\n      })\n      .catch(function(error) {\n        console.log(\"Error retrieving user info: \", error);\n      });\n  },\n  methods: {\n    draw() {\n      console.log(\"hihih\");\n    },\n    onAddText(res) {\n      /* eslint-disable no-console */\n      console.group(\"addText\");\n      console.log(\"Client Position : \", res.clientPosition);\n      console.log(\"Origin Position : \", res.originPosition);\n      console.groupEnd();\n      /* eslint-enable no-console */\n    },\n    onObjectMoved(res) {\n      /* eslint-disable no-console */\n      console.group(\"objectMoved\");\n      console.log(\"Left : \", res.left);\n      console.log(\"Top : \", res.top);\n      console.groupEnd();\n      /* eslint-enable no-console */\n    },\n    exportImage() {\n      var projectName = this.$route.query.projName;\n      var annotate = project_collection\n        .doc(projectName)\n        .collection(\"annotated\");\n      const save = this.$refs.tuiImageEditor.invoke(\"toDataURL\");\n      console.log(save);\n      /* get timestamp */\n      const today = new Date();\n      const date =\n        today.getFullYear() +\n        \"-\" +\n        (today.getMonth() + 1) +\n        \"-\" +\n        today.getDate();\n      const time =\n        today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\n      const dateTime = date + \" \" + time;\n      const timestamp = dateTime;\n      console.log(timestamp);\n      annotate\n        .doc(timestamp)\n        .set({\n          url: save\n        })\n        .then(() => {\n          window.alert(\"saved!\");\n        })\n        .catch(function(error) {\n          console.error(\"Error yee : \", error);\n        });\n      project_collection.doc(projectName).update({\n        sheet_music_url: save\n      });\n      this.$router.go(-1);\n    },\n    retreat() {\n      if (\n        confirm(\n          \"Leaving the platform will not reflect your changes. Will you continue?\"\n        )\n      ) {\n        // Save it!\n        this.$router.go(-1);\n      }\n    }\n  }\n};\n</script>\n<style scoped>\nbody {\n  background-color: #1e1e1e;\n  width: 700px;\n  margin: auto;\n  min-height: 100%;\n  border-right: 1px solid #1e1e1e;\n  border-bottom: 1px solid #1e1e1e;\n  border-left: 1px solid #1e1e1e;\n  color: white;\n  font-family: \"Inter\", sans-serif;\n  font-weight: 300;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Annotate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Annotate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Annotate.vue?vue&type=template&id=5f2ea9c0&scoped=true&\"\nimport script from \"./Annotate.vue?vue&type=script&lang=js&\"\nexport * from \"./Annotate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Annotate.vue?vue&type=style&index=0&id=5f2ea9c0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f2ea9c0\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/music_sheet.ad0bab38.jpg\";","import firebase from '@firebase/app';\nexport { default } from '@firebase/app';\n\nvar name = \"firebase\";\nvar version = \"8.1.1\";\n\n/**\r\n * @license\r\n * Copyright 2018 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfirebase.registerVersion(name, version, 'app');\n//# sourceMappingURL=index.esm.js.map\n","import firebase from \"firebase/app\";\nimport \"firebase/storage\";\nimport \"firebase/firestore\";\n\n// firebase init\nconst firebaseConfig = {\n  apiKey: \"AIzaSyD77qeEEgwUNEAj6XDaOLZGM8YJh29q2PA\",\n  authDomain: \"fyeesh.firebaseapp.com\",\n  databaseURL: \"https://fyeesh.firebaseio.com\",\n  projectId: \"fyeesh\",\n  storageBucket: \"fyeesh.appspot.com\",\n  messagingSenderId: \"167708075968\",\n  appId: \"1:167708075968:web:7b487c33ee10ec616fca25\",\n  measurementId: \"G-LGEWZSYSGG\"\n};\nfirebase.initializeApp(firebaseConfig);\n\n// utils\nconst firestore = firebase.firestore();\nconst firestorage = firebase.storage();\n\n// export utils/refs\nexport { firestore, firestorage };\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Annotate.vue?vue&type=style&index=0&id=5f2ea9c0&scoped=true&lang=css&\""],"sourceRoot":""}