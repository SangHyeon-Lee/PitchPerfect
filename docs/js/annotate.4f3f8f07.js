(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["annotate"],{"0d03":function(e,t,o){var i=o("6eeb"),n=Date.prototype,a="Invalid Date",r="toString",c=n[r],s=n.getTime;new Date(NaN)+""!=a&&i(n,r,(function(){var e=s.call(this);return e===e?c.call(this):a}))},"48ae":function(e,t,o){},"5ae4":function(e,t,o){"use strict";o("48ae")},"7a62":function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("body",[o("h2",{staticStyle:{color:"white"}},[e._v("🐟Image Editor🐟")]),o("tui-image-editor",{ref:"tuiImageEditor",staticStyle:{height:"1000px",width:"500px"},attrs:{"include-ui":e.useDefaultUI,options:e.options},on:{mousedown:e.draw,addText:e.onAddText,objectMoved:e.onObjectMoved}},[e._v(" >")]),o("button",{staticClass:"backbutton",on:{click:e.retreat}},[e._v("Back")]),o("button",{staticClass:"button",staticStyle:{"background-color":"#f2c94c"},on:{click:e.exportImage}},[e._v(" Save ")])],1)},n=[],a=(o("0d03"),o("feca")),r=(o("a55c"),o("dc59"),firebase.firestore().collection("annotated")),c=firebase.firestore().collection("projects"),s="",u={components:{"tui-image-editor":a["ImageEditor"]},data:function(){return{useDefaultUI:!0,options:{includeUI:{loadImage:{path:s,name:"sheetmusic"},initMenu:"draw",menu:["draw","shape","icon","text"],uiSize:{width:"700px",height:"650px"},menuBarPosition:"left"},usageStatistics:!1,cssMaxWidth:500},projData:{sheet_music_url:""}}},created:function(){var e=this,t=this.$route.query.projName;console.log("fighting"),c.doc(t).get().then((function(t){if(t.exists){var o=t.data();e.projData=o,s=e.projData.sheet_music_url}else window.alert("hing")}))["catch"]((function(e){console.log("Error retrieving user info: ",e)}))},methods:{draw:function(){console.log("hihih")},onAddText:function(e){console.group("addText"),console.log("Client Position : ",e.clientPosition),console.log("Origin Position : ",e.originPosition),console.groupEnd()},onObjectMoved:function(e){console.group("objectMoved"),console.log("Left : ",e.left),console.log("Top : ",e.top),console.groupEnd()},exportImage:function(){var e=this.$route.query.projName,t=this.$refs.tuiImageEditor.invoke("toDataURL");console.log(t);var o=new Date,i=o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate(),n=o.getHours()+":"+o.getMinutes()+":"+o.getSeconds(),a=i+" "+n,s=a;console.log(s),r.doc(e).update({timestamp:firebase.firestore.FieldValue.arrayUnion(s)}).then((function(){window.alert("saved!")}))["catch"]((function(e){console.error("Error yee : ",e)})),c.doc(e).update({sheet_music_url:t}),this.$router.go(-1)},retreat:function(){confirm("Leaving the platform will not reflect your changes. Will you continue?")&&this.$router.go(-1)}}},l=u,d=(o("5ae4"),o("2877")),f=Object(d["a"])(l,i,n,!1,null,"07447821",null);t["default"]=f.exports},a55c:function(e,t,o){e.exports=o.p+"img/music_sheet.ad0bab38.jpg"},dc59:function(e,t,o){"use strict";o.d(t,"b",(function(){return c})),o.d(t,"a",(function(){return s}));var i=o("cc84"),n="firebase",a="8.1.1";
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
i["a"].registerVersion(n,a,"app");o("2e66"),o("e71f");var r={apiKey:"AIzaSyD77qeEEgwUNEAj6XDaOLZGM8YJh29q2PA",authDomain:"fyeesh.firebaseapp.com",databaseURL:"https://fyeesh.firebaseio.com",projectId:"fyeesh",storageBucket:"fyeesh.appspot.com",messagingSenderId:"167708075968",appId:"1:167708075968:web:7b487c33ee10ec616fca25",measurementId:"G-LGEWZSYSGG"};i["a"].initializeApp(r);var c=i["a"].firestore(),s=i["a"].storage()}}]);
//# sourceMappingURL=annotate.4f3f8f07.js.map