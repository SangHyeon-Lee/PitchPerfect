{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.date.to-string.js","webpack:///./src/views/Annotate.vue?a1fd","webpack:///src/views/Annotate.vue","webpack:///./src/views/Annotate.vue?91e3","webpack:///./src/views/Annotate.vue","webpack:///./src/views/Annotate.vue?eea8","webpack:///./src/assets/images/music_sheet.jpg","webpack:///./node_modules/firebase/app/dist/index.esm.js","webpack:///./src/firebase.js"],"names":["redefine","DatePrototype","Date","prototype","INVALID_DATE","TO_STRING","nativeDateToString","getTime","NaN","value","call","this","render","_vm","_h","$createElement","_c","_self","staticStyle","_v","ref","attrs","useDefaultUI","options","on","draw","onAddText","onObjectMoved","staticClass","retreat","exportImage","staticRenderFns","project_collection","firebase","firestore","collection","project_db","mySheetMusic","components","data","includeUI","loadImage","path","name","initMenu","menu","uiSize","width","height","menuBarPosition","usageStatistics","cssMaxWidth","projData","sheet_music_url","created","projName","$route","query","console","log","methods","group","res","clientPosition","originPosition","groupEnd","left","top","projectName","$router","go","component","module","exports","version","registerVersion","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","firestorage","storage"],"mappings":"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","file":"js/annotate.1766201b.js","sourcesContent":["var redefine = require('../internals/redefine');\n\nvar DatePrototype = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar nativeDateToString = DatePrototype[TO_STRING];\nvar getTime = DatePrototype.getTime;\n\n// `Date.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-date.prototype.tostring\nif (new Date(NaN) + '' != INVALID_DATE) {\n  redefine(DatePrototype, TO_STRING, function toString() {\n    var value = getTime.call(this);\n    // eslint-disable-next-line no-self-compare\n    return value === value ? nativeDateToString.call(this) : INVALID_DATE;\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('body',[_c('h2',{staticStyle:{\"color\":\"white\"}},[_vm._v(\"üêüImage Editorüêü\")]),_c('tui-image-editor',{ref:\"tuiImageEditor\",staticStyle:{\"height\":\"1000px\",\"width\":\"500px\"},attrs:{\"include-ui\":_vm.useDefaultUI,\"options\":_vm.options},on:{\"mousedown\":_vm.draw,\"addText\":_vm.onAddText,\"objectMoved\":_vm.onObjectMoved}},[_vm._v(\" >\")]),_c('button',{staticClass:\"backbutton\",on:{\"click\":_vm.retreat}},[_vm._v(\"Back\")]),_c('button',{staticClass:\"button\",staticStyle:{\"background-color\":\"#f2c94c\"},on:{\"click\":_vm.exportImage}},[_vm._v(\" Save \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <body>\r\n    <h2 style=\"color: white\">üêüImage Editorüêü</h2>\r\n    <tui-image-editor\r\n      ref=\"tuiImageEditor\"\r\n      style=\"height: 1000px; width: 500px\"\r\n      :include-ui=\"useDefaultUI\"\r\n      :options=\"options\"\r\n      @mousedown=\"draw\"\r\n      @addText=\"onAddText\"\r\n      @objectMoved=\"onObjectMoved\"\r\n    >\r\n      ></tui-image-editor\r\n    >\r\n    <!-- <div ref=\"tuiImageEditor\" :include-ui=\"useDefaultUI\" :options=\"options\" style=\"width: 100%;height: 100%;\"></div> -->\r\n    <button class=\"backbutton\" v-on:click=\"retreat\">Back</button>\r\n    <button\r\n      class=\"button\"\r\n      style=\"background-color: #f2c94c\"\r\n      v-on:click=\"exportImage\"\r\n    >\r\n      Save\r\n    </button>\r\n  </body>\r\n</template>\r\n<script>\r\nimport { ImageEditor } from \"@toast-ui/vue-image-editor\";\r\nimport sheetMusic from \"../assets/images/music_sheet.jpg\";\r\nimport { firestore } from \"@/firebase\";\r\nvar project_collection = firebase.firestore().collection(\"annotated\");\r\nvar project_db = firebase.firestore().collection(\"projects\");\r\nvar mySheetMusic = \"\";\r\nexport default {\r\n  components: {\r\n    \"tui-image-editor\": ImageEditor,\r\n  },\r\n  data() {\r\n    return {\r\n      useDefaultUI: true,\r\n      options: {\r\n        includeUI: {\r\n          loadImage: {\r\n            path: mySheetMusic,\r\n            name: \"sheetmusic\",\r\n          },\r\n          initMenu: \"draw\",\r\n          menu: [\"draw\", \"shape\", \"icon\", \"text\"],\r\n          uiSize: {\r\n            width: \"700px\",\r\n            height: \"650px\",\r\n          },\r\n          menuBarPosition: \"left\",\r\n        },\r\n        // for tui-image-editor component's \"options\" prop\r\n        usageStatistics: false,\r\n        cssMaxWidth: 500,\r\n      },\r\n      projData: {\r\n        sheet_music_url: \"\",\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    // get sheet music from db\r\n    var projName = this.$route.query.projName;\r\n    console.log(\"fighting\");\r\n    project_db\r\n      .doc(projName)\r\n      .get()\r\n      .then((doc) => {\r\n        if (doc.exists) {\r\n          let ui = doc.data();\r\n          this.projData = ui;\r\n          mySheetMusic = this.projData.sheet_music_url; //[this.projData.url.length - 1]\r\n        } else {\r\n          window.alert(\"hing\");\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"Error retrieving user info: \", error);\r\n      });\r\n  },\r\n  methods: {\r\n    draw() {\r\n      console.log(\"hihih\");\r\n    },\r\n    onAddText(res) {\r\n      /* eslint-disable no-console */\r\n      console.group(\"addText\");\r\n      console.log(\"Client Position : \", res.clientPosition);\r\n      console.log(\"Origin Position : \", res.originPosition);\r\n      console.groupEnd();\r\n      /* eslint-enable no-console */\r\n    },\r\n    onObjectMoved(res) {\r\n      /* eslint-disable no-console */\r\n      console.group(\"objectMoved\");\r\n      console.log(\"Left : \", res.left);\r\n      console.log(\"Top : \", res.top);\r\n      console.groupEnd();\r\n      /* eslint-enable no-console */\r\n    },\r\n    exportImage() {\r\n      var projectName = this.$route.query.projName;\r\n\r\n      const save = this.$refs.tuiImageEditor.invoke(\"toDataURL\");\r\n      \r\n      /* get timestamp */\r\n      const today = new Date();\r\n      const date =\r\n        today.getFullYear() +\r\n        \"-\" +\r\n        (today.getMonth() + 1) +\r\n        \"-\" +\r\n        today.getDate();\r\n      const time =\r\n        today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\r\n      const dateTime = date + \" \" + time;\r\n      const timestamp = dateTime;\r\n      \r\n      // memory hing sibal TT\r\n      project_collection\r\n        .doc(projectName)\r\n        .update({\r\n          // url: firebase.firestore.FieldValue.arrayUnion(save),\r\n          timestamp: firebase.firestore.FieldValue.arrayUnion(timestamp),\r\n        })\r\n        .then(() => {\r\n          window.alert(\"saved!\");\r\n        })\r\n        .catch(function (error) {\r\n          console.error(\"Error yee : \", error);\r\n        });\r\n      //projects db\r\n      project_db\r\n        .doc(projectName)\r\n        .update({\r\n          sheet_music_url: save,\r\n        })\r\n        .then(() => {\r\n          window.alert(\"saved!\");\r\n        })\r\n        .catch(function (error) {\r\n          console.error(\"Error yee : \", error);\r\n        });\r\n      this.$router.go(-1);\r\n    },\r\n    retreat() {\r\n      if (\r\n        confirm(\r\n          \"Leaving the platform will not reflect your changes. Will you continue?\"\r\n        )\r\n      ) {\r\n        // Save it!\r\n        this.$router.go(-1);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\nbody {\r\n  background-color: #1e1e1e;\r\n  width: 700px;\r\n  margin: auto;\r\n  min-height: 100%;\r\n  border-right: 1px solid #1e1e1e;\r\n  border-bottom: 1px solid #1e1e1e;\r\n  border-left: 1px solid #1e1e1e;\r\n  color: white;\r\n  font-family: \"Inter\", sans-serif;\r\n  font-weight: 300;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Annotate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Annotate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Annotate.vue?vue&type=template&id=6b527f88&scoped=true&\"\nimport script from \"./Annotate.vue?vue&type=script&lang=js&\"\nexport * from \"./Annotate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Annotate.vue?vue&type=style&index=0&id=6b527f88&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b527f88\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Annotate.vue?vue&type=style&index=0&id=6b527f88&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/music_sheet.ad0bab38.jpg\";","import firebase from '@firebase/app';\nexport { default } from '@firebase/app';\n\nvar name = \"firebase\";\nvar version = \"8.1.1\";\n\n/**\r\n * @license\r\n * Copyright 2018 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfirebase.registerVersion(name, version, 'app');\n//# sourceMappingURL=index.esm.js.map\n","import firebase from \"firebase/app\";\r\nimport \"firebase/storage\";\r\nimport \"firebase/firestore\";\r\n\r\n// firebase init\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyD77qeEEgwUNEAj6XDaOLZGM8YJh29q2PA\",\r\n  authDomain: \"fyeesh.firebaseapp.com\",\r\n  databaseURL: \"https://fyeesh.firebaseio.com\",\r\n  projectId: \"fyeesh\",\r\n  storageBucket: \"fyeesh.appspot.com\",\r\n  messagingSenderId: \"167708075968\",\r\n  appId: \"1:167708075968:web:7b487c33ee10ec616fca25\",\r\n  measurementId: \"G-LGEWZSYSGG\"\r\n};\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n// utils\r\nconst firestore = firebase.firestore();\r\nconst firestorage = firebase.storage();\r\n\r\n// export utils/refs\r\nexport { firestore, firestorage };\r\n"],"sourceRoot":""}